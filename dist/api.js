"use strict";(()=>{var aP=Object.create;var Bu=Object.defineProperty,cP=Object.defineProperties,uP=Object.getOwnPropertyDescriptor,lP=Object.getOwnPropertyDescriptors,fP=Object.getOwnPropertyNames,ju=Object.getOwnPropertySymbols,dP=Object.getPrototypeOf,Wp=Object.prototype.hasOwnProperty,fv=Object.prototype.propertyIsEnumerable;var lv=(e,t,r)=>t in e?Bu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d=(e,t)=>{for(var r in t||(t={}))Wp.call(t,r)&&lv(e,r,t[r]);if(ju)for(var r of ju(t))fv.call(t,r)&&lv(e,r,t[r]);return e},b=(e,t)=>cP(e,lP(t));var oo=(e,t)=>{var r={};for(var n in e)Wp.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&ju)for(var n of ju(e))t.indexOf(n)<0&&fv.call(e,n)&&(r[n]=e[n]);return r};var v=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Kp=(e,t)=>{for(var r in t)Bu(e,r,{get:t[r],enumerable:!0})},pP=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of fP(t))!Wp.call(e,o)&&o!==r&&Bu(e,o,{get:()=>t[o],enumerable:!(n=uP(t,o))||n.enumerable});return e};var Mr=(e,t,r)=>(r=e!=null?aP(dP(e)):{},pP(t||!e||!e.__esModule?Bu(r,"default",{value:e,enumerable:!0}):r,e));var P=(e,t,r)=>new Promise((n,o)=>{var s=c=>{try{a(r.next(c))}catch(u){o(u)}},i=c=>{try{a(r.throw(c))}catch(u){o(u)}},a=c=>c.done?n(c.value):Promise.resolve(c.value).then(s,i);a((r=r.apply(e,t)).next())});var vv=v((N7,Yp)=>{"use strict";var ns=typeof Reflect=="object"?Reflect:null,dv=ns&&typeof ns.apply=="function"?ns.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},Uu;ns&&typeof ns.ownKeys=="function"?Uu=ns.ownKeys:Object.getOwnPropertySymbols?Uu=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Uu=function(t){return Object.getOwnPropertyNames(t)};function mP(e){console&&console.warn&&console.warn(e)}var mv=Number.isNaN||function(t){return t!==t};function de(){de.init.call(this)}Yp.exports=de;Yp.exports.once=_P;de.EventEmitter=de;de.prototype._events=void 0;de.prototype._eventsCount=0;de.prototype._maxListeners=void 0;var pv=10;function Hu(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(de,"defaultMaxListeners",{enumerable:!0,get:function(){return pv},set:function(e){if(typeof e!="number"||e<0||mv(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");pv=e}});de.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};de.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||mv(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function hv(e){return e._maxListeners===void 0?de.defaultMaxListeners:e._maxListeners}de.prototype.getMaxListeners=function(){return hv(this)};de.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var o=t==="error",s=this._events;if(s!==void 0)o=o&&s.error===void 0;else if(!o)return!1;if(o){var i;if(r.length>0&&(i=r[0]),i instanceof Error)throw i;var a=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw a.context=i,a}var c=s[t];if(c===void 0)return!1;if(typeof c=="function")dv(c,this,r);else for(var u=c.length,l=Ev(c,u),n=0;n<u;++n)dv(l[n],this,r);return!0};function gv(e,t,r,n){var o,s,i;if(Hu(r),s=e._events,s===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),i=s[t]),i===void 0)i=s[t]=r,++e._eventsCount;else if(typeof i=="function"?i=s[t]=n?[r,i]:[i,r]:n?i.unshift(r):i.push(r),o=hv(e),o>0&&i.length>o&&!i.warned){i.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=i.length,mP(a)}return e}de.prototype.addListener=function(t,r){return gv(this,t,r,!1)};de.prototype.on=de.prototype.addListener;de.prototype.prependListener=function(t,r){return gv(this,t,r,!0)};function hP(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function yv(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=hP.bind(n);return o.listener=r,n.wrapFn=o,o}de.prototype.once=function(t,r){return Hu(r),this.on(t,yv(this,t,r)),this};de.prototype.prependOnceListener=function(t,r){return Hu(r),this.prependListener(t,yv(this,t,r)),this};de.prototype.removeListener=function(t,r){var n,o,s,i,a;if(Hu(r),o=this._events,o===void 0)return this;if(n=o[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete o[t],o.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(s=-1,i=n.length-1;i>=0;i--)if(n[i]===r||n[i].listener===r){a=n[i].listener,s=i;break}if(s<0)return this;s===0?n.shift():gP(n,s),n.length===1&&(o[t]=n[0]),o.removeListener!==void 0&&this.emit("removeListener",t,a||r)}return this};de.prototype.off=de.prototype.removeListener;de.prototype.removeAllListeners=function(t){var r,n,o;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var s=Object.keys(n),i;for(o=0;o<s.length;++o)i=s[o],i!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(o=r.length-1;o>=0;o--)this.removeListener(t,r[o]);return this};function _v(e,t,r){var n=e._events;if(n===void 0)return[];var o=n[t];return o===void 0?[]:typeof o=="function"?r?[o.listener||o]:[o]:r?yP(o):Ev(o,o.length)}de.prototype.listeners=function(t){return _v(this,t,!0)};de.prototype.rawListeners=function(t){return _v(this,t,!1)};de.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Sv.call(e,t)};de.prototype.listenerCount=Sv;function Sv(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}de.prototype.eventNames=function(){return this._eventsCount>0?Uu(this._events):[]};function Ev(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function gP(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function yP(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function _P(e,t){return new Promise(function(r,n){function o(i){e.removeListener(t,s),n(i)}function s(){typeof e.removeListener=="function"&&e.removeListener("error",o),r([].slice.call(arguments))}bv(e,t,s,{once:!0}),t!=="error"&&SP(e,o,{once:!0})})}function SP(e,t,r){typeof e.on=="function"&&bv(e,"error",t,r)}function bv(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function o(s){n.once&&e.removeEventListener(t,o),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}});var Iv=v(($7,EP)=>{EP.exports={name:"nodecg",version:"2.5.3",description:"Dynamic broadcast graphics rendered in a browser",keywords:["graphics","nodecg","node","dynamic","broadcast"],homepage:"https://nodecg.dev/",bugs:"https://github.com/nodecg/nodecg/issues",repository:{type:"git",url:"https://github.com/nodecg/nodecg.git"},license:"MIT",exports:{".":"./index.js","./types":{types:"./types/index.d.ts"},"./types/augment-window":{types:"./types/augment-window.d.ts"}},bin:{nodecg:"out/cli.mjs"},files:["dist","out","bundles/.empty_directory","db/.empty_directory","schemas","types","index.js"],scripts:{start:"node index.js",dev:"del-cli dist out && run-p dev:*","dev:client":"npm run build:client -- --watch","dev:tsc":"tsc -b src/server src/client test --watch --preserveWatchOutput","dev:copy-templates":'onchange "src/server/**/*.tmpl" -i -- cpy "src/server/**/*.tmpl" out/server',"dev:cli":"npm run build:cli -- --watch",test:"vitest",typetest:"cd typetest/fake-bundle && npm run build",lint:"npm-run-all -s lint:*","lint:prettier":"prettier --check .","lint:eslint":"eslint --cache",fix:"npm-run-all -s fix:*","fix:prettier":"prettier --write .","fix:eslint":"npm run lint:eslint -- --fix ",build:"del-cli dist out && run-s build:*","build:tsc":"tsc -b src/server src/client src/cli","build:client":"tsx scripts/build-client.ts","build:copy-templates":'cpy "src/server/**/*.tmpl" out/server',"build:cli":"esbuild src/cli/bin/nodecg.ts --bundle --format=esm --sourcemap --platform=node --target=node18 --outfile=out/cli.mjs --packages=external","generate-migrations":"cd src/server && typeorm-ts-node-commonjs migration:generate ./database/migration/rename-me -d ./database/datasource.ts"},dependencies:{"@inquirer/prompts":"^7.2.1","@nodecg/json-schema-defaults":"^1.0.4","@nodecg/json-schema-lib":"0.1.0","@polymer/app-layout":"^3.1.0","@polymer/app-route":"^3.0.2","@polymer/iron-collapse":"^3.0.1","@polymer/iron-flex-layout":"^3.0.1","@polymer/iron-icons":"^3.0.1","@polymer/iron-image":"^3.0.2","@polymer/iron-localstorage":"^3.0.1","@polymer/iron-pages":"^3.0.1","@polymer/iron-selector":"^3.0.1","@polymer/paper-button":"^3.0.1","@polymer/paper-card":"^3.0.1","@polymer/paper-dialog":"^3.0.1","@polymer/paper-dialog-behavior":"^3.0.1","@polymer/paper-dialog-scrollable":"^3.0.1","@polymer/paper-icon-button":"^3.0.2","@polymer/paper-item":"^3.0.1","@polymer/paper-slider":"^3.0.1","@polymer/paper-spinner":"^3.0.2","@polymer/paper-styles":"^3.0.1","@polymer/paper-tabs":"^3.1.0","@polymer/paper-toast":"^3.0.1","@polymer/paper-toolbar":"^3.0.1","@polymer/polymer":"^3.5.1","@sentry/browser":"^7.91.0","@sentry/node":"^7.91.0","@types/cookie-parser":"^1.4.6","@types/express-session":"^1.17.10","@types/multer":"^1.4.11","@types/node":"18","@types/passport":"^1.0.16","@types/soundjs":"^0.6.31","@vaadin/vaadin-upload":"^4.4.3","@webcomponents/webcomponentsjs":"^2.8.0",ajv:"^8.17.1","ajv-draft-04":"^1.0.0","ajv-formats":"^2.1.1","app-root-path":"^3.1.0","better-sqlite3":"^9.6.0","body-parser":"^1.20.2",chalk:"^5.4.1",cheerio:"1.0.0-rc.12",chokidar:"^4.0.3",clipboard:"^2.0.11",commander:"^13.0.0",compression:"^1.7.4","cookie-parser":"^1.4.6","cookies-js":"^1.2.3",cosmiconfig:"^8.3.6",draggabilly:"^2.4.1",events:"^3.3.0",express:"^4.18.2","express-session":"^1.17.3","express-transform-bare-module-specifiers":"^1.0.4",extend:"^3.0.2","fast-equals":"^5.0.1","fast-memoize":"^2.5.2","fp-ts":"^2.16.1","git-rev-sync":"^3.0.2",hasha:"^5.2.2","hosted-git-info":"^8.0.2",httpolyglot:"^0.1.2","iframe-resizer":"^4.3.9","io-ts":"^2.2.21","is-error":"^2.2.2","json-ptr":"^3.1.1","json-schema-to-typescript":"^15.0.3",klona:"^2.0.6",lodash:"^4.17.21",multer:"^1.4.5-lts.1","nano-spawn":"^0.2.0","npm-package-arg":"^12.0.1","object-path":"^0.11.8",packery:"^2.1.2",passport:"^0.6.0","passport-discord":"^0.1.4","passport-local":"^1.0.0","passport-steam":"^1.0.18","passport-twitch-helix":"^1.1.0",process:"^0.11.10",semver:"^7.6.3","serialize-error":"^8.1.0","session-file-store":"^1.5.0","socket.io":"^4.8.1","socket.io-client":"^4.8.1",soundjs:"^1.0.1",tar:"^7.4.3","ts-essentials":"^9.4.1",tslib:"^2.6.2",typeorm:"0.3.19",util:"^0.12.5",uuid:"^9.0.1",winston:"^3.11.0",yargs:"^15.4.1",zod:"^3.22.4"},devDependencies:{"@eslint/js":"^9.17.0","@types/app-root-path":"^1.2.8","@types/clone":"^2.1.4","@types/compression":"^1.7.5","@types/deep-equal":"^1.0.4","@types/express":"^4.17.21","@types/extend":"^3.0.4","@types/git-rev-sync":"^2.0.2","@types/glob":"^8.1.0","@types/hosted-git-info":"^3.0.5","@types/is-ci":"^3.0.4","@types/lodash":"^4.17.13","@types/npm-package-arg":"^6.1.4","@types/object-path":"^0.11.4","@types/passport-discord":"^0.1.14","@types/passport-local":"^1.0.38","@types/passport-steam":"^1.0.5","@types/semver":"^7.5.8","@types/session-file-store":"^1.2.5","@types/sinon":"^10.0.20","@types/uuid":"^8.3.4","@types/yargs":"^15.0.19","@vitest/coverage-v8":"^3.0.2","cpy-cli":"^5.0.0","cross-env":"^7.0.3","del-cli":"^5.1.0",esbuild:"^0.19.12","esbuild-plugin-copy":"^2.1.1",eslint:"^9.17.0","eslint-config-prettier":"^9.1.0","eslint-plugin-simple-import-sort":"^12.1.1","is-builtin-module":"^3.2.1","is-ci":"^3.0.1","is-windows":"^1.0.2","npm-run-all2":"^7.0.2",onchange:"^7.1.0",prettier:"^3.4.2",puppeteer:"^23.11.1","replace-in-file":"^6.3.5","simple-git":"^3.22.0",sinon:"^14.0.2","ts-node":"^10.9.2",tsx:"^4.19.2","type-fest":"^4.31.0",typescript:"~5.7.2","typescript-eslint":"^8.18.2","vite-plugin-swc-transform":"^1.0.1",vitest:"^3.0.2","vitest-mock-express":"^2.2.0"},engines:{node:"^18.12.0 || ^20.9.0 || ^22.11.0"}}});var L_=v((W_e,ZC)=>{"use strict";ZC.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;t[r]=o;for(var s in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var i=Object.getOwnPropertySymbols(t);if(i.length!==1||i[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,r);if(a.value!==o||a.enumerable!==!0)return!1}return!0}});var wd=v((K_e,QC)=>{"use strict";var Rq=L_();QC.exports=function(){return Rq()&&!!Symbol.toStringTag}});var tO=v((Y_e,eO)=>{"use strict";eO.exports=Object});var nO=v((J_e,rO)=>{"use strict";rO.exports=Error});var sO=v((X_e,oO)=>{"use strict";oO.exports=EvalError});var aO=v((Z_e,iO)=>{"use strict";iO.exports=RangeError});var uO=v((Q_e,cO)=>{"use strict";cO.exports=ReferenceError});var fO=v((eSe,lO)=>{"use strict";lO.exports=SyntaxError});var F_=v((tSe,dO)=>{"use strict";dO.exports=TypeError});var mO=v((rSe,pO)=>{"use strict";pO.exports=URIError});var gO=v((nSe,hO)=>{"use strict";hO.exports=Math.abs});var _O=v((oSe,yO)=>{"use strict";yO.exports=Math.floor});var EO=v((sSe,SO)=>{"use strict";SO.exports=Math.max});var vO=v((iSe,bO)=>{"use strict";bO.exports=Math.min});var IO=v((aSe,TO)=>{"use strict";TO.exports=Math.pow});var wO=v((cSe,xO)=>{"use strict";xO.exports=Object.getOwnPropertyDescriptor});var _i=v((uSe,CO)=>{"use strict";var Cd=wO();if(Cd)try{Cd([],"length")}catch(e){Cd=null}CO.exports=Cd});var RO=v((lSe,OO)=>{"use strict";var Od=Object.defineProperty||!1;if(Od)try{Od({},"a",{value:1})}catch(e){Od=!1}OO.exports=Od});var NO=v((fSe,AO)=>{"use strict";var kO=typeof Symbol!="undefined"&&Symbol,kq=L_();AO.exports=function(){return typeof kO!="function"||typeof Symbol!="function"||typeof kO("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:kq()}});var DO=v((dSe,$O)=>{"use strict";var Aq="Function.prototype.bind called on incompatible ",Nq=Object.prototype.toString,Pq=Math.max,$q="[object Function]",PO=function(t,r){for(var n=[],o=0;o<t.length;o+=1)n[o]=t[o];for(var s=0;s<r.length;s+=1)n[s+t.length]=r[s];return n},Dq=function(t,r){for(var n=[],o=r||0,s=0;o<t.length;o+=1,s+=1)n[s]=t[o];return n},Mq=function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r};$O.exports=function(t){var r=this;if(typeof r!="function"||Nq.apply(r)!==$q)throw new TypeError(Aq+r);for(var n=Dq(arguments,1),o,s=function(){if(this instanceof o){var l=r.apply(this,PO(n,arguments));return Object(l)===l?l:this}return r.apply(t,PO(n,arguments))},i=Pq(0,r.length-n.length),a=[],c=0;c<i;c++)a[c]="$"+c;if(o=Function("binder","return function ("+Mq(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var u=function(){};u.prototype=r.prototype,o.prototype=new u,u.prototype=null}return o}});var Si=v((pSe,MO)=>{"use strict";var Lq=DO();MO.exports=Function.prototype.bind||Lq});var Rd=v((mSe,LO)=>{"use strict";LO.exports=Function.prototype.call});var j_=v((hSe,FO)=>{"use strict";FO.exports=Function.prototype.apply});var BO=v((gSe,jO)=>{"use strict";jO.exports=typeof Reflect!="undefined"&&Reflect&&Reflect.apply});var HO=v((ySe,UO)=>{"use strict";var Fq=Si(),jq=j_(),Bq=Rd(),Uq=BO();UO.exports=Uq||Fq.call(Bq,jq)});var GO=v((_Se,qO)=>{"use strict";var Hq=Si(),qq=F_(),Gq=Rd(),zq=HO();qO.exports=function(t){if(t.length<1||typeof t[0]!="function")throw new qq("a function is required");return zq(Hq,Gq,t)}});var JO=v((SSe,YO)=>{"use strict";var Vq=GO(),zO=_i(),WO;try{WO=[].__proto__===Array.prototype}catch(e){if(!e||typeof e!="object"||!("code"in e)||e.code!=="ERR_PROTO_ACCESS")throw e}var B_=!!WO&&zO&&zO(Object.prototype,"__proto__"),KO=Object,VO=KO.getPrototypeOf;YO.exports=B_&&typeof B_.get=="function"?Vq([B_.get]):typeof VO=="function"?function(t){return VO(t==null?t:KO(t))}:!1});var ZO=v((ESe,XO)=>{"use strict";var Wq=Function.prototype.call,Kq=Object.prototype.hasOwnProperty,Yq=Si();XO.exports=Yq.call(Wq,Kq)});var Ii=v((bSe,sR)=>{"use strict";var ee,rR=tO(),Jq=nO(),Xq=sO(),Zq=aO(),Qq=uO(),Ti=fO(),vi=F_(),eG=mO(),tG=gO(),rG=_O(),nG=EO(),oG=vO(),sG=IO(),nR=Function,U_=function(e){try{return nR('"use strict"; return ('+e+").constructor;")()}catch(t){}},Wc=_i(),iG=RO(),H_=function(){throw new vi},aG=Wc?function(){try{return arguments.callee,H_}catch(e){try{return Wc(arguments,"callee").get}catch(t){return H_}}}():H_,Ei=NO()(),cG=JO(),We=typeof Reflect=="function"&&Reflect.getPrototypeOf||rR.getPrototypeOf||cG,oR=j_(),Kc=Rd(),bi={},uG=typeof Uint8Array=="undefined"||!We?ee:We(Uint8Array),jo={__proto__:null,"%AggregateError%":typeof AggregateError=="undefined"?ee:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?ee:ArrayBuffer,"%ArrayIteratorPrototype%":Ei&&We?We([][Symbol.iterator]()):ee,"%AsyncFromSyncIteratorPrototype%":ee,"%AsyncFunction%":bi,"%AsyncGenerator%":bi,"%AsyncGeneratorFunction%":bi,"%AsyncIteratorPrototype%":bi,"%Atomics%":typeof Atomics=="undefined"?ee:Atomics,"%BigInt%":typeof BigInt=="undefined"?ee:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?ee:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?ee:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?ee:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Jq,"%eval%":eval,"%EvalError%":Xq,"%Float32Array%":typeof Float32Array=="undefined"?ee:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?ee:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?ee:FinalizationRegistry,"%Function%":nR,"%GeneratorFunction%":bi,"%Int8Array%":typeof Int8Array=="undefined"?ee:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?ee:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?ee:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ei&&We?We(We([][Symbol.iterator]())):ee,"%JSON%":typeof JSON=="object"?JSON:ee,"%Map%":typeof Map=="undefined"?ee:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!Ei||!We?ee:We(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":rR,"%Object.getOwnPropertyDescriptor%":Wc,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?ee:Promise,"%Proxy%":typeof Proxy=="undefined"?ee:Proxy,"%RangeError%":Zq,"%ReferenceError%":Qq,"%Reflect%":typeof Reflect=="undefined"?ee:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?ee:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!Ei||!We?ee:We(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?ee:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ei&&We?We(""[Symbol.iterator]()):ee,"%Symbol%":Ei?Symbol:ee,"%SyntaxError%":Ti,"%ThrowTypeError%":aG,"%TypedArray%":uG,"%TypeError%":vi,"%Uint8Array%":typeof Uint8Array=="undefined"?ee:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?ee:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?ee:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?ee:Uint32Array,"%URIError%":eG,"%WeakMap%":typeof WeakMap=="undefined"?ee:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?ee:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?ee:WeakSet,"%Function.prototype.call%":Kc,"%Function.prototype.apply%":oR,"%Object.defineProperty%":iG,"%Math.abs%":tG,"%Math.floor%":rG,"%Math.max%":nG,"%Math.min%":oG,"%Math.pow%":sG};if(We)try{null.error}catch(e){QO=We(We(e)),jo["%Error.prototype%"]=QO}var QO,lG=function e(t){var r;if(t==="%AsyncFunction%")r=U_("async function () {}");else if(t==="%GeneratorFunction%")r=U_("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=U_("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var o=e("%AsyncGenerator%");o&&We&&(r=We(o.prototype))}return jo[t]=r,r},eR={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Yc=Si(),kd=ZO(),fG=Yc.call(Kc,Array.prototype.concat),dG=Yc.call(oR,Array.prototype.splice),tR=Yc.call(Kc,String.prototype.replace),Ad=Yc.call(Kc,String.prototype.slice),pG=Yc.call(Kc,RegExp.prototype.exec),mG=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,hG=/\\(\\)?/g,gG=function(t){var r=Ad(t,0,1),n=Ad(t,-1);if(r==="%"&&n!=="%")throw new Ti("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Ti("invalid intrinsic syntax, expected opening `%`");var o=[];return tR(t,mG,function(s,i,a,c){o[o.length]=a?tR(c,hG,"$1"):i||s}),o},yG=function(t,r){var n=t,o;if(kd(eR,n)&&(o=eR[n],n="%"+o[0]+"%"),kd(jo,n)){var s=jo[n];if(s===bi&&(s=lG(n)),typeof s=="undefined"&&!r)throw new vi("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:s}}throw new Ti("intrinsic "+t+" does not exist!")};sR.exports=function(t,r){if(typeof t!="string"||t.length===0)throw new vi("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new vi('"allowMissing" argument must be a boolean');if(pG(/^%?[^%]*%?$/,t)===null)throw new Ti("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=gG(t),o=n.length>0?n[0]:"",s=yG("%"+o+"%",r),i=s.name,a=s.value,c=!1,u=s.alias;u&&(o=u[0],dG(n,fG([0,1],u)));for(var l=1,f=!0;l<n.length;l+=1){var p=n[l],m=Ad(p,0,1),h=Ad(p,-1);if((m==='"'||m==="'"||m==="`"||h==='"'||h==="'"||h==="`")&&m!==h)throw new Ti("property names with quotes must have matching quotes");if((p==="constructor"||!f)&&(c=!0),o+="."+p,i="%"+o+"%",kd(jo,i))a=jo[i];else if(a!=null){if(!(p in a)){if(!r)throw new vi("base intrinsic for "+t+" exists, but the property is not available.");return}if(Wc&&l+1>=n.length){var _=Wc(a,p);f=!!_,f&&"get"in _&&!("originalValue"in _.get)?a=_.get:a=a[p]}else f=kd(a,p),a=a[p];f&&!c&&(jo[i]=a)}}return a}});var z_=v((vSe,iR)=>{"use strict";var _G=Ii(),q_=_G("%Object.defineProperty%",!0),G_=function(){if(q_)try{return q_({},"a",{value:1}),!0}catch(t){return!1}return!1};G_.hasArrayLengthDefineBug=function(){if(!G_())return null;try{return q_([],"length",{value:1}).length!==1}catch(t){return!0}};iR.exports=G_});var uR=v((TSe,cR)=>{"use strict";var SG=z_()(),V_=Ii(),Jc=SG&&V_("%Object.defineProperty%",!0);if(Jc)try{Jc({},"a",{value:1})}catch(e){Jc=!1}var EG=V_("%SyntaxError%"),xi=V_("%TypeError%"),aR=_i();cR.exports=function(t,r,n){if(!t||typeof t!="object"&&typeof t!="function")throw new xi("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new xi("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new xi("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new xi("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new xi("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new xi("`loose`, if provided, must be a boolean");var o=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,i=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,c=!!aR&&aR(t,r);if(Jc)Jc(t,r,{configurable:i===null&&c?c.configurable:!i,enumerable:o===null&&c?c.enumerable:!o,value:n,writable:s===null&&c?c.writable:!s});else if(a||!o&&!s&&!i)t[r]=n;else throw new EG("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var hR=v((ISe,mR)=>{"use strict";var pR=Ii(),lR=uR(),bG=z_()(),fR=_i(),dR=pR("%TypeError%"),vG=pR("%Math.floor%");mR.exports=function(t,r){if(typeof t!="function")throw new dR("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||vG(r)!==r)throw new dR("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],o=!0,s=!0;if("length"in t&&fR){var i=fR(t,"length");i&&!i.configurable&&(o=!1),i&&!i.writable&&(s=!1)}return(o||s||!n)&&(bG?lR(t,"length",r,!0,!0):lR(t,"length",r)),t}});var K_=v((xSe,Nd)=>{"use strict";var W_=Si(),wi=Ii(),TG=hR(),IG=wi("%TypeError%"),yR=wi("%Function.prototype.apply%"),_R=wi("%Function.prototype.call%"),SR=wi("%Reflect.apply%",!0)||W_.call(_R,yR),Xc=wi("%Object.defineProperty%",!0),xG=wi("%Math.max%");if(Xc)try{Xc({},"a",{value:1})}catch(e){Xc=null}Nd.exports=function(t){if(typeof t!="function")throw new IG("a function is required");var r=SR(W_,_R,arguments);return TG(r,1+xG(0,t.length-(arguments.length-1)),!0)};var gR=function(){return SR(W_,yR,arguments)};Xc?Xc(Nd.exports,"apply",{value:gR}):Nd.exports.apply=gR});var Y_=v((wSe,vR)=>{"use strict";var ER=Ii(),bR=K_(),wG=bR(ER("String.prototype.indexOf"));vR.exports=function(t,r){var n=ER(t,!!r);return typeof n=="function"&&wG(t,".prototype.")>-1?bR(n):n}});var xR=v((CSe,IR)=>{"use strict";var CG=wd()(),OG=Y_(),J_=OG("Object.prototype.toString"),Pd=function(t){return CG&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:J_(t)==="[object Arguments]"},TR=function(t){return Pd(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&J_(t)!=="[object Array]"&&J_(t.callee)==="[object Function]"},RG=function(){return Pd(arguments)}();Pd.isLegacyArguments=TR;IR.exports=RG?Pd:TR});var OR=v((OSe,CR)=>{"use strict";var kG=Object.prototype.toString,AG=Function.prototype.toString,NG=/^\s*(?:function)?\*/,wR=wd()(),X_=Object.getPrototypeOf,PG=function(){if(!wR)return!1;try{return Function("return function*() {}")()}catch(e){}},Z_;CR.exports=function(t){if(typeof t!="function")return!1;if(NG.test(AG.call(t)))return!0;if(!wR){var r=kG.call(t);return r==="[object GeneratorFunction]"}if(!X_)return!1;if(typeof Z_=="undefined"){var n=PG();Z_=n?X_(n):!1}return X_(t)===Z_}});var NR=v((RSe,AR)=>{"use strict";var kR=Function.prototype.toString,Ci=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,eS,$d;if(typeof Ci=="function"&&typeof Object.defineProperty=="function")try{eS=Object.defineProperty({},"length",{get:function(){throw $d}}),$d={},Ci(function(){throw 42},null,eS)}catch(e){e!==$d&&(Ci=null)}else Ci=null;var $G=/^\s*class\b/,tS=function(t){try{var r=kR.call(t);return $G.test(r)}catch(n){return!1}},Q_=function(t){try{return tS(t)?!1:(kR.call(t),!0)}catch(r){return!1}},Dd=Object.prototype.toString,DG="[object Object]",MG="[object Function]",LG="[object GeneratorFunction]",FG="[object HTMLAllCollection]",jG="[object HTML document.all class]",BG="[object HTMLCollection]",UG=typeof Symbol=="function"&&!!Symbol.toStringTag,HG=!(0 in[,]),rS=function(){return!1};typeof document=="object"&&(RR=document.all,Dd.call(RR)===Dd.call(document.all)&&(rS=function(t){if((HG||!t)&&(typeof t=="undefined"||typeof t=="object"))try{var r=Dd.call(t);return(r===FG||r===jG||r===BG||r===DG)&&t("")==null}catch(n){}return!1}));var RR;AR.exports=Ci?function(t){if(rS(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{Ci(t,null,eS)}catch(r){if(r!==$d)return!1}return!tS(t)&&Q_(t)}:function(t){if(rS(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(UG)return Q_(t);if(tS(t))return!1;var r=Dd.call(t);return r!==MG&&r!==LG&&!/^\[object HTML/.test(r)?!1:Q_(t)}});var DR=v((kSe,$R)=>{"use strict";var qG=NR(),GG=Object.prototype.toString,PR=Object.prototype.hasOwnProperty,zG=function(t,r,n){for(var o=0,s=t.length;o<s;o++)PR.call(t,o)&&(n==null?r(t[o],o,t):r.call(n,t[o],o,t))},VG=function(t,r,n){for(var o=0,s=t.length;o<s;o++)n==null?r(t.charAt(o),o,t):r.call(n,t.charAt(o),o,t)},WG=function(t,r,n){for(var o in t)PR.call(t,o)&&(n==null?r(t[o],o,t):r.call(n,t[o],o,t))},KG=function(t,r,n){if(!qG(r))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=n),GG.call(t)==="[object Array]"?zG(t,r,o):typeof t=="string"?VG(t,r,o):WG(t,r,o)};$R.exports=KG});var LR=v((ASe,MR)=>{"use strict";var nS=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],YG=typeof globalThis=="undefined"?global:globalThis;MR.exports=function(){for(var t=[],r=0;r<nS.length;r++)typeof YG[nS[r]]=="function"&&(t[t.length]=nS[r]);return t}});var cS=v((NSe,UR)=>{"use strict";var Ld=DR(),JG=LR(),FR=K_(),iS=Y_(),Md=_i(),XG=iS("Object.prototype.toString"),BR=wd()(),jR=typeof globalThis=="undefined"?global:globalThis,sS=JG(),aS=iS("String.prototype.slice"),oS=Object.getPrototypeOf,ZG=iS("Array.prototype.indexOf",!0)||function(t,r){for(var n=0;n<t.length;n+=1)if(t[n]===r)return n;return-1},Fd={__proto__:null};BR&&Md&&oS?Ld(sS,function(e){var t=new jR[e];if(Symbol.toStringTag in t){var r=oS(t),n=Md(r,Symbol.toStringTag);if(!n){var o=oS(r);n=Md(o,Symbol.toStringTag)}Fd["$"+e]=FR(n.get)}}):Ld(sS,function(e){var t=new jR[e],r=t.slice||t.set;r&&(Fd["$"+e]=FR(r))});var QG=function(t){var r=!1;return Ld(Fd,function(n,o){if(!r)try{"$"+n(t)===o&&(r=aS(o,1))}catch(s){}}),r},e9=function(t){var r=!1;return Ld(Fd,function(n,o){if(!r)try{n(t),r=aS(o,1)}catch(s){}}),r};UR.exports=function(t){if(!t||typeof t!="object")return!1;if(!BR){var r=aS(XG(t),8,-1);return ZG(sS,r)>-1?r:r!=="Object"?!1:e9(t)}return Md?QG(t):null}});var qR=v((PSe,HR)=>{"use strict";var t9=cS();HR.exports=function(t){return!!t9(t)}});var nk=v(X=>{"use strict";var r9=xR(),n9=OR(),pr=cS(),GR=qR();function Oi(e){return e.call.bind(e)}var zR=typeof BigInt!="undefined",VR=typeof Symbol!="undefined",Gt=Oi(Object.prototype.toString),o9=Oi(Number.prototype.valueOf),s9=Oi(String.prototype.valueOf),i9=Oi(Boolean.prototype.valueOf);zR&&(WR=Oi(BigInt.prototype.valueOf));var WR;VR&&(KR=Oi(Symbol.prototype.valueOf));var KR;function Qc(e,t){if(typeof e!="object")return!1;try{return t(e),!0}catch(r){return!1}}X.isArgumentsObject=r9;X.isGeneratorFunction=n9;X.isTypedArray=GR;function a9(e){return typeof Promise!="undefined"&&e instanceof Promise||e!==null&&typeof e=="object"&&typeof e.then=="function"&&typeof e.catch=="function"}X.isPromise=a9;function c9(e){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(e):GR(e)||JR(e)}X.isArrayBufferView=c9;function u9(e){return pr(e)==="Uint8Array"}X.isUint8Array=u9;function l9(e){return pr(e)==="Uint8ClampedArray"}X.isUint8ClampedArray=l9;function f9(e){return pr(e)==="Uint16Array"}X.isUint16Array=f9;function d9(e){return pr(e)==="Uint32Array"}X.isUint32Array=d9;function p9(e){return pr(e)==="Int8Array"}X.isInt8Array=p9;function m9(e){return pr(e)==="Int16Array"}X.isInt16Array=m9;function h9(e){return pr(e)==="Int32Array"}X.isInt32Array=h9;function g9(e){return pr(e)==="Float32Array"}X.isFloat32Array=g9;function y9(e){return pr(e)==="Float64Array"}X.isFloat64Array=y9;function _9(e){return pr(e)==="BigInt64Array"}X.isBigInt64Array=_9;function S9(e){return pr(e)==="BigUint64Array"}X.isBigUint64Array=S9;function jd(e){return Gt(e)==="[object Map]"}jd.working=typeof Map!="undefined"&&jd(new Map);function E9(e){return typeof Map=="undefined"?!1:jd.working?jd(e):e instanceof Map}X.isMap=E9;function Bd(e){return Gt(e)==="[object Set]"}Bd.working=typeof Set!="undefined"&&Bd(new Set);function b9(e){return typeof Set=="undefined"?!1:Bd.working?Bd(e):e instanceof Set}X.isSet=b9;function Ud(e){return Gt(e)==="[object WeakMap]"}Ud.working=typeof WeakMap!="undefined"&&Ud(new WeakMap);function v9(e){return typeof WeakMap=="undefined"?!1:Ud.working?Ud(e):e instanceof WeakMap}X.isWeakMap=v9;function lS(e){return Gt(e)==="[object WeakSet]"}lS.working=typeof WeakSet!="undefined"&&lS(new WeakSet);function T9(e){return lS(e)}X.isWeakSet=T9;function Hd(e){return Gt(e)==="[object ArrayBuffer]"}Hd.working=typeof ArrayBuffer!="undefined"&&Hd(new ArrayBuffer);function YR(e){return typeof ArrayBuffer=="undefined"?!1:Hd.working?Hd(e):e instanceof ArrayBuffer}X.isArrayBuffer=YR;function qd(e){return Gt(e)==="[object DataView]"}qd.working=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"&&qd(new DataView(new ArrayBuffer(1),0,1));function JR(e){return typeof DataView=="undefined"?!1:qd.working?qd(e):e instanceof DataView}X.isDataView=JR;var uS=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:void 0;function Zc(e){return Gt(e)==="[object SharedArrayBuffer]"}function XR(e){return typeof uS=="undefined"?!1:(typeof Zc.working=="undefined"&&(Zc.working=Zc(new uS)),Zc.working?Zc(e):e instanceof uS)}X.isSharedArrayBuffer=XR;function I9(e){return Gt(e)==="[object AsyncFunction]"}X.isAsyncFunction=I9;function x9(e){return Gt(e)==="[object Map Iterator]"}X.isMapIterator=x9;function w9(e){return Gt(e)==="[object Set Iterator]"}X.isSetIterator=w9;function C9(e){return Gt(e)==="[object Generator]"}X.isGeneratorObject=C9;function O9(e){return Gt(e)==="[object WebAssembly.Module]"}X.isWebAssemblyCompiledModule=O9;function ZR(e){return Qc(e,o9)}X.isNumberObject=ZR;function QR(e){return Qc(e,s9)}X.isStringObject=QR;function ek(e){return Qc(e,i9)}X.isBooleanObject=ek;function tk(e){return zR&&Qc(e,WR)}X.isBigIntObject=tk;function rk(e){return VR&&Qc(e,KR)}X.isSymbolObject=rk;function R9(e){return ZR(e)||QR(e)||ek(e)||tk(e)||rk(e)}X.isBoxedPrimitive=R9;function k9(e){return typeof Uint8Array!="undefined"&&(YR(e)||XR(e))}X.isAnyArrayBuffer=k9;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(e){Object.defineProperty(X,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})})});var sk=v((DSe,ok)=>{ok.exports=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}});var ik=v((MSe,fS)=>{typeof Object.create=="function"?fS.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:fS.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}});var fk=v(Z=>{var ak=Object.getOwnPropertyDescriptors||function(t){for(var r=Object.keys(t),n={},o=0;o<r.length;o++)n[r[o]]=Object.getOwnPropertyDescriptor(t,r[o]);return n},A9=/%[sdj%]/g;Z.format=function(e){if(!Yd(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(Bn(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,o=n.length,s=String(e).replace(A9,function(a){if(a==="%%")return"%";if(r>=o)return a;switch(a){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(c){return"[Circular]"}default:return a}}),i=n[r];r<o;i=n[++r])Kd(i)||!Ri(i)?s+=" "+i:s+=" "+Bn(i);return s};Z.deprecate=function(e,t){if(typeof process!="undefined"&&process.noDeprecation===!0)return e;if(typeof process=="undefined")return function(){return Z.deprecate(e,t).apply(this,arguments)};var r=!1;function n(){if(!r){if(process.throwDeprecation)throw new Error(t);process.traceDeprecation?console.trace(t):console.error(t),r=!0}return e.apply(this,arguments)}return n};var Gd={},N9=/^$/;Z.debuglog=function(e){if(e=e.toUpperCase(),!Gd[e])if(N9.test(e)){var t=process.pid;Gd[e]=function(){var r=Z.format.apply(Z,arguments);console.error("%s %d: %s",e,t,r)}}else Gd[e]=function(){};return Gd[e]};function Bn(e,t){var r={seen:[],stylize:$9};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),hS(t)?r.showHidden=t:t&&Z._extend(r,t),Uo(r.showHidden)&&(r.showHidden=!1),Uo(r.depth)&&(r.depth=2),Uo(r.colors)&&(r.colors=!1),Uo(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=P9),Vd(r,e,r.depth)}Z.inspect=Bn;Bn.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};Bn.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function P9(e,t){var r=Bn.styles[t];return r?"\x1B["+Bn.colors[r][0]+"m"+e+"\x1B["+Bn.colors[r][1]+"m":e}function $9(e,t){return e}function D9(e){var t={};return e.forEach(function(r,n){t[r]=!0}),t}function Vd(e,t,r){if(e.customInspect&&t&&zd(t.inspect)&&t.inspect!==Z.inspect&&!(t.constructor&&t.constructor.prototype===t)){var n=t.inspect(r,e);return Yd(n)||(n=Vd(e,n,r)),n}var o=M9(e,t);if(o)return o;var s=Object.keys(t),i=D9(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),tu(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return dS(t);if(s.length===0){if(zd(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(eu(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(Wd(t))return e.stylize(Date.prototype.toString.call(t),"date");if(tu(t))return dS(t)}var c="",u=!1,l=["{","}"];if(ck(t)&&(u=!0,l=["[","]"]),zd(t)){var f=t.name?": "+t.name:"";c=" [Function"+f+"]"}if(eu(t)&&(c=" "+RegExp.prototype.toString.call(t)),Wd(t)&&(c=" "+Date.prototype.toUTCString.call(t)),tu(t)&&(c=" "+dS(t)),s.length===0&&(!u||t.length==0))return l[0]+c+l[1];if(r<0)return eu(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var p;return u?p=L9(e,t,r,i,s):p=s.map(function(m){return mS(e,t,r,i,m,u)}),e.seen.pop(),F9(p,c,l)}function M9(e,t){if(Uo(t))return e.stylize("undefined","undefined");if(Yd(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(uk(t))return e.stylize(""+t,"number");if(hS(t))return e.stylize(""+t,"boolean");if(Kd(t))return e.stylize("null","null")}function dS(e){return"["+Error.prototype.toString.call(e)+"]"}function L9(e,t,r,n,o){for(var s=[],i=0,a=t.length;i<a;++i)lk(t,String(i))?s.push(mS(e,t,r,n,String(i),!0)):s.push("");return o.forEach(function(c){c.match(/^\d+$/)||s.push(mS(e,t,r,n,c,!0))}),s}function mS(e,t,r,n,o,s){var i,a,c;if(c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},c.get?c.set?a=e.stylize("[Getter/Setter]","special"):a=e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),lk(n,o)||(i="["+o+"]"),a||(e.seen.indexOf(c.value)<0?(Kd(r)?a=Vd(e,c.value,null):a=Vd(e,c.value,r-1),a.indexOf(`
`)>-1&&(s?a=a.split(`
`).map(function(u){return"  "+u}).join(`
`).slice(2):a=`
`+a.split(`
`).map(function(u){return"   "+u}).join(`
`))):a=e.stylize("[Circular]","special")),Uo(i)){if(s&&o.match(/^\d+$/))return a;i=JSON.stringify(""+o),i.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.slice(1,-1),i=e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=e.stylize(i,"string"))}return i+": "+a}function F9(e,t,r){var n=0,o=e.reduce(function(s,i){return n++,i.indexOf(`
`)>=0&&n++,s+i.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?r[0]+(t===""?"":t+`
 `)+" "+e.join(`,
  `)+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}Z.types=nk();function ck(e){return Array.isArray(e)}Z.isArray=ck;function hS(e){return typeof e=="boolean"}Z.isBoolean=hS;function Kd(e){return e===null}Z.isNull=Kd;function j9(e){return e==null}Z.isNullOrUndefined=j9;function uk(e){return typeof e=="number"}Z.isNumber=uk;function Yd(e){return typeof e=="string"}Z.isString=Yd;function B9(e){return typeof e=="symbol"}Z.isSymbol=B9;function Uo(e){return e===void 0}Z.isUndefined=Uo;function eu(e){return Ri(e)&&gS(e)==="[object RegExp]"}Z.isRegExp=eu;Z.types.isRegExp=eu;function Ri(e){return typeof e=="object"&&e!==null}Z.isObject=Ri;function Wd(e){return Ri(e)&&gS(e)==="[object Date]"}Z.isDate=Wd;Z.types.isDate=Wd;function tu(e){return Ri(e)&&(gS(e)==="[object Error]"||e instanceof Error)}Z.isError=tu;Z.types.isNativeError=tu;function zd(e){return typeof e=="function"}Z.isFunction=zd;function U9(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="symbol"||typeof e=="undefined"}Z.isPrimitive=U9;Z.isBuffer=sk();function gS(e){return Object.prototype.toString.call(e)}function pS(e){return e<10?"0"+e.toString(10):e.toString(10)}var H9=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function q9(){var e=new Date,t=[pS(e.getHours()),pS(e.getMinutes()),pS(e.getSeconds())].join(":");return[e.getDate(),H9[e.getMonth()],t].join(" ")}Z.log=function(){console.log("%s - %s",q9(),Z.format.apply(Z,arguments))};Z.inherits=ik();Z._extend=function(e,t){if(!t||!Ri(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};function lk(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Bo=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;Z.promisify=function(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');if(Bo&&t[Bo]){var r=t[Bo];if(typeof r!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,Bo,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var n,o,s=new Promise(function(c,u){n=c,o=u}),i=[],a=0;a<arguments.length;a++)i.push(arguments[a]);i.push(function(c,u){c?o(c):n(u)});try{t.apply(this,i)}catch(c){o(c)}return s}return Object.setPrototypeOf(r,Object.getPrototypeOf(t)),Bo&&Object.defineProperty(r,Bo,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,ak(t))};Z.promisify.custom=Bo;function G9(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}function z9(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');function t(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var o=r.pop();if(typeof o!="function")throw new TypeError("The last argument must be of type Function");var s=this,i=function(){return o.apply(s,arguments)};e.apply(this,r).then(function(a){process.nextTick(i.bind(null,null,a))},function(a){process.nextTick(G9.bind(null,a,i))})}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,ak(e)),t}Z.callbackify=z9});var wk=v((xk,Zd)=>{(function(e,t){"use strict";typeof Zd=="object"&&typeof Zd.exports=="object"?Zd.exports=t():typeof define=="function"&&define.amd?define([],t):e.objectPath=t()})(xk,function(){"use strict";var e=Object.prototype.toString;function t(l,f){return l==null?!1:Object.prototype.hasOwnProperty.call(l,f)}function r(l){if(!l||s(l)&&l.length===0)return!0;if(typeof l!="string"){for(var f in l)if(t(l,f))return!1;return!0}return!1}function n(l){return e.call(l)}function o(l){return typeof l=="object"&&n(l)==="[object Object]"}var s=Array.isArray||function(l){return e.call(l)==="[object Array]"};function i(l){return typeof l=="boolean"||n(l)==="[object Boolean]"}function a(l){var f=parseInt(l);return f.toString()===l?f:l}function c(l){l=l||{};var f=function(y){return Object.keys(f).reduce(function(g,S){return S==="create"||typeof f[S]=="function"&&(g[S]=f[S].bind(f,y)),g},{})},p;l.includeInheritedProps?p=function(){return!0}:p=function(y,g){return typeof g=="number"&&Array.isArray(y)||t(y,g)};function m(y,g){if(p(y,g))return y[g]}var h;l.includeInheritedProps?h=function(y,g){typeof g!="string"&&typeof g!="number"&&(g=String(g));var S=m(y,g);if(g==="__proto__"||g==="prototype"||g==="constructor"&&typeof S=="function")throw new Error("For security reasons, object's magic properties cannot be set");return S}:h=function(y,g){return m(y,g)};function _(y,g,S,T){if(typeof g=="number"&&(g=[g]),!g||g.length===0)return y;if(typeof g=="string")return _(y,g.split(".").map(a),S,T);var x=g[0],I=h(y,x);return g.length===1?((I===void 0||!T)&&(y[x]=S),I):(I===void 0&&(typeof g[1]=="number"?y[x]=[]:y[x]={}),_(y[x],g.slice(1),S,T))}return f.has=function(y,g){if(typeof g=="number"?g=[g]:typeof g=="string"&&(g=g.split(".")),!g||g.length===0)return!!y;for(var S=0;S<g.length;S++){var T=a(g[S]);if(typeof T=="number"&&s(y)&&T<y.length||(l.includeInheritedProps?T in Object(y):t(y,T)))y=y[T];else return!1}return!0},f.ensureExists=function(y,g,S){return _(y,g,S,!0)},f.set=function(y,g,S,T){return _(y,g,S,T)},f.insert=function(y,g,S,T){var x=f.get(y,g);T=~~T,s(x)||(x=[],f.set(y,g,x)),x.splice(T,0,S)},f.empty=function(y,g){if(!r(g)&&y!=null){var S,T;if(S=f.get(y,g)){if(typeof S=="string")return f.set(y,g,"");if(i(S))return f.set(y,g,!1);if(typeof S=="number")return f.set(y,g,0);if(s(S))S.length=0;else if(o(S))for(T in S)p(S,T)&&delete S[T];else return f.set(y,g,null)}}},f.push=function(y,g){var S=f.get(y,g);s(S)||(S=[],f.set(y,g,S)),S.push.apply(S,Array.prototype.slice.call(arguments,2))},f.coalesce=function(y,g,S){for(var T,x=0,I=g.length;x<I;x++)if((T=f.get(y,g[x]))!==void 0)return T;return S},f.get=function(y,g,S){if(typeof g=="number"&&(g=[g]),!g||g.length===0)return y;if(y==null)return S;if(typeof g=="string")return f.get(y,g.split("."),S);var T=a(g[0]),x=h(y,T);return x===void 0?S:g.length===1?x:f.get(y[T],g.slice(1),S)},f.del=function(g,S){if(typeof S=="number"&&(S=[S]),g==null||r(S))return g;if(typeof S=="string")return f.del(g,S.split("."));var T=a(S[0]);if(h(g,T),!p(g,T))return g;if(S.length===1)s(g)?g.splice(T,1):delete g[T];else return f.del(g[T],S.slice(1));return g},f}var u=c();return u.create=c,u.withInheritedProps=c({includeInheritedProps:!0}),u})});var Ok=v(SS=>{"use strict";SS.__esModule=!0;var Qd=function(e){return typeof e=="object"&&e!==null&&e.toString()==={}.toString()},ep=function(e){return JSON.parse(JSON.stringify(e))},_S=function(e,t){e=ep(e);for(var r in t)t.hasOwnProperty(r)&&(Qd(e[r])&&Qd(t[r])?e[r]=_S(e[r],t[r]):e[r]=t[r]);return e},Ck=function(e,t){var r=e.replace(/^#\/definitions\//,"").split("/"),n=function(s,i){var a=s.shift();return a===void 0||!i[a]?{}:s.length?n(s,i[a]):i[a]},o=n(r,t);return Qd(o)?ep(o):o},g4=function(e,t){for(var r=e.length,n=-1,o={};++n<r;){var s=e[n];s=typeof s.$ref!="undefined"?Ck(s.$ref,t):s,o=_S(o,s)}return o},Ni=function(e,t){if(typeof e.default!="undefined")return e.default;if(typeof e.allOf!="undefined"){var r=g4(e.allOf,t);return Ni(r,t)}else if(typeof e.$ref!="undefined"){var n=Ck(e.$ref,t);return Ni(n,t)}else if(e.type==="object"){if(!e.properties)return{};for(var o in e.properties)e.properties.hasOwnProperty(o)&&(e.properties[o]=Ni(e.properties[o],t),typeof e.properties[o]=="undefined"&&delete e.properties[o]);return e.properties}else if(e.type==="array"){if(!e.items)return[];var s=e.minItems||0;if(e.items.constructor===Array){for(var i=e.items.map(function(u){return Ni(u,t)}),a=i.length-1;a>=0&&typeof i[a]=="undefined";a--)a+1>s&&i.pop();return i}var c=Ni(e.items,t);if(typeof c=="undefined")return[];for(var i=[],a=0;a<Math.max(1,s);a++)i.push(ep(c));return i}};function y4(e,t){var r;return typeof t=="undefined"?t=(r=e.definitions)!==null&&r!==void 0?r:{}:Qd(e.definitions)&&(t=_S(t,e.definitions)),Ni(ep(e),t)}SS.default=y4});var Rk=v(Pi=>{"use strict";var _4=Pi&&Pi.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});Pi.__esModule=!0;Pi.default=void 0;var S4=Ok();_4(Pi,S4,"default","default")});var su=v(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.regexpCode=ae.getEsmExportName=ae.getProperty=ae.safeStringify=ae.stringify=ae.strConcat=ae.addCodeArg=ae.str=ae._=ae.nil=ae._Code=ae.Name=ae.IDENTIFIER=ae._CodeOrName=void 0;var nu=class{};ae._CodeOrName=nu;ae.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var Ho=class extends nu{constructor(t){if(super(),!ae.IDENTIFIER.test(t))throw new Error("CodeGen: name must be a valid identifier");this.str=t}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};ae.Name=Ho;var Vt=class extends nu{constructor(t){super(),this._items=typeof t=="string"?[t]:t}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let t=this._items[0];return t===""||t==='""'}get str(){var t;return(t=this._str)!==null&&t!==void 0?t:this._str=this._items.reduce((r,n)=>`${r}${n}`,"")}get names(){var t;return(t=this._names)!==null&&t!==void 0?t:this._names=this._items.reduce((r,n)=>(n instanceof Ho&&(r[n.str]=(r[n.str]||0)+1),r),{})}};ae._Code=Vt;ae.nil=new Vt("");function kk(e,...t){let r=[e[0]],n=0;for(;n<t.length;)bS(r,t[n]),r.push(e[++n]);return new Vt(r)}ae._=kk;var ES=new Vt("+");function Ak(e,...t){let r=[ou(e[0])],n=0;for(;n<t.length;)r.push(ES),bS(r,t[n]),r.push(ES,ou(e[++n]));return E4(r),new Vt(r)}ae.str=Ak;function bS(e,t){t instanceof Vt?e.push(...t._items):t instanceof Ho?e.push(t):e.push(T4(t))}ae.addCodeArg=bS;function E4(e){let t=1;for(;t<e.length-1;){if(e[t]===ES){let r=b4(e[t-1],e[t+1]);if(r!==void 0){e.splice(t-1,3,r);continue}e[t++]="+"}t++}}function b4(e,t){if(t==='""')return e;if(e==='""')return t;if(typeof e=="string")return t instanceof Ho||e[e.length-1]!=='"'?void 0:typeof t!="string"?`${e.slice(0,-1)}${t}"`:t[0]==='"'?e.slice(0,-1)+t.slice(1):void 0;if(typeof t=="string"&&t[0]==='"'&&!(e instanceof Ho))return`"${e}${t.slice(1)}`}function v4(e,t){return t.emptyStr()?e:e.emptyStr()?t:Ak`${e}${t}`}ae.strConcat=v4;function T4(e){return typeof e=="number"||typeof e=="boolean"||e===null?e:ou(Array.isArray(e)?e.join(","):e)}function I4(e){return new Vt(ou(e))}ae.stringify=I4;function ou(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}ae.safeStringify=ou;function x4(e){return typeof e=="string"&&ae.IDENTIFIER.test(e)?new Vt(`.${e}`):kk`[${e}]`}ae.getProperty=x4;function w4(e){if(typeof e=="string"&&ae.IDENTIFIER.test(e))return new Vt(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)}ae.getEsmExportName=w4;function C4(e){return new Vt(e.toString())}ae.regexpCode=C4});var IS=v(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.ValueScope=vt.ValueScopeName=vt.Scope=vt.varKinds=vt.UsedValueState=void 0;var bt=su(),vS=class extends Error{constructor(t){super(`CodeGen: "code" for ${t} not defined`),this.value=t.value}},tp;(function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"})(tp||(vt.UsedValueState=tp={}));vt.varKinds={const:new bt.Name("const"),let:new bt.Name("let"),var:new bt.Name("var")};var rp=class{constructor({prefixes:t,parent:r}={}){this._names={},this._prefixes=t,this._parent=r}toName(t){return t instanceof bt.Name?t:this.name(t)}name(t){return new bt.Name(this._newName(t))}_newName(t){let r=this._names[t]||this._nameGroup(t);return`${t}${r.index++}`}_nameGroup(t){var r,n;if(!((n=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||n===void 0)&&n.has(t)||this._prefixes&&!this._prefixes.has(t))throw new Error(`CodeGen: prefix "${t}" is not allowed in this scope`);return this._names[t]={prefix:t,index:0}}};vt.Scope=rp;var np=class extends bt.Name{constructor(t,r){super(r),this.prefix=t}setValue(t,{property:r,itemIndex:n}){this.value=t,this.scopePath=(0,bt._)`.${new bt.Name(r)}[${n}]`}};vt.ValueScopeName=np;var O4=(0,bt._)`\n`,TS=class extends rp{constructor(t){super(t),this._values={},this._scope=t.scope,this.opts=b(d({},t),{_n:t.lines?O4:bt.nil})}get(){return this._scope}name(t){return new np(t,this._newName(t))}value(t,r){var n;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let o=this.toName(t),{prefix:s}=o,i=(n=r.key)!==null&&n!==void 0?n:r.ref,a=this._values[s];if(a){let l=a.get(i);if(l)return l}else a=this._values[s]=new Map;a.set(i,o);let c=this._scope[s]||(this._scope[s]=[]),u=c.length;return c[u]=r.ref,o.setValue(r,{property:s,itemIndex:u}),o}getValue(t,r){let n=this._values[t];if(n)return n.get(r)}scopeRefs(t,r=this._values){return this._reduceValues(r,n=>{if(n.scopePath===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return(0,bt._)`${t}${n.scopePath}`})}scopeCode(t=this._values,r,n){return this._reduceValues(t,o=>{if(o.value===void 0)throw new Error(`CodeGen: name "${o}" has no value`);return o.value.code},r,n)}_reduceValues(t,r,n={},o){let s=bt.nil;for(let i in t){let a=t[i];if(!a)continue;let c=n[i]=n[i]||new Map;a.forEach(u=>{if(c.has(u))return;c.set(u,tp.Started);let l=r(u);if(l){let f=this.opts.es5?vt.varKinds.var:vt.varKinds.const;s=(0,bt._)`${s}${f} ${u} = ${l};${this.opts._n}`}else if(l=o==null?void 0:o(u))s=(0,bt._)`${s}${l}${this.opts._n}`;else throw new vS(u);c.set(u,tp.Completed)})}return s}};vt.ValueScope=TS});var L=v(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.or=Y.and=Y.not=Y.CodeGen=Y.operators=Y.varKinds=Y.ValueScopeName=Y.ValueScope=Y.Scope=Y.Name=Y.regexpCode=Y.stringify=Y.getProperty=Y.nil=Y.strConcat=Y.str=Y._=void 0;var ne=su(),mr=IS(),Hn=su();Object.defineProperty(Y,"_",{enumerable:!0,get:function(){return Hn._}});Object.defineProperty(Y,"str",{enumerable:!0,get:function(){return Hn.str}});Object.defineProperty(Y,"strConcat",{enumerable:!0,get:function(){return Hn.strConcat}});Object.defineProperty(Y,"nil",{enumerable:!0,get:function(){return Hn.nil}});Object.defineProperty(Y,"getProperty",{enumerable:!0,get:function(){return Hn.getProperty}});Object.defineProperty(Y,"stringify",{enumerable:!0,get:function(){return Hn.stringify}});Object.defineProperty(Y,"regexpCode",{enumerable:!0,get:function(){return Hn.regexpCode}});Object.defineProperty(Y,"Name",{enumerable:!0,get:function(){return Hn.Name}});var ap=IS();Object.defineProperty(Y,"Scope",{enumerable:!0,get:function(){return ap.Scope}});Object.defineProperty(Y,"ValueScope",{enumerable:!0,get:function(){return ap.ValueScope}});Object.defineProperty(Y,"ValueScopeName",{enumerable:!0,get:function(){return ap.ValueScopeName}});Object.defineProperty(Y,"varKinds",{enumerable:!0,get:function(){return ap.varKinds}});Y.operators={GT:new ne._Code(">"),GTE:new ne._Code(">="),LT:new ne._Code("<"),LTE:new ne._Code("<="),EQ:new ne._Code("==="),NEQ:new ne._Code("!=="),NOT:new ne._Code("!"),OR:new ne._Code("||"),AND:new ne._Code("&&"),ADD:new ne._Code("+")};var nn=class{optimizeNodes(){return this}optimizeNames(t,r){return this}},xS=class extends nn{constructor(t,r,n){super(),this.varKind=t,this.name=r,this.rhs=n}render({es5:t,_n:r}){let n=t?mr.varKinds.var:this.varKind,o=this.rhs===void 0?"":` = ${this.rhs}`;return`${n} ${this.name}${o};`+r}optimizeNames(t,r){if(t[this.name.str])return this.rhs&&(this.rhs=Di(this.rhs,t,r)),this}get names(){return this.rhs instanceof ne._CodeOrName?this.rhs.names:{}}},op=class extends nn{constructor(t,r,n){super(),this.lhs=t,this.rhs=r,this.sideEffects=n}render({_n:t}){return`${this.lhs} = ${this.rhs};`+t}optimizeNames(t,r){if(!(this.lhs instanceof ne.Name&&!t[this.lhs.str]&&!this.sideEffects))return this.rhs=Di(this.rhs,t,r),this}get names(){let t=this.lhs instanceof ne.Name?{}:d({},this.lhs.names);return ip(t,this.rhs)}},wS=class extends op{constructor(t,r,n,o){super(t,n,o),this.op=r}render({_n:t}){return`${this.lhs} ${this.op}= ${this.rhs};`+t}},CS=class extends nn{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`${this.label}:`+t}},OS=class extends nn{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`break${this.label?` ${this.label}`:""};`+t}},RS=class extends nn{constructor(t){super(),this.error=t}render({_n:t}){return`throw ${this.error};`+t}get names(){return this.error.names}},kS=class extends nn{constructor(t){super(),this.code=t}render({_n:t}){return`${this.code};`+t}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(t,r){return this.code=Di(this.code,t,r),this}get names(){return this.code instanceof ne._CodeOrName?this.code.names:{}}},iu=class extends nn{constructor(t=[]){super(),this.nodes=t}render(t){return this.nodes.reduce((r,n)=>r+n.render(t),"")}optimizeNodes(){let{nodes:t}=this,r=t.length;for(;r--;){let n=t[r].optimizeNodes();Array.isArray(n)?t.splice(r,1,...n):n?t[r]=n:t.splice(r,1)}return t.length>0?this:void 0}optimizeNames(t,r){let{nodes:n}=this,o=n.length;for(;o--;){let s=n[o];s.optimizeNames(t,r)||(R4(t,s.names),n.splice(o,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((t,r)=>zo(t,r.names),{})}},on=class extends iu{render(t){return"{"+t._n+super.render(t)+"}"+t._n}},AS=class extends iu{},$i=class extends on{};$i.kind="else";var qo=class e extends on{constructor(t,r){super(r),this.condition=t}render(t){let r=`if(${this.condition})`+super.render(t);return this.else&&(r+="else "+this.else.render(t)),r}optimizeNodes(){super.optimizeNodes();let t=this.condition;if(t===!0)return this.nodes;let r=this.else;if(r){let n=r.optimizeNodes();r=this.else=Array.isArray(n)?new $i(n):n}if(r)return t===!1?r instanceof e?r:r.nodes:this.nodes.length?this:new e(Nk(t),r instanceof e?[r]:r.nodes);if(!(t===!1||!this.nodes.length))return this}optimizeNames(t,r){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(t,r),!!(super.optimizeNames(t,r)||this.else))return this.condition=Di(this.condition,t,r),this}get names(){let t=super.names;return ip(t,this.condition),this.else&&zo(t,this.else.names),t}};qo.kind="if";var Go=class extends on{};Go.kind="for";var NS=class extends Go{constructor(t){super(),this.iteration=t}render(t){return`for(${this.iteration})`+super.render(t)}optimizeNames(t,r){if(super.optimizeNames(t,r))return this.iteration=Di(this.iteration,t,r),this}get names(){return zo(super.names,this.iteration.names)}},PS=class extends Go{constructor(t,r,n,o){super(),this.varKind=t,this.name=r,this.from=n,this.to=o}render(t){let r=t.es5?mr.varKinds.var:this.varKind,{name:n,from:o,to:s}=this;return`for(${r} ${n}=${o}; ${n}<${s}; ${n}++)`+super.render(t)}get names(){let t=ip(super.names,this.from);return ip(t,this.to)}},sp=class extends Go{constructor(t,r,n,o){super(),this.loop=t,this.varKind=r,this.name=n,this.iterable=o}render(t){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(t)}optimizeNames(t,r){if(super.optimizeNames(t,r))return this.iterable=Di(this.iterable,t,r),this}get names(){return zo(super.names,this.iterable.names)}},au=class extends on{constructor(t,r,n){super(),this.name=t,this.args=r,this.async=n}render(t){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(t)}};au.kind="func";var cu=class extends iu{render(t){return"return "+super.render(t)}};cu.kind="return";var $S=class extends on{render(t){let r="try"+super.render(t);return this.catch&&(r+=this.catch.render(t)),this.finally&&(r+=this.finally.render(t)),r}optimizeNodes(){var t,r;return super.optimizeNodes(),(t=this.catch)===null||t===void 0||t.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(t,r){var n,o;return super.optimizeNames(t,r),(n=this.catch)===null||n===void 0||n.optimizeNames(t,r),(o=this.finally)===null||o===void 0||o.optimizeNames(t,r),this}get names(){let t=super.names;return this.catch&&zo(t,this.catch.names),this.finally&&zo(t,this.finally.names),t}},uu=class extends on{constructor(t){super(),this.error=t}render(t){return`catch(${this.error})`+super.render(t)}};uu.kind="catch";var lu=class extends on{render(t){return"finally"+super.render(t)}};lu.kind="finally";var DS=class{constructor(t,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts=b(d({},r),{_n:r.lines?`
`:""}),this._extScope=t,this._scope=new mr.Scope({parent:t}),this._nodes=[new AS]}toString(){return this._root.render(this.opts)}name(t){return this._scope.name(t)}scopeName(t){return this._extScope.name(t)}scopeValue(t,r){let n=this._extScope.value(t,r);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(t,r){return this._extScope.getValue(t,r)}scopeRefs(t){return this._extScope.scopeRefs(t,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(t,r,n,o){let s=this._scope.toName(r);return n!==void 0&&o&&(this._constants[s.str]=n),this._leafNode(new xS(t,s,n)),s}const(t,r,n){return this._def(mr.varKinds.const,t,r,n)}let(t,r,n){return this._def(mr.varKinds.let,t,r,n)}var(t,r,n){return this._def(mr.varKinds.var,t,r,n)}assign(t,r,n){return this._leafNode(new op(t,r,n))}add(t,r){return this._leafNode(new wS(t,Y.operators.ADD,r))}code(t){return typeof t=="function"?t():t!==ne.nil&&this._leafNode(new kS(t)),this}object(...t){let r=["{"];for(let[n,o]of t)r.length>1&&r.push(","),r.push(n),(n!==o||this.opts.es5)&&(r.push(":"),(0,ne.addCodeArg)(r,o));return r.push("}"),new ne._Code(r)}if(t,r,n){if(this._blockNode(new qo(t)),r&&n)this.code(r).else().code(n).endIf();else if(r)this.code(r).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(t){return this._elseNode(new qo(t))}else(){return this._elseNode(new $i)}endIf(){return this._endBlockNode(qo,$i)}_for(t,r){return this._blockNode(t),r&&this.code(r).endFor(),this}for(t,r){return this._for(new NS(t),r)}forRange(t,r,n,o,s=this.opts.es5?mr.varKinds.var:mr.varKinds.let){let i=this._scope.toName(t);return this._for(new PS(s,i,r,n),()=>o(i))}forOf(t,r,n,o=mr.varKinds.const){let s=this._scope.toName(t);if(this.opts.es5){let i=r instanceof ne.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,ne._)`${i}.length`,a=>{this.var(s,(0,ne._)`${i}[${a}]`),n(s)})}return this._for(new sp("of",o,s,r),()=>n(s))}forIn(t,r,n,o=this.opts.es5?mr.varKinds.var:mr.varKinds.const){if(this.opts.ownProperties)return this.forOf(t,(0,ne._)`Object.keys(${r})`,n);let s=this._scope.toName(t);return this._for(new sp("in",o,s,r),()=>n(s))}endFor(){return this._endBlockNode(Go)}label(t){return this._leafNode(new CS(t))}break(t){return this._leafNode(new OS(t))}return(t){let r=new cu;if(this._blockNode(r),this.code(t),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(cu)}try(t,r,n){if(!r&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');let o=new $S;if(this._blockNode(o),this.code(t),r){let s=this.name("e");this._currNode=o.catch=new uu(s),r(s)}return n&&(this._currNode=o.finally=new lu,this.code(n)),this._endBlockNode(uu,lu)}throw(t){return this._leafNode(new RS(t))}block(t,r){return this._blockStarts.push(this._nodes.length),t&&this.code(t).endBlock(r),this}endBlock(t){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let n=this._nodes.length-r;if(n<0||t!==void 0&&n!==t)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${t} expected`);return this._nodes.length=r,this}func(t,r=ne.nil,n,o){return this._blockNode(new au(t,r,n)),o&&this.code(o).endFunc(),this}endFunc(){return this._endBlockNode(au)}optimize(t=1){for(;t-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(t){return this._currNode.nodes.push(t),this}_blockNode(t){this._currNode.nodes.push(t),this._nodes.push(t)}_endBlockNode(t,r){let n=this._currNode;if(n instanceof t||r&&n instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${t.kind}/${r.kind}`:t.kind}"`)}_elseNode(t){let r=this._currNode;if(!(r instanceof qo))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=t,this}get _root(){return this._nodes[0]}get _currNode(){let t=this._nodes;return t[t.length-1]}set _currNode(t){let r=this._nodes;r[r.length-1]=t}};Y.CodeGen=DS;function zo(e,t){for(let r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function ip(e,t){return t instanceof ne._CodeOrName?zo(e,t.names):e}function Di(e,t,r){if(e instanceof ne.Name)return n(e);if(!o(e))return e;return new ne._Code(e._items.reduce((s,i)=>(i instanceof ne.Name&&(i=n(i)),i instanceof ne._Code?s.push(...i._items):s.push(i),s),[]));function n(s){let i=r[s.str];return i===void 0||t[s.str]!==1?s:(delete t[s.str],i)}function o(s){return s instanceof ne._Code&&s._items.some(i=>i instanceof ne.Name&&t[i.str]===1&&r[i.str]!==void 0)}}function R4(e,t){for(let r in t)e[r]=(e[r]||0)-(t[r]||0)}function Nk(e){return typeof e=="boolean"||typeof e=="number"||e===null?!e:(0,ne._)`!${MS(e)}`}Y.not=Nk;var k4=Pk(Y.operators.AND);function A4(...e){return e.reduce(k4)}Y.and=A4;var N4=Pk(Y.operators.OR);function P4(...e){return e.reduce(N4)}Y.or=P4;function Pk(e){return(t,r)=>t===ne.nil?r:r===ne.nil?t:(0,ne._)`${MS(t)} ${e} ${MS(r)}`}function MS(e){return e instanceof ne.Name?e:(0,ne._)`(${e})`}});var Q=v(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.checkStrictMode=J.getErrorPath=J.Type=J.useFunc=J.setEvaluated=J.evaluatedPropsToName=J.mergeEvaluated=J.eachItem=J.unescapeJsonPointer=J.escapeJsonPointer=J.escapeFragment=J.unescapeFragment=J.schemaRefOrVal=J.schemaHasRulesButRef=J.schemaHasRules=J.checkUnknownRules=J.alwaysValidSchema=J.toHash=void 0;var Se=L(),$4=su();function D4(e){let t={};for(let r of e)t[r]=!0;return t}J.toHash=D4;function M4(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(Mk(e,t),!Lk(t,e.self.RULES.all))}J.alwaysValidSchema=M4;function Mk(e,t=e.schema){let{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;let o=n.RULES.keywords;for(let s in t)o[s]||Bk(e,`unknown keyword: "${s}"`)}J.checkUnknownRules=Mk;function Lk(e,t){if(typeof e=="boolean")return!e;for(let r in e)if(t[r])return!0;return!1}J.schemaHasRules=Lk;function L4(e,t){if(typeof e=="boolean")return!e;for(let r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}J.schemaHasRulesButRef=L4;function F4({topSchemaRef:e,schemaPath:t},r,n,o){if(!o){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,Se._)`${r}`}return(0,Se._)`${e}${t}${(0,Se.getProperty)(n)}`}J.schemaRefOrVal=F4;function j4(e){return Fk(decodeURIComponent(e))}J.unescapeFragment=j4;function B4(e){return encodeURIComponent(FS(e))}J.escapeFragment=B4;function FS(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}J.escapeJsonPointer=FS;function Fk(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}J.unescapeJsonPointer=Fk;function U4(e,t){if(Array.isArray(e))for(let r of e)t(r);else t(e)}J.eachItem=U4;function $k({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(o,s,i,a)=>{let c=i===void 0?s:i instanceof Se.Name?(s instanceof Se.Name?e(o,s,i):t(o,s,i),i):s instanceof Se.Name?(t(o,i,s),s):r(s,i);return a===Se.Name&&!(c instanceof Se.Name)?n(o,c):c}}J.mergeEvaluated={props:$k({mergeNames:(e,t,r)=>e.if((0,Se._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,Se._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,Se._)`${r} || {}`).code((0,Se._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,Se._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,Se._)`${r} || {}`),jS(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:d(d({},e),t),resultToName:jk}),items:$k({mergeNames:(e,t,r)=>e.if((0,Se._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,Se._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,Se._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,Se._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function jk(e,t){if(t===!0)return e.var("props",!0);let r=e.var("props",(0,Se._)`{}`);return t!==void 0&&jS(e,r,t),r}J.evaluatedPropsToName=jk;function jS(e,t,r){Object.keys(r).forEach(n=>e.assign((0,Se._)`${t}${(0,Se.getProperty)(n)}`,!0))}J.setEvaluated=jS;var Dk={};function H4(e,t){return e.scopeValue("func",{ref:t,code:Dk[t.code]||(Dk[t.code]=new $4._Code(t.code))})}J.useFunc=H4;var LS;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(LS||(J.Type=LS={}));function q4(e,t,r){if(e instanceof Se.Name){let n=t===LS.Num;return r?n?(0,Se._)`"[" + ${e} + "]"`:(0,Se._)`"['" + ${e} + "']"`:n?(0,Se._)`"/" + ${e}`:(0,Se._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,Se.getProperty)(e).toString():"/"+FS(e)}J.getErrorPath=q4;function Bk(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}J.checkStrictMode=Bk});var Wt=v(BS=>{"use strict";Object.defineProperty(BS,"__esModule",{value:!0});var ot=L(),G4={data:new ot.Name("data"),valCxt:new ot.Name("valCxt"),instancePath:new ot.Name("instancePath"),parentData:new ot.Name("parentData"),parentDataProperty:new ot.Name("parentDataProperty"),rootData:new ot.Name("rootData"),dynamicAnchors:new ot.Name("dynamicAnchors"),vErrors:new ot.Name("vErrors"),errors:new ot.Name("errors"),this:new ot.Name("this"),self:new ot.Name("self"),scope:new ot.Name("scope"),json:new ot.Name("json"),jsonPos:new ot.Name("jsonPos"),jsonLen:new ot.Name("jsonLen"),jsonPart:new ot.Name("jsonPart")};BS.default=G4});var fu=v(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.extendErrors=st.resetErrorsCount=st.reportExtraError=st.reportError=st.keyword$DataError=st.keywordError=void 0;var se=L(),cp=Q(),dt=Wt();st.keywordError={message:({keyword:e})=>(0,se.str)`must pass "${e}" keyword validation`};st.keyword$DataError={message:({keyword:e,schemaType:t})=>t?(0,se.str)`"${e}" keyword must be ${t} ($data)`:(0,se.str)`"${e}" keyword is invalid ($data)`};function z4(e,t=st.keywordError,r,n){let{it:o}=e,{gen:s,compositeRule:i,allErrors:a}=o,c=qk(e,t,r);(n!=null?n:i||a)?Uk(s,c):Hk(o,(0,se._)`[${c}]`)}st.reportError=z4;function V4(e,t=st.keywordError,r){let{it:n}=e,{gen:o,compositeRule:s,allErrors:i}=n,a=qk(e,t,r);Uk(o,a),s||i||Hk(n,dt.default.vErrors)}st.reportExtraError=V4;function W4(e,t){e.assign(dt.default.errors,t),e.if((0,se._)`${dt.default.vErrors} !== null`,()=>e.if(t,()=>e.assign((0,se._)`${dt.default.vErrors}.length`,t),()=>e.assign(dt.default.vErrors,null)))}st.resetErrorsCount=W4;function K4({gen:e,keyword:t,schemaValue:r,data:n,errsCount:o,it:s}){if(o===void 0)throw new Error("ajv implementation error");let i=e.name("err");e.forRange("i",o,dt.default.errors,a=>{e.const(i,(0,se._)`${dt.default.vErrors}[${a}]`),e.if((0,se._)`${i}.instancePath === undefined`,()=>e.assign((0,se._)`${i}.instancePath`,(0,se.strConcat)(dt.default.instancePath,s.errorPath))),e.assign((0,se._)`${i}.schemaPath`,(0,se.str)`${s.errSchemaPath}/${t}`),s.opts.verbose&&(e.assign((0,se._)`${i}.schema`,r),e.assign((0,se._)`${i}.data`,n))})}st.extendErrors=K4;function Uk(e,t){let r=e.const("err",t);e.if((0,se._)`${dt.default.vErrors} === null`,()=>e.assign(dt.default.vErrors,(0,se._)`[${r}]`),(0,se._)`${dt.default.vErrors}.push(${r})`),e.code((0,se._)`${dt.default.errors}++`)}function Hk(e,t){let{gen:r,validateName:n,schemaEnv:o}=e;o.$async?r.throw((0,se._)`new ${e.ValidationError}(${t})`):(r.assign((0,se._)`${n}.errors`,t),r.return(!1))}var Vo={keyword:new se.Name("keyword"),schemaPath:new se.Name("schemaPath"),params:new se.Name("params"),propertyName:new se.Name("propertyName"),message:new se.Name("message"),schema:new se.Name("schema"),parentSchema:new se.Name("parentSchema")};function qk(e,t,r){let{createErrors:n}=e.it;return n===!1?(0,se._)`{}`:Y4(e,t,r)}function Y4(e,t,r={}){let{gen:n,it:o}=e,s=[J4(o,r),X4(e,r)];return Z4(e,t,s),n.object(...s)}function J4({errorPath:e},{instancePath:t}){let r=t?(0,se.str)`${e}${(0,cp.getErrorPath)(t,cp.Type.Str)}`:e;return[dt.default.instancePath,(0,se.strConcat)(dt.default.instancePath,r)]}function X4({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:n}){let o=n?t:(0,se.str)`${t}/${e}`;return r&&(o=(0,se.str)`${o}${(0,cp.getErrorPath)(r,cp.Type.Str)}`),[Vo.schemaPath,o]}function Z4(e,{params:t,message:r},n){let{keyword:o,data:s,schemaValue:i,it:a}=e,{opts:c,propertyName:u,topSchemaRef:l,schemaPath:f}=a;n.push([Vo.keyword,o],[Vo.params,typeof t=="function"?t(e):t||(0,se._)`{}`]),c.messages&&n.push([Vo.message,typeof r=="function"?r(e):r]),c.verbose&&n.push([Vo.schema,i],[Vo.parentSchema,(0,se._)`${l}${f}`],[dt.default.data,s]),u&&n.push([Vo.propertyName,u])}});var zk=v(Mi=>{"use strict";Object.defineProperty(Mi,"__esModule",{value:!0});Mi.boolOrEmptySchema=Mi.topBoolOrEmptySchema=void 0;var Q4=fu(),e3=L(),t3=Wt(),r3={message:"boolean schema is false"};function n3(e){let{gen:t,schema:r,validateName:n}=e;r===!1?Gk(e,!1):typeof r=="object"&&r.$async===!0?t.return(t3.default.data):(t.assign((0,e3._)`${n}.errors`,null),t.return(!0))}Mi.topBoolOrEmptySchema=n3;function o3(e,t){let{gen:r,schema:n}=e;n===!1?(r.var(t,!1),Gk(e)):r.var(t,!0)}Mi.boolOrEmptySchema=o3;function Gk(e,t){let{gen:r,data:n}=e,o={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,Q4.reportError)(o,r3,void 0,t)}});var US=v(Li=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});Li.getRules=Li.isJSONType=void 0;var s3=["string","number","integer","boolean","null","object","array"],i3=new Set(s3);function a3(e){return typeof e=="string"&&i3.has(e)}Li.isJSONType=a3;function c3(){let e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:b(d({},e),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Li.getRules=c3});var HS=v(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});qn.shouldUseRule=qn.shouldUseGroup=qn.schemaHasRulesForType=void 0;function u3({schema:e,self:t},r){let n=t.RULES.types[r];return n&&n!==!0&&Vk(e,n)}qn.schemaHasRulesForType=u3;function Vk(e,t){return t.rules.some(r=>Wk(e,r))}qn.shouldUseGroup=Vk;function Wk(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}qn.shouldUseRule=Wk});var du=v(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.reportTypeError=it.checkDataTypes=it.checkDataType=it.coerceAndCheckDataType=it.getJSONTypes=it.getSchemaTypes=it.DataType=void 0;var l3=US(),f3=HS(),d3=fu(),q=L(),Kk=Q(),Fi;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(Fi||(it.DataType=Fi={}));function p3(e){let t=Yk(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}it.getSchemaTypes=p3;function Yk(e){let t=Array.isArray(e)?e:e?[e]:[];if(t.every(l3.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}it.getJSONTypes=Yk;function m3(e,t){let{gen:r,data:n,opts:o}=e,s=h3(t,o.coerceTypes),i=t.length>0&&!(s.length===0&&t.length===1&&(0,f3.schemaHasRulesForType)(e,t[0]));if(i){let a=GS(t,n,o.strictNumbers,Fi.Wrong);r.if(a,()=>{s.length?g3(e,t,s):zS(e)})}return i}it.coerceAndCheckDataType=m3;var Jk=new Set(["string","number","integer","boolean","null"]);function h3(e,t){return t?e.filter(r=>Jk.has(r)||t==="array"&&r==="array"):[]}function g3(e,t,r){let{gen:n,data:o,opts:s}=e,i=n.let("dataType",(0,q._)`typeof ${o}`),a=n.let("coerced",(0,q._)`undefined`);s.coerceTypes==="array"&&n.if((0,q._)`${i} == 'object' && Array.isArray(${o}) && ${o}.length == 1`,()=>n.assign(o,(0,q._)`${o}[0]`).assign(i,(0,q._)`typeof ${o}`).if(GS(t,o,s.strictNumbers),()=>n.assign(a,o))),n.if((0,q._)`${a} !== undefined`);for(let u of r)(Jk.has(u)||u==="array"&&s.coerceTypes==="array")&&c(u);n.else(),zS(e),n.endIf(),n.if((0,q._)`${a} !== undefined`,()=>{n.assign(o,a),y3(e,a)});function c(u){switch(u){case"string":n.elseIf((0,q._)`${i} == "number" || ${i} == "boolean"`).assign(a,(0,q._)`"" + ${o}`).elseIf((0,q._)`${o} === null`).assign(a,(0,q._)`""`);return;case"number":n.elseIf((0,q._)`${i} == "boolean" || ${o} === null
              || (${i} == "string" && ${o} && ${o} == +${o})`).assign(a,(0,q._)`+${o}`);return;case"integer":n.elseIf((0,q._)`${i} === "boolean" || ${o} === null
              || (${i} === "string" && ${o} && ${o} == +${o} && !(${o} % 1))`).assign(a,(0,q._)`+${o}`);return;case"boolean":n.elseIf((0,q._)`${o} === "false" || ${o} === 0 || ${o} === null`).assign(a,!1).elseIf((0,q._)`${o} === "true" || ${o} === 1`).assign(a,!0);return;case"null":n.elseIf((0,q._)`${o} === "" || ${o} === 0 || ${o} === false`),n.assign(a,null);return;case"array":n.elseIf((0,q._)`${i} === "string" || ${i} === "number"
              || ${i} === "boolean" || ${o} === null`).assign(a,(0,q._)`[${o}]`)}}}function y3({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,q._)`${t} !== undefined`,()=>e.assign((0,q._)`${t}[${r}]`,n))}function qS(e,t,r,n=Fi.Correct){let o=n===Fi.Correct?q.operators.EQ:q.operators.NEQ,s;switch(e){case"null":return(0,q._)`${t} ${o} null`;case"array":s=(0,q._)`Array.isArray(${t})`;break;case"object":s=(0,q._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":s=i((0,q._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":s=i();break;default:return(0,q._)`typeof ${t} ${o} ${e}`}return n===Fi.Correct?s:(0,q.not)(s);function i(a=q.nil){return(0,q.and)((0,q._)`typeof ${t} == "number"`,a,r?(0,q._)`isFinite(${t})`:q.nil)}}it.checkDataType=qS;function GS(e,t,r,n){if(e.length===1)return qS(e[0],t,r,n);let o,s=(0,Kk.toHash)(e);if(s.array&&s.object){let i=(0,q._)`typeof ${t} != "object"`;o=s.null?i:(0,q._)`!${t} || ${i}`,delete s.null,delete s.array,delete s.object}else o=q.nil;s.number&&delete s.integer;for(let i in s)o=(0,q.and)(o,qS(i,t,r,n));return o}it.checkDataTypes=GS;var _3={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,q._)`{type: ${e}}`:(0,q._)`{type: ${t}}`};function zS(e){let t=S3(e);(0,d3.reportError)(t,_3)}it.reportTypeError=zS;function S3(e){let{gen:t,data:r,schema:n}=e,o=(0,Kk.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:o,schemaValue:o,parentSchema:n,params:{},it:e}}});var Zk=v(up=>{"use strict";Object.defineProperty(up,"__esModule",{value:!0});up.assignDefaults=void 0;var ji=L(),E3=Q();function b3(e,t){let{properties:r,items:n}=e.schema;if(t==="object"&&r)for(let o in r)Xk(e,o,r[o].default);else t==="array"&&Array.isArray(n)&&n.forEach((o,s)=>Xk(e,s,o.default))}up.assignDefaults=b3;function Xk(e,t,r){let{gen:n,compositeRule:o,data:s,opts:i}=e;if(r===void 0)return;let a=(0,ji._)`${s}${(0,ji.getProperty)(t)}`;if(o){(0,E3.checkStrictMode)(e,`default is ignored for: ${a}`);return}let c=(0,ji._)`${a} === undefined`;i.useDefaults==="empty"&&(c=(0,ji._)`${c} || ${a} === null || ${a} === ""`),n.if(c,(0,ji._)`${a} = ${(0,ji.stringify)(r)}`)}});var Kt=v(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.validateUnion=pe.validateArray=pe.usePattern=pe.callValidateCode=pe.schemaProperties=pe.allSchemaProperties=pe.noPropertyInData=pe.propertyInData=pe.isOwnProperty=pe.hasPropFunc=pe.reportMissingProp=pe.checkMissingProp=pe.checkReportMissingProp=void 0;var Ie=L(),VS=Q(),Gn=Wt(),v3=Q();function T3(e,t){let{gen:r,data:n,it:o}=e;r.if(KS(r,n,t,o.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Ie._)`${t}`},!0),e.error()})}pe.checkReportMissingProp=T3;function I3({gen:e,data:t,it:{opts:r}},n,o){return(0,Ie.or)(...n.map(s=>(0,Ie.and)(KS(e,t,s,r.ownProperties),(0,Ie._)`${o} = ${s}`)))}pe.checkMissingProp=I3;function x3(e,t){e.setParams({missingProperty:t},!0),e.error()}pe.reportMissingProp=x3;function Qk(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Ie._)`Object.prototype.hasOwnProperty`})}pe.hasPropFunc=Qk;function WS(e,t,r){return(0,Ie._)`${Qk(e)}.call(${t}, ${r})`}pe.isOwnProperty=WS;function w3(e,t,r,n){let o=(0,Ie._)`${t}${(0,Ie.getProperty)(r)} !== undefined`;return n?(0,Ie._)`${o} && ${WS(e,t,r)}`:o}pe.propertyInData=w3;function KS(e,t,r,n){let o=(0,Ie._)`${t}${(0,Ie.getProperty)(r)} === undefined`;return n?(0,Ie.or)(o,(0,Ie.not)(WS(e,t,r))):o}pe.noPropertyInData=KS;function eA(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}pe.allSchemaProperties=eA;function C3(e,t){return eA(t).filter(r=>!(0,VS.alwaysValidSchema)(e,t[r]))}pe.schemaProperties=C3;function O3({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:o,errorPath:s},it:i},a,c,u){let l=u?(0,Ie._)`${e}, ${t}, ${n}${o}`:t,f=[[Gn.default.instancePath,(0,Ie.strConcat)(Gn.default.instancePath,s)],[Gn.default.parentData,i.parentData],[Gn.default.parentDataProperty,i.parentDataProperty],[Gn.default.rootData,Gn.default.rootData]];i.opts.dynamicRef&&f.push([Gn.default.dynamicAnchors,Gn.default.dynamicAnchors]);let p=(0,Ie._)`${l}, ${r.object(...f)}`;return c!==Ie.nil?(0,Ie._)`${a}.call(${c}, ${p})`:(0,Ie._)`${a}(${p})`}pe.callValidateCode=O3;var R3=(0,Ie._)`new RegExp`;function k3({gen:e,it:{opts:t}},r){let n=t.unicodeRegExp?"u":"",{regExp:o}=t.code,s=o(r,n);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,Ie._)`${o.code==="new RegExp"?R3:(0,v3.useFunc)(e,o)}(${r}, ${n})`})}pe.usePattern=k3;function A3(e){let{gen:t,data:r,keyword:n,it:o}=e,s=t.name("valid");if(o.allErrors){let a=t.let("valid",!0);return i(()=>t.assign(a,!1)),a}return t.var(s,!0),i(()=>t.break()),s;function i(a){let c=t.const("len",(0,Ie._)`${r}.length`);t.forRange("i",0,c,u=>{e.subschema({keyword:n,dataProp:u,dataPropType:VS.Type.Num},s),t.if((0,Ie.not)(s),a)})}}pe.validateArray=A3;function N3(e){let{gen:t,schema:r,keyword:n,it:o}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,VS.alwaysValidSchema)(o,c))&&!o.opts.unevaluated)return;let i=t.let("valid",!1),a=t.name("_valid");t.block(()=>r.forEach((c,u)=>{let l=e.subschema({keyword:n,schemaProp:u,compositeRule:!0},a);t.assign(i,(0,Ie._)`${i} || ${a}`),e.mergeValidEvaluated(l,a)||t.if((0,Ie.not)(i))})),e.result(i,()=>e.reset(),()=>e.error(!0))}pe.validateUnion=N3});var nA=v(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.validateKeywordUsage=Ar.validSchemaType=Ar.funcKeywordCode=Ar.macroKeywordCode=void 0;var pt=L(),Wo=Wt(),P3=Kt(),$3=fu();function D3(e,t){let{gen:r,keyword:n,schema:o,parentSchema:s,it:i}=e,a=t.macro.call(i.self,o,s,i),c=rA(r,n,a);i.opts.validateSchema!==!1&&i.self.validateSchema(a,!0);let u=r.name("valid");e.subschema({schema:a,schemaPath:pt.nil,errSchemaPath:`${i.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},u),e.pass(u,()=>e.error(!0))}Ar.macroKeywordCode=D3;function M3(e,t){var r;let{gen:n,keyword:o,schema:s,parentSchema:i,$data:a,it:c}=e;F3(c,t);let u=!a&&t.compile?t.compile.call(c.self,s,i,c):t.validate,l=rA(n,o,u),f=n.let("valid");e.block$data(f,p),e.ok((r=t.valid)!==null&&r!==void 0?r:f);function p(){if(t.errors===!1)_(),t.modifying&&tA(e),y(()=>e.error());else{let g=t.async?m():h();t.modifying&&tA(e),y(()=>L3(e,g))}}function m(){let g=n.let("ruleErrs",null);return n.try(()=>_((0,pt._)`await `),S=>n.assign(f,!1).if((0,pt._)`${S} instanceof ${c.ValidationError}`,()=>n.assign(g,(0,pt._)`${S}.errors`),()=>n.throw(S))),g}function h(){let g=(0,pt._)`${l}.errors`;return n.assign(g,null),_(pt.nil),g}function _(g=t.async?(0,pt._)`await `:pt.nil){let S=c.opts.passContext?Wo.default.this:Wo.default.self,T=!("compile"in t&&!a||t.schema===!1);n.assign(f,(0,pt._)`${g}${(0,P3.callValidateCode)(e,l,S,T)}`,t.modifying)}function y(g){var S;n.if((0,pt.not)((S=t.valid)!==null&&S!==void 0?S:f),g)}}Ar.funcKeywordCode=M3;function tA(e){let{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,pt._)`${n.parentData}[${n.parentDataProperty}]`))}function L3(e,t){let{gen:r}=e;r.if((0,pt._)`Array.isArray(${t})`,()=>{r.assign(Wo.default.vErrors,(0,pt._)`${Wo.default.vErrors} === null ? ${t} : ${Wo.default.vErrors}.concat(${t})`).assign(Wo.default.errors,(0,pt._)`${Wo.default.vErrors}.length`),(0,$3.extendErrors)(e)},()=>e.error())}function F3({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function rA(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,pt.stringify)(r)})}function j3(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e=="undefined")}Ar.validSchemaType=j3;function B3({schema:e,opts:t,self:r,errSchemaPath:n},o,s){if(Array.isArray(o.keyword)?!o.keyword.includes(s):o.keyword!==s)throw new Error("ajv implementation error");let i=o.dependencies;if(i!=null&&i.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${s}: ${i.join(",")}`);if(o.validateSchema&&!o.validateSchema(e[s])){let c=`keyword "${s}" value is invalid at path "${n}": `+r.errorsText(o.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}Ar.validateKeywordUsage=B3});var sA=v(zn=>{"use strict";Object.defineProperty(zn,"__esModule",{value:!0});zn.extendSubschemaMode=zn.extendSubschemaData=zn.getSubschema=void 0;var Nr=L(),oA=Q();function U3(e,{keyword:t,schemaProp:r,schema:n,schemaPath:o,errSchemaPath:s,topSchemaRef:i}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){let a=e.schema[t];return r===void 0?{schema:a,schemaPath:(0,Nr._)`${e.schemaPath}${(0,Nr.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[r],schemaPath:(0,Nr._)`${e.schemaPath}${(0,Nr.getProperty)(t)}${(0,Nr.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,oA.escapeFragment)(r)}`}}if(n!==void 0){if(o===void 0||s===void 0||i===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:o,topSchemaRef:i,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}zn.getSubschema=U3;function H3(e,t,{dataProp:r,dataPropType:n,data:o,dataTypes:s,propertyName:i}){if(o!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:a}=t;if(r!==void 0){let{errorPath:u,dataPathArr:l,opts:f}=t,p=a.let("data",(0,Nr._)`${t.data}${(0,Nr.getProperty)(r)}`,!0);c(p),e.errorPath=(0,Nr.str)`${u}${(0,oA.getErrorPath)(r,n,f.jsPropertySyntax)}`,e.parentDataProperty=(0,Nr._)`${r}`,e.dataPathArr=[...l,e.parentDataProperty]}if(o!==void 0){let u=o instanceof Nr.Name?o:a.let("data",o,!0);c(u),i!==void 0&&(e.propertyName=i)}s&&(e.dataTypes=s);function c(u){e.data=u,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,u]}}zn.extendSubschemaData=H3;function q3(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:o,allErrors:s}){n!==void 0&&(e.compositeRule=n),o!==void 0&&(e.createErrors=o),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=r}zn.extendSubschemaMode=q3});var YS=v((SEe,iA)=>{"use strict";iA.exports=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,o,s;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(o=n;o--!==0;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(r).length)return!1;for(o=n;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[o]))return!1;for(o=n;o--!==0;){var i=s[o];if(!e(t[i],r[i]))return!1}return!0}return t!==t&&r!==r}});var cA=v((EEe,aA)=>{"use strict";var Vn=aA.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},o=r.post||function(){};lp(t,n,o,e,"",e)};Vn.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Vn.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Vn.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Vn.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function lp(e,t,r,n,o,s,i,a,c,u){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,o,s,i,a,c,u);for(var l in n){var f=n[l];if(Array.isArray(f)){if(l in Vn.arrayKeywords)for(var p=0;p<f.length;p++)lp(e,t,r,f[p],o+"/"+l+"/"+p,s,o,l,n,p)}else if(l in Vn.propsKeywords){if(f&&typeof f=="object")for(var m in f)lp(e,t,r,f[m],o+"/"+l+"/"+G3(m),s,o,l,n,m)}else(l in Vn.keywords||e.allKeys&&!(l in Vn.skipKeywords))&&lp(e,t,r,f,o+"/"+l,s,o,l,n)}r(n,o,s,i,a,c,u)}}function G3(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}});var pu=v(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.getSchemaRefs=Tt.resolveUrl=Tt.normalizeId=Tt._getFullPath=Tt.getFullPath=Tt.inlineRef=void 0;var z3=Q(),V3=YS(),W3=cA(),K3=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Y3(e,t=!0){return typeof e=="boolean"?!0:t===!0?!JS(e):t?uA(e)<=t:!1}Tt.inlineRef=Y3;var J3=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function JS(e){for(let t in e){if(J3.has(t))return!0;let r=e[t];if(Array.isArray(r)&&r.some(JS)||typeof r=="object"&&JS(r))return!0}return!1}function uA(e){let t=0;for(let r in e){if(r==="$ref")return 1/0;if(t++,!K3.has(r)&&(typeof e[r]=="object"&&(0,z3.eachItem)(e[r],n=>t+=uA(n)),t===1/0))return 1/0}return t}function lA(e,t="",r){r!==!1&&(t=Bi(t));let n=e.parse(t);return fA(e,n)}Tt.getFullPath=lA;function fA(e,t){return e.serialize(t).split("#")[0]+"#"}Tt._getFullPath=fA;var X3=/#\/?$/;function Bi(e){return e?e.replace(X3,""):""}Tt.normalizeId=Bi;function Z3(e,t,r){return r=Bi(r),e.resolve(t,r)}Tt.resolveUrl=Z3;var Q3=/^[a-z_][-a-z0-9._]*$/i;function ez(e,t){if(typeof e=="boolean")return{};let{schemaId:r,uriResolver:n}=this.opts,o=Bi(e[r]||t),s={"":o},i=lA(n,o,!1),a={},c=new Set;return W3(e,{allKeys:!0},(f,p,m,h)=>{if(h===void 0)return;let _=i+p,y=s[h];typeof f[r]=="string"&&(y=g.call(this,f[r])),S.call(this,f.$anchor),S.call(this,f.$dynamicAnchor),s[p]=y;function g(T){let x=this.opts.uriResolver.resolve;if(T=Bi(y?x(y,T):T),c.has(T))throw l(T);c.add(T);let I=this.refs[T];return typeof I=="string"&&(I=this.refs[I]),typeof I=="object"?u(f,I.schema,T):T!==Bi(_)&&(T[0]==="#"?(u(f,a[T],T),a[T]=f):this.refs[T]=_),T}function S(T){if(typeof T=="string"){if(!Q3.test(T))throw new Error(`invalid anchor "${T}"`);g.call(this,`#${T}`)}}}),a;function u(f,p,m){if(p!==void 0&&!V3(f,p))throw l(m)}function l(f){return new Error(`reference "${f}" resolves to more than one schema`)}}Tt.getSchemaRefs=ez});var Ko=v(Wn=>{"use strict";Object.defineProperty(Wn,"__esModule",{value:!0});Wn.getData=Wn.KeywordCxt=Wn.validateFunctionCode=void 0;var gA=zk(),dA=du(),ZS=HS(),fp=du(),tz=Zk(),hu=nA(),XS=sA(),N=L(),F=Wt(),rz=pu(),sn=Q(),mu=fu();function nz(e){if(SA(e)&&(EA(e),_A(e))){iz(e);return}yA(e,()=>(0,gA.topBoolOrEmptySchema)(e))}Wn.validateFunctionCode=nz;function yA({gen:e,validateName:t,schema:r,schemaEnv:n,opts:o},s){o.code.es5?e.func(t,(0,N._)`${F.default.data}, ${F.default.valCxt}`,n.$async,()=>{e.code((0,N._)`"use strict"; ${pA(r,o)}`),sz(e,o),e.code(s)}):e.func(t,(0,N._)`${F.default.data}, ${oz(o)}`,n.$async,()=>e.code(pA(r,o)).code(s))}function oz(e){return(0,N._)`{${F.default.instancePath}="", ${F.default.parentData}, ${F.default.parentDataProperty}, ${F.default.rootData}=${F.default.data}${e.dynamicRef?(0,N._)`, ${F.default.dynamicAnchors}={}`:N.nil}}={}`}function sz(e,t){e.if(F.default.valCxt,()=>{e.var(F.default.instancePath,(0,N._)`${F.default.valCxt}.${F.default.instancePath}`),e.var(F.default.parentData,(0,N._)`${F.default.valCxt}.${F.default.parentData}`),e.var(F.default.parentDataProperty,(0,N._)`${F.default.valCxt}.${F.default.parentDataProperty}`),e.var(F.default.rootData,(0,N._)`${F.default.valCxt}.${F.default.rootData}`),t.dynamicRef&&e.var(F.default.dynamicAnchors,(0,N._)`${F.default.valCxt}.${F.default.dynamicAnchors}`)},()=>{e.var(F.default.instancePath,(0,N._)`""`),e.var(F.default.parentData,(0,N._)`undefined`),e.var(F.default.parentDataProperty,(0,N._)`undefined`),e.var(F.default.rootData,F.default.data),t.dynamicRef&&e.var(F.default.dynamicAnchors,(0,N._)`{}`)})}function iz(e){let{schema:t,opts:r,gen:n}=e;yA(e,()=>{r.$comment&&t.$comment&&vA(e),fz(e),n.let(F.default.vErrors,null),n.let(F.default.errors,0),r.unevaluated&&az(e),bA(e),mz(e)})}function az(e){let{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,N._)`${r}.evaluated`),t.if((0,N._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,N._)`${e.evaluated}.props`,(0,N._)`undefined`)),t.if((0,N._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,N._)`${e.evaluated}.items`,(0,N._)`undefined`))}function pA(e,t){let r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,N._)`/*# sourceURL=${r} */`:N.nil}function cz(e,t){if(SA(e)&&(EA(e),_A(e))){uz(e,t);return}(0,gA.boolOrEmptySchema)(e,t)}function _A({schema:e,self:t}){if(typeof e=="boolean")return!e;for(let r in e)if(t.RULES.all[r])return!0;return!1}function SA(e){return typeof e.schema!="boolean"}function uz(e,t){let{schema:r,gen:n,opts:o}=e;o.$comment&&r.$comment&&vA(e),dz(e),pz(e);let s=n.const("_errs",F.default.errors);bA(e,s),n.var(t,(0,N._)`${s} === ${F.default.errors}`)}function EA(e){(0,sn.checkUnknownRules)(e),lz(e)}function bA(e,t){if(e.opts.jtd)return mA(e,[],!1,t);let r=(0,dA.getSchemaTypes)(e.schema),n=(0,dA.coerceAndCheckDataType)(e,r);mA(e,r,!n,t)}function lz(e){let{schema:t,errSchemaPath:r,opts:n,self:o}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,sn.schemaHasRulesButRef)(t,o.RULES)&&o.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function fz(e){let{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,sn.checkStrictMode)(e,"default is ignored in the schema root")}function dz(e){let t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,rz.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function pz(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function vA({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:o}){let s=r.$comment;if(o.$comment===!0)e.code((0,N._)`${F.default.self}.logger.log(${s})`);else if(typeof o.$comment=="function"){let i=(0,N.str)`${n}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,N._)`${F.default.self}.opts.$comment(${s}, ${i}, ${a}.schema)`)}}function mz(e){let{gen:t,schemaEnv:r,validateName:n,ValidationError:o,opts:s}=e;r.$async?t.if((0,N._)`${F.default.errors} === 0`,()=>t.return(F.default.data),()=>t.throw((0,N._)`new ${o}(${F.default.vErrors})`)):(t.assign((0,N._)`${n}.errors`,F.default.vErrors),s.unevaluated&&hz(e),t.return((0,N._)`${F.default.errors} === 0`))}function hz({gen:e,evaluated:t,props:r,items:n}){r instanceof N.Name&&e.assign((0,N._)`${t}.props`,r),n instanceof N.Name&&e.assign((0,N._)`${t}.items`,n)}function mA(e,t,r,n){let{gen:o,schema:s,data:i,allErrors:a,opts:c,self:u}=e,{RULES:l}=u;if(s.$ref&&(c.ignoreKeywordsWithRef||!(0,sn.schemaHasRulesButRef)(s,l))){o.block(()=>IA(e,"$ref",l.all.$ref.definition));return}c.jtd||gz(e,t),o.block(()=>{for(let p of l.rules)f(p);f(l.post)});function f(p){(0,ZS.shouldUseGroup)(s,p)&&(p.type?(o.if((0,fp.checkDataType)(p.type,i,c.strictNumbers)),hA(e,p),t.length===1&&t[0]===p.type&&r&&(o.else(),(0,fp.reportTypeError)(e)),o.endIf()):hA(e,p),a||o.if((0,N._)`${F.default.errors} === ${n||0}`))}}function hA(e,t){let{gen:r,schema:n,opts:{useDefaults:o}}=e;o&&(0,tz.assignDefaults)(e,t.type),r.block(()=>{for(let s of t.rules)(0,ZS.shouldUseRule)(n,s)&&IA(e,s.keyword,s.definition,t.type)})}function gz(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(yz(e,t),e.opts.allowUnionTypes||_z(e,t),Sz(e,e.dataTypes))}function yz(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{TA(e.dataTypes,r)||QS(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),bz(e,t)}}function _z(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&QS(e,"use allowUnionTypes to allow union type keyword")}function Sz(e,t){let r=e.self.RULES.all;for(let n in r){let o=r[n];if(typeof o=="object"&&(0,ZS.shouldUseRule)(e.schema,o)){let{type:s}=o.definition;s.length&&!s.some(i=>Ez(t,i))&&QS(e,`missing type "${s.join(",")}" for keyword "${n}"`)}}}function Ez(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function TA(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function bz(e,t){let r=[];for(let n of e.dataTypes)TA(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function QS(e,t){let r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,sn.checkStrictMode)(e,t,e.opts.strictTypes)}var dp=class{constructor(t,r,n){if((0,hu.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,sn.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",xA(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,hu.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",F.default.errors))}result(t,r,n){this.failResult((0,N.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,N.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);let{schemaCode:r}=this;this.fail((0,N._)`${r} !== undefined && (${(0,N.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?mu.reportExtraError:mu.reportError)(this,this.def.error,r)}$dataError(){(0,mu.reportError)(this,this.def.$dataError||mu.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,mu.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=N.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=N.nil,r=N.nil){if(!this.$data)return;let{gen:n,schemaCode:o,schemaType:s,def:i}=this;n.if((0,N.or)((0,N._)`${o} === undefined`,r)),t!==N.nil&&n.assign(t,!0),(s.length||i.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==N.nil&&n.assign(t,!1)),n.else()}invalid$data(){let{gen:t,schemaCode:r,schemaType:n,def:o,it:s}=this;return(0,N.or)(i(),a());function i(){if(n.length){if(!(r instanceof N.Name))throw new Error("ajv implementation error");let c=Array.isArray(n)?n:[n];return(0,N._)`${(0,fp.checkDataTypes)(c,r,s.opts.strictNumbers,fp.DataType.Wrong)}`}return N.nil}function a(){if(o.validateSchema){let c=t.scopeValue("validate$data",{ref:o.validateSchema});return(0,N._)`!${c}(${r})`}return N.nil}}subschema(t,r){let n=(0,XS.getSubschema)(this.it,t);(0,XS.extendSubschemaData)(n,this.it,t),(0,XS.extendSubschemaMode)(n,t);let o=b(d(d({},this.it),n),{items:void 0,props:void 0});return cz(o,r),o}mergeEvaluated(t,r){let{it:n,gen:o}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=sn.mergeEvaluated.props(o,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=sn.mergeEvaluated.items(o,t.items,n.items,r)))}mergeValidEvaluated(t,r){let{it:n,gen:o}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return o.if(r,()=>this.mergeEvaluated(t,N.Name)),!0}};Wn.KeywordCxt=dp;function IA(e,t,r,n){let o=new dp(e,r,t);"code"in r?r.code(o,n):o.$data&&r.validate?(0,hu.funcKeywordCode)(o,r):"macro"in r?(0,hu.macroKeywordCode)(o,r):(r.compile||r.validate)&&(0,hu.funcKeywordCode)(o,r)}var vz=/^\/(?:[^~]|~0|~1)*$/,Tz=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function xA(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let o,s;if(e==="")return F.default.rootData;if(e[0]==="/"){if(!vz.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);o=e,s=F.default.rootData}else{let u=Tz.exec(e);if(!u)throw new Error(`Invalid JSON-pointer: ${e}`);let l=+u[1];if(o=u[2],o==="#"){if(l>=t)throw new Error(c("property/index",l));return n[t-l]}if(l>t)throw new Error(c("data",l));if(s=r[t-l],!o)return s}let i=s,a=o.split("/");for(let u of a)u&&(s=(0,N._)`${s}${(0,N.getProperty)((0,sn.unescapeJsonPointer)(u))}`,i=(0,N._)`${i} && ${s}`);return i;function c(u,l){return`Cannot access ${u} ${l} levels up, current level is ${t}`}}Wn.getData=xA});var Ui=v(tE=>{"use strict";Object.defineProperty(tE,"__esModule",{value:!0});var eE=class extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}};tE.default=eE});var Yo=v(oE=>{"use strict";Object.defineProperty(oE,"__esModule",{value:!0});var rE=pu(),nE=class extends Error{constructor(t,r,n,o){super(o||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,rE.resolveUrl)(t,r,n),this.missingSchema=(0,rE.normalizeId)((0,rE.getFullPath)(t,this.missingRef))}};oE.default=nE});var gu=v(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.resolveSchema=Yt.getCompilingSchema=Yt.resolveRef=Yt.compileSchema=Yt.SchemaEnv=void 0;var hr=L(),Iz=Ui(),Jo=Wt(),gr=pu(),wA=Q(),xz=Ko(),Hi=class{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,gr.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}};Yt.SchemaEnv=Hi;function iE(e){let t=CA.call(this,e);if(t)return t;let r=(0,gr.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:o}=this.opts.code,{ownProperties:s}=this.opts,i=new hr.CodeGen(this.scope,{es5:n,lines:o,ownProperties:s}),a;e.$async&&(a=i.scopeValue("Error",{ref:Iz.default,code:(0,hr._)`require("ajv/dist/runtime/validation_error").default`}));let c=i.scopeName("validate");e.validateName=c;let u={gen:i,allErrors:this.opts.allErrors,data:Jo.default.data,parentData:Jo.default.parentData,parentDataProperty:Jo.default.parentDataProperty,dataNames:[Jo.default.data],dataPathArr:[hr.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:i.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,hr.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:hr.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,hr._)`""`,opts:this.opts,self:this},l;try{this._compilations.add(e),(0,xz.validateFunctionCode)(u),i.optimize(this.opts.code.optimize);let f=i.toString();l=`${i.scopeRefs(Jo.default.scope)}return ${f}`,this.opts.code.process&&(l=this.opts.code.process(l,e));let m=new Function(`${Jo.default.self}`,`${Jo.default.scope}`,l)(this,this.scope.get());if(this.scope.value(c,{ref:m}),m.errors=null,m.schema=e.schema,m.schemaEnv=e,e.$async&&(m.$async=!0),this.opts.code.source===!0&&(m.source={validateName:c,validateCode:f,scopeValues:i._values}),this.opts.unevaluated){let{props:h,items:_}=u;m.evaluated={props:h instanceof hr.Name?void 0:h,items:_ instanceof hr.Name?void 0:_,dynamicProps:h instanceof hr.Name,dynamicItems:_ instanceof hr.Name},m.source&&(m.source.evaluated=(0,hr.stringify)(m.evaluated))}return e.validate=m,e}catch(f){throw delete e.validate,delete e.validateName,l&&this.logger.error("Error compiling schema, function code:",l),f}finally{this._compilations.delete(e)}}Yt.compileSchema=iE;function wz(e,t,r){var n;r=(0,gr.resolveUrl)(this.opts.uriResolver,t,r);let o=e.refs[r];if(o)return o;let s=Rz.call(this,e,r);if(s===void 0){let i=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:a}=this.opts;i&&(s=new Hi({schema:i,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[r]=Cz.call(this,s)}Yt.resolveRef=wz;function Cz(e){return(0,gr.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:iE.call(this,e)}function CA(e){for(let t of this._compilations)if(Oz(t,e))return t}Yt.getCompilingSchema=CA;function Oz(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function Rz(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||pp.call(this,e,t)}function pp(e,t){let r=this.opts.uriResolver.parse(t),n=(0,gr._getFullPath)(this.opts.uriResolver,r),o=(0,gr.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===o)return sE.call(this,r,e);let s=(0,gr.normalizeId)(n),i=this.refs[s]||this.schemas[s];if(typeof i=="string"){let a=pp.call(this,e,i);return typeof(a==null?void 0:a.schema)!="object"?void 0:sE.call(this,r,a)}if(typeof(i==null?void 0:i.schema)=="object"){if(i.validate||iE.call(this,i),s===(0,gr.normalizeId)(t)){let{schema:a}=i,{schemaId:c}=this.opts,u=a[c];return u&&(o=(0,gr.resolveUrl)(this.opts.uriResolver,o,u)),new Hi({schema:a,schemaId:c,root:e,baseId:o})}return sE.call(this,r,i)}}Yt.resolveSchema=pp;var kz=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function sE(e,{baseId:t,schema:r,root:n}){var o;if(((o=e.fragment)===null||o===void 0?void 0:o[0])!=="/")return;for(let a of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let c=r[(0,wA.unescapeFragment)(a)];if(c===void 0)return;r=c;let u=typeof r=="object"&&r[this.opts.schemaId];!kz.has(a)&&u&&(t=(0,gr.resolveUrl)(this.opts.uriResolver,t,u))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,wA.schemaHasRulesButRef)(r,this.RULES)){let a=(0,gr.resolveUrl)(this.opts.uriResolver,t,r.$ref);s=pp.call(this,n,a)}let{schemaId:i}=this.opts;if(s=s||new Hi({schema:r,schemaId:i,root:n,baseId:t}),s.schema!==s.root.schema)return s}});var OA=v((CEe,Az)=>{Az.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var kA=v((OEe,RA)=>{"use strict";var Nz={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};RA.exports={HEX:Nz}});var FA=v((REe,LA)=>{"use strict";var{HEX:Pz}=kA();function $A(e){if(MA(e,".")<3)return{host:e,isIPV4:!1};let t=e.match(/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/u)||[],[r]=t;return r?{host:Dz(r,"."),isIPV4:!0}:{host:e,isIPV4:!1}}function aE(e,t=!1){let r="",n=!0;for(let o of e){if(Pz[o]===void 0)return;o!=="0"&&n===!0&&(n=!1),n||(r+=o)}return t&&r.length===0&&(r="0"),r}function $z(e){let t=0,r={error:!1,address:"",zone:""},n=[],o=[],s=!1,i=!1,a=!1;function c(){if(o.length){if(s===!1){let u=aE(o);if(u!==void 0)n.push(u);else return r.error=!0,!1}o.length=0}return!0}for(let u=0;u<e.length;u++){let l=e[u];if(!(l==="["||l==="]"))if(l===":"){if(i===!0&&(a=!0),!c())break;if(t++,n.push(":"),t>7){r.error=!0;break}u-1>=0&&e[u-1]===":"&&(i=!0);continue}else if(l==="%"){if(!c())break;s=!0}else{o.push(l);continue}}return o.length&&(s?r.zone=o.join(""):a?n.push(o.join("")):n.push(aE(o))),r.address=n.join(""),r}function DA(e,t={}){if(MA(e,":")<2)return{host:e,isIPV6:!1};let r=$z(e);if(r.error)return{host:e,isIPV6:!1};{let n=r.address,o=r.address;return r.zone&&(n+="%"+r.zone,o+="%25"+r.zone),{host:n,escapedHost:o,isIPV6:!0}}}function Dz(e,t){let r="",n=!0,o=e.length;for(let s=0;s<o;s++){let i=e[s];i==="0"&&n?(s+1<=o&&e[s+1]===t||s+1===o)&&(r+=i,n=!1):(i===t?n=!0:n=!1,r+=i)}return r}function MA(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}var AA=/^\.\.?\//u,NA=/^\/\.(?:\/|$)/u,PA=/^\/\.\.(?:\/|$)/u,Mz=/^\/?(?:.|\n)*?(?=\/|$)/u;function Lz(e){let t=[];for(;e.length;)if(e.match(AA))e=e.replace(AA,"");else if(e.match(NA))e=e.replace(NA,"/");else if(e.match(PA))e=e.replace(PA,"/"),t.pop();else if(e==="."||e==="..")e="";else{let r=e.match(Mz);if(r){let n=r[0];e=e.slice(n.length),t.push(n)}else throw new Error("Unexpected dot segment condition")}return t.join("")}function Fz(e,t){let r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function jz(e,t){let r=[];if(e.userinfo!==void 0&&(r.push(e.userinfo),r.push("@")),e.host!==void 0){let n=unescape(e.host),o=$A(n);if(o.isIPV4)n=o.host;else{let s=DA(o.host,{isIPV4:!1});s.isIPV6===!0?n=`[${s.escapedHost}]`:n=e.host}r.push(n)}return(typeof e.port=="number"||typeof e.port=="string")&&(r.push(":"),r.push(String(e.port))),r.length?r.join(""):void 0}LA.exports={recomposeAuthority:jz,normalizeComponentEncoding:Fz,removeDotSegments:Lz,normalizeIPv4:$A,normalizeIPv6:DA,stringArrayToHexStripped:aE}});var GA=v((kEe,qA)=>{"use strict";var Bz=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,Uz=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function jA(e){return typeof e.secure=="boolean"?e.secure:String(e.scheme).toLowerCase()==="wss"}function BA(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function UA(e){let t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function Hz(e){return e.secure=jA(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function qz(e){if((e.port===(jA(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){let[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function Gz(e,t){if(!e.path)return e.error="URN can not be parsed",e;let r=e.path.match(Uz);if(r){let n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];let o=`${n}:${t.nid||e.nid}`,s=cE[o];e.path=void 0,s&&(e=s.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function zz(e,t){let r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),o=`${r}:${t.nid||n}`,s=cE[o];s&&(e=s.serialize(e,t));let i=e,a=e.nss;return i.path=`${n||t.nid}:${a}`,t.skipEscape=!0,i}function Vz(e,t){let r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!Bz.test(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function Wz(e){let t=e;return t.nss=(e.uuid||"").toLowerCase(),t}var HA={scheme:"http",domainHost:!0,parse:BA,serialize:UA},Kz={scheme:"https",domainHost:HA.domainHost,parse:BA,serialize:UA},mp={scheme:"ws",domainHost:!0,parse:Hz,serialize:qz},Yz={scheme:"wss",domainHost:mp.domainHost,parse:mp.parse,serialize:mp.serialize},Jz={scheme:"urn",parse:Gz,serialize:zz,skipNormalize:!0},Xz={scheme:"urn:uuid",parse:Vz,serialize:Wz,skipNormalize:!0},cE={http:HA,https:Kz,ws:mp,wss:Yz,urn:Jz,"urn:uuid":Xz};qA.exports=cE});var VA=v((AEe,gp)=>{"use strict";var{normalizeIPv6:Zz,normalizeIPv4:Qz,removeDotSegments:yu,recomposeAuthority:e5,normalizeComponentEncoding:hp}=FA(),uE=GA();function t5(e,t){return typeof e=="string"?e=Pr(an(e,t),t):typeof e=="object"&&(e=an(Pr(e,t),t)),e}function r5(e,t,r){let n=Object.assign({scheme:"null"},r),o=zA(an(e,n),an(t,n),n,!0);return Pr(o,b(d({},n),{skipEscape:!0}))}function zA(e,t,r,n){let o={};return n||(e=an(Pr(e,r),r),t=an(Pr(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(o.scheme=t.scheme,o.userinfo=t.userinfo,o.host=t.host,o.port=t.port,o.path=yu(t.path||""),o.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(o.userinfo=t.userinfo,o.host=t.host,o.port=t.port,o.path=yu(t.path||""),o.query=t.query):(t.path?(t.path.charAt(0)==="/"?o.path=yu(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?o.path="/"+t.path:e.path?o.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:o.path=t.path,o.path=yu(o.path)),o.query=t.query):(o.path=e.path,t.query!==void 0?o.query=t.query:o.query=e.query),o.userinfo=e.userinfo,o.host=e.host,o.port=e.port),o.scheme=e.scheme),o.fragment=t.fragment,o}function n5(e,t,r){return typeof e=="string"?(e=unescape(e),e=Pr(hp(an(e,r),!0),b(d({},r),{skipEscape:!0}))):typeof e=="object"&&(e=Pr(hp(e,!0),b(d({},r),{skipEscape:!0}))),typeof t=="string"?(t=unescape(t),t=Pr(hp(an(t,r),!0),b(d({},r),{skipEscape:!0}))):typeof t=="object"&&(t=Pr(hp(t,!0),b(d({},r),{skipEscape:!0}))),e.toLowerCase()===t.toLowerCase()}function Pr(e,t){let r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),o=[],s=uE[(n.scheme||r.scheme||"").toLowerCase()];s&&s.serialize&&s.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&o.push(r.scheme,":");let i=e5(r,n);if(i!==void 0&&(n.reference!=="suffix"&&o.push("//"),o.push(i),r.path&&r.path.charAt(0)!=="/"&&o.push("/")),r.path!==void 0){let a=r.path;!n.absolutePath&&(!s||!s.absolutePath)&&(a=yu(a)),i===void 0&&(a=a.replace(/^\/\//u,"/%2F")),o.push(a)}return r.query!==void 0&&o.push("?",r.query),r.fragment!==void 0&&o.push("#",r.fragment),o.join("")}var o5=Array.from({length:127},(e,t)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(t)));function s5(e){let t=0;for(let r=0,n=e.length;r<n;++r)if(t=e.charCodeAt(r),t>126||o5[t])return!0;return!1}var i5=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function an(e,t){let r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},o=e.indexOf("%")!==-1,s=!1;r.reference==="suffix"&&(e=(r.scheme?r.scheme+":":"")+"//"+e);let i=e.match(i5);if(i){if(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5]),n.host){let c=Qz(n.host);if(c.isIPV4===!1){let u=Zz(c.host,{isIPV4:!1});n.host=u.host.toLowerCase(),s=u.isIPV6}else n.host=c.host,s=!0}n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&!n.path&&n.query===void 0?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");let a=uE[(r.scheme||n.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!a||!a.unicodeSupport)&&n.host&&(r.domainHost||a&&a.domainHost)&&s===!1&&s5(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(c){n.error=n.error||"Host's domain name can not be converted to ASCII: "+c}(!a||a&&!a.skipNormalize)&&(o&&n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),o&&n.host!==void 0&&(n.host=unescape(n.host)),n.path!==void 0&&n.path.length&&(n.path=escape(unescape(n.path))),n.fragment!==void 0&&n.fragment.length&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),a&&a.parse&&a.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}var lE={SCHEMES:uE,normalize:t5,resolve:r5,resolveComponents:zA,equal:n5,serialize:Pr,parse:an};gp.exports=lE;gp.exports.default=lE;gp.exports.fastUri=lE});var KA=v(fE=>{"use strict";Object.defineProperty(fE,"__esModule",{value:!0});var WA=VA();WA.code='require("ajv/dist/runtime/uri").default';fE.default=WA});var Kn=v(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.CodeGen=Je.Name=Je.nil=Je.stringify=Je.str=Je._=Je.KeywordCxt=void 0;var a5=Ko();Object.defineProperty(Je,"KeywordCxt",{enumerable:!0,get:function(){return a5.KeywordCxt}});var qi=L();Object.defineProperty(Je,"_",{enumerable:!0,get:function(){return qi._}});Object.defineProperty(Je,"str",{enumerable:!0,get:function(){return qi.str}});Object.defineProperty(Je,"stringify",{enumerable:!0,get:function(){return qi.stringify}});Object.defineProperty(Je,"nil",{enumerable:!0,get:function(){return qi.nil}});Object.defineProperty(Je,"Name",{enumerable:!0,get:function(){return qi.Name}});Object.defineProperty(Je,"CodeGen",{enumerable:!0,get:function(){return qi.CodeGen}});var c5=Ui(),QA=Yo(),u5=US(),_u=gu(),l5=L(),Su=pu(),yp=du(),pE=Q(),YA=OA(),f5=KA(),e1=(e,t)=>new RegExp(e,t);e1.code="new RegExp";var d5=["removeAdditional","useDefaults","coerceTypes"],p5=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),m5={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},h5={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},JA=200;function g5(e){var t,r,n,o,s,i,a,c,u,l,f,p,m,h,_,y,g,S,T,x,I,C,w,B,fe;let R=e.strict,$=(t=e.code)===null||t===void 0?void 0:t.optimize,ie=$===!0||$===void 0?1:$||0,ve=(n=(r=e.code)===null||r===void 0?void 0:r.regExp)!==null&&n!==void 0?n:e1,Me=(o=e.uriResolver)!==null&&o!==void 0?o:f5.default;return{strictSchema:(i=(s=e.strictSchema)!==null&&s!==void 0?s:R)!==null&&i!==void 0?i:!0,strictNumbers:(c=(a=e.strictNumbers)!==null&&a!==void 0?a:R)!==null&&c!==void 0?c:!0,strictTypes:(l=(u=e.strictTypes)!==null&&u!==void 0?u:R)!==null&&l!==void 0?l:"log",strictTuples:(p=(f=e.strictTuples)!==null&&f!==void 0?f:R)!==null&&p!==void 0?p:"log",strictRequired:(h=(m=e.strictRequired)!==null&&m!==void 0?m:R)!==null&&h!==void 0?h:!1,code:e.code?b(d({},e.code),{optimize:ie,regExp:ve}):{optimize:ie,regExp:ve},loopRequired:(_=e.loopRequired)!==null&&_!==void 0?_:JA,loopEnum:(y=e.loopEnum)!==null&&y!==void 0?y:JA,meta:(g=e.meta)!==null&&g!==void 0?g:!0,messages:(S=e.messages)!==null&&S!==void 0?S:!0,inlineRefs:(T=e.inlineRefs)!==null&&T!==void 0?T:!0,schemaId:(x=e.schemaId)!==null&&x!==void 0?x:"$id",addUsedSchema:(I=e.addUsedSchema)!==null&&I!==void 0?I:!0,validateSchema:(C=e.validateSchema)!==null&&C!==void 0?C:!0,validateFormats:(w=e.validateFormats)!==null&&w!==void 0?w:!0,unicodeRegExp:(B=e.unicodeRegExp)!==null&&B!==void 0?B:!0,int32range:(fe=e.int32range)!==null&&fe!==void 0?fe:!0,uriResolver:Me}}var Eu=class{constructor(t={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,t=this.opts=d(d({},t),g5(t));let{es5:r,lines:n}=this.opts.code;this.scope=new l5.ValueScope({scope:{},prefixes:p5,es5:r,lines:n}),this.logger=v5(t.logger);let o=t.validateFormats;t.validateFormats=!1,this.RULES=(0,u5.getRules)(),XA.call(this,m5,t,"NOT SUPPORTED"),XA.call(this,h5,t,"DEPRECATED","warn"),this._metaOpts=E5.call(this),t.formats&&_5.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),t.keywords&&S5.call(this,t.keywords),typeof t.meta=="object"&&this.addMetaSchema(t.meta),y5.call(this),t.validateFormats=o}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:t,meta:r,schemaId:n}=this.opts,o=YA;n==="id"&&(o=d({},YA),o.id=o.$id,delete o.$id),r&&t&&this.addMetaSchema(o,o[n],!1)}defaultMeta(){let{meta:t,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof t=="object"?t[r]||t:void 0}validate(t,r){let n;if(typeof t=="string"){if(n=this.getSchema(t),!n)throw new Error(`no schema with key or ref "${t}"`)}else n=this.compile(t);let o=n(r);return"$async"in n||(this.errors=n.errors),o}compile(t,r){let n=this._addSchema(t,r);return n.validate||this._compileSchemaEnv(n)}compileAsync(t,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:n}=this.opts;return o.call(this,t,r);function o(l,f){return P(this,null,function*(){yield s.call(this,l.$schema);let p=this._addSchema(l,f);return p.validate||i.call(this,p)})}function s(l){return P(this,null,function*(){l&&!this.getSchema(l)&&(yield o.call(this,{$ref:l},!0))})}function i(l){return P(this,null,function*(){try{return this._compileSchemaEnv(l)}catch(f){if(!(f instanceof QA.default))throw f;return a.call(this,f),yield c.call(this,f.missingSchema),i.call(this,l)}})}function a({missingSchema:l,missingRef:f}){if(this.refs[l])throw new Error(`AnySchema ${l} is loaded but ${f} cannot be resolved`)}function c(l){return P(this,null,function*(){let f=yield u.call(this,l);this.refs[l]||(yield s.call(this,f.$schema)),this.refs[l]||this.addSchema(f,l,r)})}function u(l){return P(this,null,function*(){let f=this._loading[l];if(f)return f;try{return yield this._loading[l]=n(l)}finally{delete this._loading[l]}})}}addSchema(t,r,n,o=this.opts.validateSchema){if(Array.isArray(t)){for(let i of t)this.addSchema(i,void 0,n,o);return this}let s;if(typeof t=="object"){let{schemaId:i}=this.opts;if(s=t[i],s!==void 0&&typeof s!="string")throw new Error(`schema ${i} must be string`)}return r=(0,Su.normalizeId)(r||s),this._checkUnique(r),this.schemas[r]=this._addSchema(t,n,r,o,!0),this}addMetaSchema(t,r,n=this.opts.validateSchema){return this.addSchema(t,r,!0,n),this}validateSchema(t,r){if(typeof t=="boolean")return!0;let n;if(n=t.$schema,n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let o=this.validate(n,t);if(!o&&r){let s="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(s);else throw new Error(s)}return o}getSchema(t){let r;for(;typeof(r=ZA.call(this,t))=="string";)t=r;if(r===void 0){let{schemaId:n}=this.opts,o=new _u.SchemaEnv({schema:{},schemaId:n});if(r=_u.resolveSchema.call(this,o,t),!r)return;this.refs[t]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(t){if(t instanceof RegExp)return this._removeAllSchemas(this.schemas,t),this._removeAllSchemas(this.refs,t),this;switch(typeof t){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=ZA.call(this,t);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[t],delete this.refs[t],this}case"object":{let r=t;this._cache.delete(r);let n=t[this.opts.schemaId];return n&&(n=(0,Su.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(t){for(let r of t)this.addKeyword(r);return this}addKeyword(t,r){let n;if(typeof t=="string")n=t,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=n);else if(typeof t=="object"&&r===void 0){if(r=t,n=r.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(I5.call(this,n,r),!r)return(0,pE.eachItem)(n,s=>dE.call(this,s)),this;w5.call(this,r);let o=b(d({},r),{type:(0,yp.getJSONTypes)(r.type),schemaType:(0,yp.getJSONTypes)(r.schemaType)});return(0,pE.eachItem)(n,o.type.length===0?s=>dE.call(this,s,o):s=>o.type.forEach(i=>dE.call(this,s,o,i))),this}getKeyword(t){let r=this.RULES.all[t];return typeof r=="object"?r.definition:!!r}removeKeyword(t){let{RULES:r}=this;delete r.keywords[t],delete r.all[t];for(let n of r.rules){let o=n.rules.findIndex(s=>s.keyword===t);o>=0&&n.rules.splice(o,1)}return this}addFormat(t,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[t]=r,this}errorsText(t=this.errors,{separator:r=", ",dataVar:n="data"}={}){return!t||t.length===0?"No errors":t.map(o=>`${n}${o.instancePath} ${o.message}`).reduce((o,s)=>o+r+s)}$dataMetaSchema(t,r){let n=this.RULES.all;t=JSON.parse(JSON.stringify(t));for(let o of r){let s=o.split("/").slice(1),i=t;for(let a of s)i=i[a];for(let a in n){let c=n[a];if(typeof c!="object")continue;let{$data:u}=c.definition,l=i[a];u&&l&&(i[a]=t1(l))}}return t}_removeAllSchemas(t,r){for(let n in t){let o=t[n];(!r||r.test(n))&&(typeof o=="string"?delete t[n]:o&&!o.meta&&(this._cache.delete(o.schema),delete t[n]))}}_addSchema(t,r,n,o=this.opts.validateSchema,s=this.opts.addUsedSchema){let i,{schemaId:a}=this.opts;if(typeof t=="object")i=t[a];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof t!="boolean")throw new Error("schema must be object or boolean")}let c=this._cache.get(t);if(c!==void 0)return c;n=(0,Su.normalizeId)(i||n);let u=Su.getSchemaRefs.call(this,t,n);return c=new _u.SchemaEnv({schema:t,schemaId:a,meta:r,baseId:n,localRefs:u}),this._cache.set(c.schema,c),s&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=c),o&&this.validateSchema(t,!0),c}_checkUnique(t){if(this.schemas[t]||this.refs[t])throw new Error(`schema with key or id "${t}" already exists`)}_compileSchemaEnv(t){if(t.meta?this._compileMetaSchema(t):_u.compileSchema.call(this,t),!t.validate)throw new Error("ajv implementation error");return t.validate}_compileMetaSchema(t){let r=this.opts;this.opts=this._metaOpts;try{_u.compileSchema.call(this,t)}finally{this.opts=r}}};Eu.ValidationError=c5.default;Eu.MissingRefError=QA.default;Je.default=Eu;function XA(e,t,r,n="error"){for(let o in e){let s=o;s in t&&this.logger[n](`${r}: option ${o}. ${e[s]}`)}}function ZA(e){return e=(0,Su.normalizeId)(e),this.schemas[e]||this.refs[e]}function y5(){let e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(let t in e)this.addSchema(e[t],t)}function _5(){for(let e in this.opts.formats){let t=this.opts.formats[e];t&&this.addFormat(e,t)}}function S5(e){if(Array.isArray(e)){this.addVocabulary(e);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let t in e){let r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}function E5(){let e=d({},this.opts);for(let t of d5)delete e[t];return e}var b5={log(){},warn(){},error(){}};function v5(e){if(e===!1)return b5;if(e===void 0)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}var T5=/^[a-z_$][a-z0-9_$:-]*$/i;function I5(e,t){let{RULES:r}=this;if((0,pE.eachItem)(e,n=>{if(r.keywords[n])throw new Error(`Keyword ${n} is already defined`);if(!T5.test(n))throw new Error(`Keyword ${n} has invalid name`)}),!!t&&t.$data&&!("code"in t||"validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function dE(e,t,r){var n;let o=t==null?void 0:t.post;if(r&&o)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:s}=this,i=o?s.post:s.rules.find(({type:c})=>c===r);if(i||(i={type:r,rules:[]},s.rules.push(i)),s.keywords[e]=!0,!t)return;let a={keyword:e,definition:b(d({},t),{type:(0,yp.getJSONTypes)(t.type),schemaType:(0,yp.getJSONTypes)(t.schemaType)})};t.before?x5.call(this,i,a,t.before):i.rules.push(a),s.all[e]=a,(n=t.implements)===null||n===void 0||n.forEach(c=>this.addKeyword(c))}function x5(e,t,r){let n=e.rules.findIndex(o=>o.keyword===r);n>=0?e.rules.splice(n,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}function w5(e){let{metaSchema:t}=e;t!==void 0&&(e.$data&&this.opts.$data&&(t=t1(t)),e.validateSchema=this.compile(t,!0))}var C5={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function t1(e){return{anyOf:[e,C5]}}});var r1=v(mE=>{"use strict";Object.defineProperty(mE,"__esModule",{value:!0});var O5={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};mE.default=O5});var bu=v(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});Xo.callRef=Xo.getValidate=void 0;var R5=Yo(),n1=Kt(),It=L(),Gi=Wt(),o1=gu(),_p=Q(),k5={keyword:"$ref",schemaType:"string",code(e){let{gen:t,schema:r,it:n}=e,{baseId:o,schemaEnv:s,validateName:i,opts:a,self:c}=n,{root:u}=s;if((r==="#"||r==="#/")&&o===u.baseId)return f();let l=o1.resolveRef.call(c,u,o,r);if(l===void 0)throw new R5.default(n.opts.uriResolver,o,r);if(l instanceof o1.SchemaEnv)return p(l);return m(l);function f(){if(s===u)return Sp(e,i,s,s.$async);let h=t.scopeValue("root",{ref:u});return Sp(e,(0,It._)`${h}.validate`,u,u.$async)}function p(h){let _=s1(e,h);Sp(e,_,h,h.$async)}function m(h){let _=t.scopeValue("schema",a.code.source===!0?{ref:h,code:(0,It.stringify)(h)}:{ref:h}),y=t.name("valid"),g=e.subschema({schema:h,dataTypes:[],schemaPath:It.nil,topSchemaRef:_,errSchemaPath:r},y);e.mergeEvaluated(g),e.ok(y)}}};function s1(e,t){let{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,It._)`${r.scopeValue("wrapper",{ref:t})}.validate`}Xo.getValidate=s1;function Sp(e,t,r,n){let{gen:o,it:s}=e,{allErrors:i,schemaEnv:a,opts:c}=s,u=c.passContext?Gi.default.this:It.nil;n?l():f();function l(){if(!a.$async)throw new Error("async schema referenced by sync schema");let h=o.let("valid");o.try(()=>{o.code((0,It._)`await ${(0,n1.callValidateCode)(e,t,u)}`),m(t),i||o.assign(h,!0)},_=>{o.if((0,It._)`!(${_} instanceof ${s.ValidationError})`,()=>o.throw(_)),p(_),i||o.assign(h,!1)}),e.ok(h)}function f(){e.result((0,n1.callValidateCode)(e,t,u),()=>m(t),()=>p(t))}function p(h){let _=(0,It._)`${h}.errors`;o.assign(Gi.default.vErrors,(0,It._)`${Gi.default.vErrors} === null ? ${_} : ${Gi.default.vErrors}.concat(${_})`),o.assign(Gi.default.errors,(0,It._)`${Gi.default.vErrors}.length`)}function m(h){var _;if(!s.opts.unevaluated)return;let y=(_=r==null?void 0:r.validate)===null||_===void 0?void 0:_.evaluated;if(s.props!==!0)if(y&&!y.dynamicProps)y.props!==void 0&&(s.props=_p.mergeEvaluated.props(o,y.props,s.props));else{let g=o.var("props",(0,It._)`${h}.evaluated.props`);s.props=_p.mergeEvaluated.props(o,g,s.props,It.Name)}if(s.items!==!0)if(y&&!y.dynamicItems)y.items!==void 0&&(s.items=_p.mergeEvaluated.items(o,y.items,s.items));else{let g=o.var("items",(0,It._)`${h}.evaluated.items`);s.items=_p.mergeEvaluated.items(o,g,s.items,It.Name)}}}Xo.callRef=Sp;Xo.default=k5});var gE=v(hE=>{"use strict";Object.defineProperty(hE,"__esModule",{value:!0});var A5=r1(),N5=bu(),P5=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",A5.default,N5.default];hE.default=P5});var i1=v(yE=>{"use strict";Object.defineProperty(yE,"__esModule",{value:!0});var Ep=L(),Yn=Ep.operators,bp={maximum:{okStr:"<=",ok:Yn.LTE,fail:Yn.GT},minimum:{okStr:">=",ok:Yn.GTE,fail:Yn.LT},exclusiveMaximum:{okStr:"<",ok:Yn.LT,fail:Yn.GTE},exclusiveMinimum:{okStr:">",ok:Yn.GT,fail:Yn.LTE}},$5={message:({keyword:e,schemaCode:t})=>(0,Ep.str)`must be ${bp[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Ep._)`{comparison: ${bp[e].okStr}, limit: ${t}}`},D5={keyword:Object.keys(bp),type:"number",schemaType:"number",$data:!0,error:$5,code(e){let{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,Ep._)`${r} ${bp[t].fail} ${n} || isNaN(${r})`)}};yE.default=D5});var SE=v(_E=>{"use strict";Object.defineProperty(_E,"__esModule",{value:!0});var vu=L(),M5={message:({schemaCode:e})=>(0,vu.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,vu._)`{multipleOf: ${e}}`},L5={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:M5,code(e){let{gen:t,data:r,schemaCode:n,it:o}=e,s=o.opts.multipleOfPrecision,i=t.let("res"),a=s?(0,vu._)`Math.abs(Math.round(${i}) - ${i}) > 1e-${s}`:(0,vu._)`${i} !== parseInt(${i})`;e.fail$data((0,vu._)`(${n} === 0 || (${i} = ${r}/${n}, ${a}))`)}};_E.default=L5});var c1=v(EE=>{"use strict";Object.defineProperty(EE,"__esModule",{value:!0});function a1(e){let t=e.length,r=0,n=0,o;for(;n<t;)r++,o=e.charCodeAt(n++),o>=55296&&o<=56319&&n<t&&(o=e.charCodeAt(n),(o&64512)===56320&&n++);return r}EE.default=a1;a1.code='require("ajv/dist/runtime/ucs2length").default'});var vE=v(bE=>{"use strict";Object.defineProperty(bE,"__esModule",{value:!0});var Zo=L(),F5=Q(),j5=c1(),B5={message({keyword:e,schemaCode:t}){let r=e==="maxLength"?"more":"fewer";return(0,Zo.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Zo._)`{limit: ${e}}`},U5={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:B5,code(e){let{keyword:t,data:r,schemaCode:n,it:o}=e,s=t==="maxLength"?Zo.operators.GT:Zo.operators.LT,i=o.opts.unicode===!1?(0,Zo._)`${r}.length`:(0,Zo._)`${(0,F5.useFunc)(e.gen,j5.default)}(${r})`;e.fail$data((0,Zo._)`${i} ${s} ${n}`)}};bE.default=U5});var IE=v(TE=>{"use strict";Object.defineProperty(TE,"__esModule",{value:!0});var H5=Kt(),vp=L(),q5={message:({schemaCode:e})=>(0,vp.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,vp._)`{pattern: ${e}}`},G5={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:q5,code(e){let{data:t,$data:r,schema:n,schemaCode:o,it:s}=e,i=s.opts.unicodeRegExp?"u":"",a=r?(0,vp._)`(new RegExp(${o}, ${i}))`:(0,H5.usePattern)(e,n);e.fail$data((0,vp._)`!${a}.test(${t})`)}};TE.default=G5});var wE=v(xE=>{"use strict";Object.defineProperty(xE,"__esModule",{value:!0});var Tu=L(),z5={message({keyword:e,schemaCode:t}){let r=e==="maxProperties"?"more":"fewer";return(0,Tu.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Tu._)`{limit: ${e}}`},V5={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:z5,code(e){let{keyword:t,data:r,schemaCode:n}=e,o=t==="maxProperties"?Tu.operators.GT:Tu.operators.LT;e.fail$data((0,Tu._)`Object.keys(${r}).length ${o} ${n}`)}};xE.default=V5});var OE=v(CE=>{"use strict";Object.defineProperty(CE,"__esModule",{value:!0});var Iu=Kt(),xu=L(),W5=Q(),K5={message:({params:{missingProperty:e}})=>(0,xu.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,xu._)`{missingProperty: ${e}}`},Y5={keyword:"required",type:"object",schemaType:"array",$data:!0,error:K5,code(e){let{gen:t,schema:r,schemaCode:n,data:o,$data:s,it:i}=e,{opts:a}=i;if(!s&&r.length===0)return;let c=r.length>=a.loopRequired;if(i.allErrors?u():l(),a.strictRequired){let m=e.parentSchema.properties,{definedProperties:h}=e.it;for(let _ of r)if((m==null?void 0:m[_])===void 0&&!h.has(_)){let y=i.schemaEnv.baseId+i.errSchemaPath,g=`required property "${_}" is not defined at "${y}" (strictRequired)`;(0,W5.checkStrictMode)(i,g,i.opts.strictRequired)}}function u(){if(c||s)e.block$data(xu.nil,f);else for(let m of r)(0,Iu.checkReportMissingProp)(e,m)}function l(){let m=t.let("missing");if(c||s){let h=t.let("valid",!0);e.block$data(h,()=>p(m,h)),e.ok(h)}else t.if((0,Iu.checkMissingProp)(e,r,m)),(0,Iu.reportMissingProp)(e,m),t.else()}function f(){t.forOf("prop",n,m=>{e.setParams({missingProperty:m}),t.if((0,Iu.noPropertyInData)(t,o,m,a.ownProperties),()=>e.error())})}function p(m,h){e.setParams({missingProperty:m}),t.forOf(m,n,()=>{t.assign(h,(0,Iu.propertyInData)(t,o,m,a.ownProperties)),t.if((0,xu.not)(h),()=>{e.error(),t.break()})},xu.nil)}}};CE.default=Y5});var kE=v(RE=>{"use strict";Object.defineProperty(RE,"__esModule",{value:!0});var wu=L(),J5={message({keyword:e,schemaCode:t}){let r=e==="maxItems"?"more":"fewer";return(0,wu.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,wu._)`{limit: ${e}}`},X5={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:J5,code(e){let{keyword:t,data:r,schemaCode:n}=e,o=t==="maxItems"?wu.operators.GT:wu.operators.LT;e.fail$data((0,wu._)`${r}.length ${o} ${n}`)}};RE.default=X5});var Tp=v(AE=>{"use strict";Object.defineProperty(AE,"__esModule",{value:!0});var u1=YS();u1.code='require("ajv/dist/runtime/equal").default';AE.default=u1});var $E=v(PE=>{"use strict";Object.defineProperty(PE,"__esModule",{value:!0});var NE=du(),Xe=L(),Z5=Q(),Q5=Tp(),eV={message:({params:{i:e,j:t}})=>(0,Xe.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Xe._)`{i: ${e}, j: ${t}}`},tV={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:eV,code(e){let{gen:t,data:r,$data:n,schema:o,parentSchema:s,schemaCode:i,it:a}=e;if(!n&&!o)return;let c=t.let("valid"),u=s.items?(0,NE.getSchemaTypes)(s.items):[];e.block$data(c,l,(0,Xe._)`${i} === false`),e.ok(c);function l(){let h=t.let("i",(0,Xe._)`${r}.length`),_=t.let("j");e.setParams({i:h,j:_}),t.assign(c,!0),t.if((0,Xe._)`${h} > 1`,()=>(f()?p:m)(h,_))}function f(){return u.length>0&&!u.some(h=>h==="object"||h==="array")}function p(h,_){let y=t.name("item"),g=(0,NE.checkDataTypes)(u,y,a.opts.strictNumbers,NE.DataType.Wrong),S=t.const("indices",(0,Xe._)`{}`);t.for((0,Xe._)`;${h}--;`,()=>{t.let(y,(0,Xe._)`${r}[${h}]`),t.if(g,(0,Xe._)`continue`),u.length>1&&t.if((0,Xe._)`typeof ${y} == "string"`,(0,Xe._)`${y} += "_"`),t.if((0,Xe._)`typeof ${S}[${y}] == "number"`,()=>{t.assign(_,(0,Xe._)`${S}[${y}]`),e.error(),t.assign(c,!1).break()}).code((0,Xe._)`${S}[${y}] = ${h}`)})}function m(h,_){let y=(0,Z5.useFunc)(t,Q5.default),g=t.name("outer");t.label(g).for((0,Xe._)`;${h}--;`,()=>t.for((0,Xe._)`${_} = ${h}; ${_}--;`,()=>t.if((0,Xe._)`${y}(${r}[${h}], ${r}[${_}])`,()=>{e.error(),t.assign(c,!1).break(g)})))}}};PE.default=tV});var LE=v(ME=>{"use strict";Object.defineProperty(ME,"__esModule",{value:!0});var DE=L(),rV=Q(),nV=Tp(),oV={message:"must be equal to constant",params:({schemaCode:e})=>(0,DE._)`{allowedValue: ${e}}`},sV={keyword:"const",$data:!0,error:oV,code(e){let{gen:t,data:r,$data:n,schemaCode:o,schema:s}=e;n||s&&typeof s=="object"?e.fail$data((0,DE._)`!${(0,rV.useFunc)(t,nV.default)}(${r}, ${o})`):e.fail((0,DE._)`${s} !== ${r}`)}};ME.default=sV});var jE=v(FE=>{"use strict";Object.defineProperty(FE,"__esModule",{value:!0});var Cu=L(),iV=Q(),aV=Tp(),cV={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Cu._)`{allowedValues: ${e}}`},uV={keyword:"enum",schemaType:"array",$data:!0,error:cV,code(e){let{gen:t,data:r,$data:n,schema:o,schemaCode:s,it:i}=e;if(!n&&o.length===0)throw new Error("enum must have non-empty array");let a=o.length>=i.opts.loopEnum,c,u=()=>c!=null?c:c=(0,iV.useFunc)(t,aV.default),l;if(a||n)l=t.let("valid"),e.block$data(l,f);else{if(!Array.isArray(o))throw new Error("ajv implementation error");let m=t.const("vSchema",s);l=(0,Cu.or)(...o.map((h,_)=>p(m,_)))}e.pass(l);function f(){t.assign(l,!1),t.forOf("v",s,m=>t.if((0,Cu._)`${u()}(${r}, ${m})`,()=>t.assign(l,!0).break()))}function p(m,h){let _=o[h];return typeof _=="object"&&_!==null?(0,Cu._)`${u()}(${r}, ${m}[${h}])`:(0,Cu._)`${r} === ${_}`}}};FE.default=uV});var UE=v(BE=>{"use strict";Object.defineProperty(BE,"__esModule",{value:!0});var lV=i1(),fV=SE(),dV=vE(),pV=IE(),mV=wE(),hV=OE(),gV=kE(),yV=$E(),_V=LE(),SV=jE(),EV=[lV.default,fV.default,dV.default,pV.default,mV.default,hV.default,gV.default,yV.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},_V.default,SV.default];BE.default=EV});var qE=v(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.validateAdditionalItems=void 0;var Qo=L(),HE=Q(),bV={message:({params:{len:e}})=>(0,Qo.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Qo._)`{limit: ${e}}`},vV={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:bV,code(e){let{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,HE.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}l1(e,n)}};function l1(e,t){let{gen:r,schema:n,data:o,keyword:s,it:i}=e;i.items=!0;let a=r.const("len",(0,Qo._)`${o}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Qo._)`${a} <= ${t.length}`);else if(typeof n=="object"&&!(0,HE.alwaysValidSchema)(i,n)){let u=r.var("valid",(0,Qo._)`${a} <= ${t.length}`);r.if((0,Qo.not)(u),()=>c(u)),e.ok(u)}function c(u){r.forRange("i",t.length,a,l=>{e.subschema({keyword:s,dataProp:l,dataPropType:HE.Type.Num},u),i.allErrors||r.if((0,Qo.not)(u),()=>r.break())})}}Ou.validateAdditionalItems=l1;Ou.default=vV});var GE=v(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru.validateTuple=void 0;var f1=L(),Ip=Q(),TV=Kt(),IV={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){let{schema:t,it:r}=e;if(Array.isArray(t))return d1(e,"additionalItems",t);r.items=!0,!(0,Ip.alwaysValidSchema)(r,t)&&e.ok((0,TV.validateArray)(e))}};function d1(e,t,r=e.schema){let{gen:n,parentSchema:o,data:s,keyword:i,it:a}=e;l(o),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=Ip.mergeEvaluated.items(n,r.length,a.items));let c=n.name("valid"),u=n.const("len",(0,f1._)`${s}.length`);r.forEach((f,p)=>{(0,Ip.alwaysValidSchema)(a,f)||(n.if((0,f1._)`${u} > ${p}`,()=>e.subschema({keyword:i,schemaProp:p,dataProp:p},c)),e.ok(c))});function l(f){let{opts:p,errSchemaPath:m}=a,h=r.length,_=h===f.minItems&&(h===f.maxItems||f[t]===!1);if(p.strictTuples&&!_){let y=`"${i}" is ${h}-tuple, but minItems or maxItems/${t} are not specified or different at path "${m}"`;(0,Ip.checkStrictMode)(a,y,p.strictTuples)}}}Ru.validateTuple=d1;Ru.default=IV});var p1=v(zE=>{"use strict";Object.defineProperty(zE,"__esModule",{value:!0});var xV=GE(),wV={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,xV.validateTuple)(e,"items")};zE.default=wV});var h1=v(VE=>{"use strict";Object.defineProperty(VE,"__esModule",{value:!0});var m1=L(),CV=Q(),OV=Kt(),RV=qE(),kV={message:({params:{len:e}})=>(0,m1.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,m1._)`{limit: ${e}}`},AV={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:kV,code(e){let{schema:t,parentSchema:r,it:n}=e,{prefixItems:o}=r;n.items=!0,!(0,CV.alwaysValidSchema)(n,t)&&(o?(0,RV.validateAdditionalItems)(e,o):e.ok((0,OV.validateArray)(e)))}};VE.default=AV});var g1=v(WE=>{"use strict";Object.defineProperty(WE,"__esModule",{value:!0});var Jt=L(),xp=Q(),NV={message:({params:{min:e,max:t}})=>t===void 0?(0,Jt.str)`must contain at least ${e} valid item(s)`:(0,Jt.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Jt._)`{minContains: ${e}}`:(0,Jt._)`{minContains: ${e}, maxContains: ${t}}`},PV={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:NV,code(e){let{gen:t,schema:r,parentSchema:n,data:o,it:s}=e,i,a,{minContains:c,maxContains:u}=n;s.opts.next?(i=c===void 0?1:c,a=u):i=1;let l=t.const("len",(0,Jt._)`${o}.length`);if(e.setParams({min:i,max:a}),a===void 0&&i===0){(0,xp.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&i>a){(0,xp.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,xp.alwaysValidSchema)(s,r)){let _=(0,Jt._)`${l} >= ${i}`;a!==void 0&&(_=(0,Jt._)`${_} && ${l} <= ${a}`),e.pass(_);return}s.items=!0;let f=t.name("valid");a===void 0&&i===1?m(f,()=>t.if(f,()=>t.break())):i===0?(t.let(f,!0),a!==void 0&&t.if((0,Jt._)`${o}.length > 0`,p)):(t.let(f,!1),p()),e.result(f,()=>e.reset());function p(){let _=t.name("_valid"),y=t.let("count",0);m(_,()=>t.if(_,()=>h(y)))}function m(_,y){t.forRange("i",0,l,g=>{e.subschema({keyword:"contains",dataProp:g,dataPropType:xp.Type.Num,compositeRule:!0},_),y()})}function h(_){t.code((0,Jt._)`${_}++`),a===void 0?t.if((0,Jt._)`${_} >= ${i}`,()=>t.assign(f,!0).break()):(t.if((0,Jt._)`${_} > ${a}`,()=>t.assign(f,!1).break()),i===1?t.assign(f,!0):t.if((0,Jt._)`${_} >= ${i}`,()=>t.assign(f,!0)))}}};WE.default=PV});var wp=v($r=>{"use strict";Object.defineProperty($r,"__esModule",{value:!0});$r.validateSchemaDeps=$r.validatePropertyDeps=$r.error=void 0;var KE=L(),$V=Q(),ku=Kt();$r.error={message:({params:{property:e,depsCount:t,deps:r}})=>{let n=t===1?"property":"properties";return(0,KE.str)`must have ${n} ${r} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:r,missingProperty:n}})=>(0,KE._)`{property: ${e},
    missingProperty: ${n},
    depsCount: ${t},
    deps: ${r}}`};var DV={keyword:"dependencies",type:"object",schemaType:"object",error:$r.error,code(e){let[t,r]=MV(e);y1(e,t),_1(e,r)}};function MV({schema:e}){let t={},r={};for(let n in e){if(n==="__proto__")continue;let o=Array.isArray(e[n])?t:r;o[n]=e[n]}return[t,r]}function y1(e,t=e.schema){let{gen:r,data:n,it:o}=e;if(Object.keys(t).length===0)return;let s=r.let("missing");for(let i in t){let a=t[i];if(a.length===0)continue;let c=(0,ku.propertyInData)(r,n,i,o.opts.ownProperties);e.setParams({property:i,depsCount:a.length,deps:a.join(", ")}),o.allErrors?r.if(c,()=>{for(let u of a)(0,ku.checkReportMissingProp)(e,u)}):(r.if((0,KE._)`${c} && (${(0,ku.checkMissingProp)(e,a,s)})`),(0,ku.reportMissingProp)(e,s),r.else())}}$r.validatePropertyDeps=y1;function _1(e,t=e.schema){let{gen:r,data:n,keyword:o,it:s}=e,i=r.name("valid");for(let a in t)(0,$V.alwaysValidSchema)(s,t[a])||(r.if((0,ku.propertyInData)(r,n,a,s.opts.ownProperties),()=>{let c=e.subschema({keyword:o,schemaProp:a},i);e.mergeValidEvaluated(c,i)},()=>r.var(i,!0)),e.ok(i))}$r.validateSchemaDeps=_1;$r.default=DV});var E1=v(YE=>{"use strict";Object.defineProperty(YE,"__esModule",{value:!0});var S1=L(),LV=Q(),FV={message:"property name must be valid",params:({params:e})=>(0,S1._)`{propertyName: ${e.propertyName}}`},jV={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:FV,code(e){let{gen:t,schema:r,data:n,it:o}=e;if((0,LV.alwaysValidSchema)(o,r))return;let s=t.name("valid");t.forIn("key",n,i=>{e.setParams({propertyName:i}),e.subschema({keyword:"propertyNames",data:i,dataTypes:["string"],propertyName:i,compositeRule:!0},s),t.if((0,S1.not)(s),()=>{e.error(!0),o.allErrors||t.break()})}),e.ok(s)}};YE.default=jV});var XE=v(JE=>{"use strict";Object.defineProperty(JE,"__esModule",{value:!0});var Cp=Kt(),yr=L(),BV=Wt(),Op=Q(),UV={message:"must NOT have additional properties",params:({params:e})=>(0,yr._)`{additionalProperty: ${e.additionalProperty}}`},HV={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:UV,code(e){let{gen:t,schema:r,parentSchema:n,data:o,errsCount:s,it:i}=e;if(!s)throw new Error("ajv implementation error");let{allErrors:a,opts:c}=i;if(i.props=!0,c.removeAdditional!=="all"&&(0,Op.alwaysValidSchema)(i,r))return;let u=(0,Cp.allSchemaProperties)(n.properties),l=(0,Cp.allSchemaProperties)(n.patternProperties);f(),e.ok((0,yr._)`${s} === ${BV.default.errors}`);function f(){t.forIn("key",o,y=>{!u.length&&!l.length?h(y):t.if(p(y),()=>h(y))})}function p(y){let g;if(u.length>8){let S=(0,Op.schemaRefOrVal)(i,n.properties,"properties");g=(0,Cp.isOwnProperty)(t,S,y)}else u.length?g=(0,yr.or)(...u.map(S=>(0,yr._)`${y} === ${S}`)):g=yr.nil;return l.length&&(g=(0,yr.or)(g,...l.map(S=>(0,yr._)`${(0,Cp.usePattern)(e,S)}.test(${y})`))),(0,yr.not)(g)}function m(y){t.code((0,yr._)`delete ${o}[${y}]`)}function h(y){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){m(y);return}if(r===!1){e.setParams({additionalProperty:y}),e.error(),a||t.break();return}if(typeof r=="object"&&!(0,Op.alwaysValidSchema)(i,r)){let g=t.name("valid");c.removeAdditional==="failing"?(_(y,g,!1),t.if((0,yr.not)(g),()=>{e.reset(),m(y)})):(_(y,g),a||t.if((0,yr.not)(g),()=>t.break()))}}function _(y,g,S){let T={keyword:"additionalProperties",dataProp:y,dataPropType:Op.Type.Str};S===!1&&Object.assign(T,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(T,g)}}};JE.default=HV});var T1=v(QE=>{"use strict";Object.defineProperty(QE,"__esModule",{value:!0});var qV=Ko(),b1=Kt(),ZE=Q(),v1=XE(),GV={keyword:"properties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,parentSchema:n,data:o,it:s}=e;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&v1.default.code(new qV.KeywordCxt(s,v1.default,"additionalProperties"));let i=(0,b1.allSchemaProperties)(r);for(let f of i)s.definedProperties.add(f);s.opts.unevaluated&&i.length&&s.props!==!0&&(s.props=ZE.mergeEvaluated.props(t,(0,ZE.toHash)(i),s.props));let a=i.filter(f=>!(0,ZE.alwaysValidSchema)(s,r[f]));if(a.length===0)return;let c=t.name("valid");for(let f of a)u(f)?l(f):(t.if((0,b1.propertyInData)(t,o,f,s.opts.ownProperties)),l(f),s.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(c);function u(f){return s.opts.useDefaults&&!s.compositeRule&&r[f].default!==void 0}function l(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},c)}}};QE.default=GV});var C1=v(eb=>{"use strict";Object.defineProperty(eb,"__esModule",{value:!0});var I1=Kt(),Rp=L(),x1=Q(),w1=Q(),zV={keyword:"patternProperties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,data:n,parentSchema:o,it:s}=e,{opts:i}=s,a=(0,I1.allSchemaProperties)(r),c=a.filter(_=>(0,x1.alwaysValidSchema)(s,r[_]));if(a.length===0||c.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;let u=i.strictSchema&&!i.allowMatchingProperties&&o.properties,l=t.name("valid");s.props!==!0&&!(s.props instanceof Rp.Name)&&(s.props=(0,w1.evaluatedPropsToName)(t,s.props));let{props:f}=s;p();function p(){for(let _ of a)u&&m(_),s.allErrors?h(_):(t.var(l,!0),h(_),t.if(l))}function m(_){for(let y in u)new RegExp(_).test(y)&&(0,x1.checkStrictMode)(s,`property ${y} matches pattern ${_} (use allowMatchingProperties)`)}function h(_){t.forIn("key",n,y=>{t.if((0,Rp._)`${(0,I1.usePattern)(e,_)}.test(${y})`,()=>{let g=c.includes(_);g||e.subschema({keyword:"patternProperties",schemaProp:_,dataProp:y,dataPropType:w1.Type.Str},l),s.opts.unevaluated&&f!==!0?t.assign((0,Rp._)`${f}[${y}]`,!0):!g&&!s.allErrors&&t.if((0,Rp.not)(l),()=>t.break())})})}}};eb.default=zV});var O1=v(tb=>{"use strict";Object.defineProperty(tb,"__esModule",{value:!0});var VV=Q(),WV={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){let{gen:t,schema:r,it:n}=e;if((0,VV.alwaysValidSchema)(n,r)){e.fail();return}let o=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),e.failResult(o,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};tb.default=WV});var R1=v(rb=>{"use strict";Object.defineProperty(rb,"__esModule",{value:!0});var KV=Kt(),YV={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:KV.validateUnion,error:{message:"must match a schema in anyOf"}};rb.default=YV});var k1=v(nb=>{"use strict";Object.defineProperty(nb,"__esModule",{value:!0});var kp=L(),JV=Q(),XV={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,kp._)`{passingSchemas: ${e.passing}}`},ZV={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:XV,code(e){let{gen:t,schema:r,parentSchema:n,it:o}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(o.opts.discriminator&&n.discriminator)return;let s=r,i=t.let("valid",!1),a=t.let("passing",null),c=t.name("_valid");e.setParams({passing:a}),t.block(u),e.result(i,()=>e.reset(),()=>e.error(!0));function u(){s.forEach((l,f)=>{let p;(0,JV.alwaysValidSchema)(o,l)?t.var(c,!0):p=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},c),f>0&&t.if((0,kp._)`${c} && ${i}`).assign(i,!1).assign(a,(0,kp._)`[${a}, ${f}]`).else(),t.if(c,()=>{t.assign(i,!0),t.assign(a,f),p&&e.mergeEvaluated(p,kp.Name)})})}}};nb.default=ZV});var A1=v(ob=>{"use strict";Object.defineProperty(ob,"__esModule",{value:!0});var QV=Q(),e6={keyword:"allOf",schemaType:"array",code(e){let{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");let o=t.name("valid");r.forEach((s,i)=>{if((0,QV.alwaysValidSchema)(n,s))return;let a=e.subschema({keyword:"allOf",schemaProp:i},o);e.ok(o),e.mergeEvaluated(a)})}};ob.default=e6});var $1=v(sb=>{"use strict";Object.defineProperty(sb,"__esModule",{value:!0});var Ap=L(),P1=Q(),t6={message:({params:e})=>(0,Ap.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Ap._)`{failingKeyword: ${e.ifClause}}`},r6={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:t6,code(e){let{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,P1.checkStrictMode)(n,'"if" without "then" and "else" is ignored');let o=N1(n,"then"),s=N1(n,"else");if(!o&&!s)return;let i=t.let("valid",!0),a=t.name("_valid");if(c(),e.reset(),o&&s){let l=t.let("ifClause");e.setParams({ifClause:l}),t.if(a,u("then",l),u("else",l))}else o?t.if(a,u("then")):t.if((0,Ap.not)(a),u("else"));e.pass(i,()=>e.error(!0));function c(){let l=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(l)}function u(l,f){return()=>{let p=e.subschema({keyword:l},a);t.assign(i,a),e.mergeValidEvaluated(p,i),f?t.assign(f,(0,Ap._)`${l}`):e.setParams({ifClause:l})}}}};function N1(e,t){let r=e.schema[t];return r!==void 0&&!(0,P1.alwaysValidSchema)(e,r)}sb.default=r6});var D1=v(ib=>{"use strict";Object.defineProperty(ib,"__esModule",{value:!0});var n6=Q(),o6={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,n6.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};ib.default=o6});var Np=v(ab=>{"use strict";Object.defineProperty(ab,"__esModule",{value:!0});var s6=qE(),i6=p1(),a6=GE(),c6=h1(),u6=g1(),l6=wp(),f6=E1(),d6=XE(),p6=T1(),m6=C1(),h6=O1(),g6=R1(),y6=k1(),_6=A1(),S6=$1(),E6=D1();function b6(e=!1){let t=[h6.default,g6.default,y6.default,_6.default,S6.default,E6.default,f6.default,d6.default,l6.default,p6.default,m6.default];return e?t.push(i6.default,c6.default):t.push(s6.default,a6.default),t.push(u6.default),t}ab.default=b6});var M1=v(cb=>{"use strict";Object.defineProperty(cb,"__esModule",{value:!0});var Fe=L(),v6={message:({schemaCode:e})=>(0,Fe.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Fe._)`{format: ${e}}`},T6={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:v6,code(e,t){let{gen:r,data:n,$data:o,schema:s,schemaCode:i,it:a}=e,{opts:c,errSchemaPath:u,schemaEnv:l,self:f}=a;if(!c.validateFormats)return;o?p():m();function p(){let h=r.scopeValue("formats",{ref:f.formats,code:c.code.formats}),_=r.const("fDef",(0,Fe._)`${h}[${i}]`),y=r.let("fType"),g=r.let("format");r.if((0,Fe._)`typeof ${_} == "object" && !(${_} instanceof RegExp)`,()=>r.assign(y,(0,Fe._)`${_}.type || "string"`).assign(g,(0,Fe._)`${_}.validate`),()=>r.assign(y,(0,Fe._)`"string"`).assign(g,_)),e.fail$data((0,Fe.or)(S(),T()));function S(){return c.strictSchema===!1?Fe.nil:(0,Fe._)`${i} && !${g}`}function T(){let x=l.$async?(0,Fe._)`(${_}.async ? await ${g}(${n}) : ${g}(${n}))`:(0,Fe._)`${g}(${n})`,I=(0,Fe._)`(typeof ${g} == "function" ? ${x} : ${g}.test(${n}))`;return(0,Fe._)`${g} && ${g} !== true && ${y} === ${t} && !${I}`}}function m(){let h=f.formats[s];if(!h){S();return}if(h===!0)return;let[_,y,g]=T(h);_===t&&e.pass(x());function S(){if(c.strictSchema===!1){f.logger.warn(I());return}throw new Error(I());function I(){return`unknown format "${s}" ignored in schema at path "${u}"`}}function T(I){let C=I instanceof RegExp?(0,Fe.regexpCode)(I):c.code.formats?(0,Fe._)`${c.code.formats}${(0,Fe.getProperty)(s)}`:void 0,w=r.scopeValue("formats",{key:s,ref:I,code:C});return typeof I=="object"&&!(I instanceof RegExp)?[I.type||"string",I.validate,(0,Fe._)`${w}.validate`]:["string",I,w]}function x(){if(typeof h=="object"&&!(h instanceof RegExp)&&h.async){if(!l.$async)throw new Error("async format in sync schema");return(0,Fe._)`await ${g}(${n})`}return typeof y=="function"?(0,Fe._)`${g}(${n})`:(0,Fe._)`${g}.test(${n})`}}}};cb.default=T6});var Pp=v(ub=>{"use strict";Object.defineProperty(ub,"__esModule",{value:!0});var I6=M1(),x6=[I6.default];ub.default=x6});var lb=v(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});zi.contentVocabulary=zi.metadataVocabulary=void 0;zi.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];zi.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var db=v(fb=>{"use strict";Object.defineProperty(fb,"__esModule",{value:!0});var w6=gE(),C6=UE(),O6=Np(),R6=Pp(),L1=lb(),k6=[w6.default,C6.default,(0,O6.default)(),R6.default,L1.metadataVocabulary,L1.contentVocabulary];fb.default=k6});var j1=v($p=>{"use strict";Object.defineProperty($p,"__esModule",{value:!0});$p.DiscrError=void 0;var F1;(function(e){e.Tag="tag",e.Mapping="mapping"})(F1||($p.DiscrError=F1={}))});var Au=v(mb=>{"use strict";Object.defineProperty(mb,"__esModule",{value:!0});var Vi=L(),pb=j1(),B1=gu(),A6=Yo(),N6=Q(),P6={message:({params:{discrError:e,tagName:t}})=>e===pb.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Vi._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},$6={keyword:"discriminator",type:"object",schemaType:"object",error:P6,code(e){let{gen:t,data:r,schema:n,parentSchema:o,it:s}=e,{oneOf:i}=o;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");let a=n.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!i)throw new Error("discriminator: requires oneOf keyword");let c=t.let("valid",!1),u=t.const("tag",(0,Vi._)`${r}${(0,Vi.getProperty)(a)}`);t.if((0,Vi._)`typeof ${u} == "string"`,()=>l(),()=>e.error(!1,{discrError:pb.DiscrError.Tag,tag:u,tagName:a})),e.ok(c);function l(){let m=p();t.if(!1);for(let h in m)t.elseIf((0,Vi._)`${u} === ${h}`),t.assign(c,f(m[h]));t.else(),e.error(!1,{discrError:pb.DiscrError.Mapping,tag:u,tagName:a}),t.endIf()}function f(m){let h=t.name("valid"),_=e.subschema({keyword:"oneOf",schemaProp:m},h);return e.mergeEvaluated(_,Vi.Name),h}function p(){var m;let h={},_=g(o),y=!0;for(let x=0;x<i.length;x++){let I=i[x];if(I!=null&&I.$ref&&!(0,N6.schemaHasRulesButRef)(I,s.self.RULES)){let w=I.$ref;if(I=B1.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,w),I instanceof B1.SchemaEnv&&(I=I.schema),I===void 0)throw new A6.default(s.opts.uriResolver,s.baseId,w)}let C=(m=I==null?void 0:I.properties)===null||m===void 0?void 0:m[a];if(typeof C!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);y=y&&(_||g(I)),S(C,x)}if(!y)throw new Error(`discriminator: "${a}" must be required`);return h;function g({required:x}){return Array.isArray(x)&&x.includes(a)}function S(x,I){if(x.const)T(x.const,I);else if(x.enum)for(let C of x.enum)T(C,I);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function T(x,I){if(typeof x!="string"||x in h)throw new Error(`discriminator: "${a}" values must be unique strings`);h[x]=I}}}};mb.default=$6});var U1=v((bbe,D6)=>{D6.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var gb=v((xe,hb)=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.MissingRefError=xe.ValidationError=xe.CodeGen=xe.Name=xe.nil=xe.stringify=xe.str=xe._=xe.KeywordCxt=xe.Ajv=void 0;var M6=Kn(),L6=db(),F6=Au(),H1=U1(),j6=["/properties"],Dp="http://json-schema.org/draft-07/schema",Wi=class extends M6.default{_addVocabularies(){super._addVocabularies(),L6.default.forEach(t=>this.addVocabulary(t)),this.opts.discriminator&&this.addKeyword(F6.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let t=this.opts.$data?this.$dataMetaSchema(H1,j6):H1;this.addMetaSchema(t,Dp,!1),this.refs["http://json-schema.org/schema"]=Dp}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(Dp)?Dp:void 0)}};xe.Ajv=Wi;hb.exports=xe=Wi;hb.exports.Ajv=Wi;Object.defineProperty(xe,"__esModule",{value:!0});xe.default=Wi;var B6=Ko();Object.defineProperty(xe,"KeywordCxt",{enumerable:!0,get:function(){return B6.KeywordCxt}});var Ki=L();Object.defineProperty(xe,"_",{enumerable:!0,get:function(){return Ki._}});Object.defineProperty(xe,"str",{enumerable:!0,get:function(){return Ki.str}});Object.defineProperty(xe,"stringify",{enumerable:!0,get:function(){return Ki.stringify}});Object.defineProperty(xe,"nil",{enumerable:!0,get:function(){return Ki.nil}});Object.defineProperty(xe,"Name",{enumerable:!0,get:function(){return Ki.Name}});Object.defineProperty(xe,"CodeGen",{enumerable:!0,get:function(){return Ki.CodeGen}});var U6=Ui();Object.defineProperty(xe,"ValidationError",{enumerable:!0,get:function(){return U6.default}});var H6=Yo();Object.defineProperty(xe,"MissingRefError",{enumerable:!0,get:function(){return H6.default}})});var _b=v(Nu=>{"use strict";Object.defineProperty(Nu,"__esModule",{value:!0});Nu.dynamicAnchor=void 0;var yb=L(),q6=Wt(),q1=gu(),G6=bu(),z6={keyword:"$dynamicAnchor",schemaType:"string",code:e=>G1(e,e.schema)};function G1(e,t){let{gen:r,it:n}=e;n.schemaEnv.root.dynamicAnchors[t]=!0;let o=(0,yb._)`${q6.default.dynamicAnchors}${(0,yb.getProperty)(t)}`,s=n.errSchemaPath==="#"?n.validateName:V6(e);r.if((0,yb._)`!${o}`,()=>r.assign(o,s))}Nu.dynamicAnchor=G1;function V6(e){let{schemaEnv:t,schema:r,self:n}=e.it,{root:o,baseId:s,localRefs:i,meta:a}=t.root,{schemaId:c}=n.opts,u=new q1.SchemaEnv({schema:r,schemaId:c,root:o,baseId:s,localRefs:i,meta:a});return q1.compileSchema.call(n,u),(0,G6.getValidate)(e,u)}Nu.default=z6});var Sb=v(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});Pu.dynamicRef=void 0;var z1=L(),W6=Wt(),V1=bu(),K6={keyword:"$dynamicRef",schemaType:"string",code:e=>W1(e,e.schema)};function W1(e,t){let{gen:r,keyword:n,it:o}=e;if(t[0]!=="#")throw new Error(`"${n}" only supports hash fragment reference`);let s=t.slice(1);if(o.allErrors)i();else{let c=r.let("valid",!1);i(c),e.ok(c)}function i(c){if(o.schemaEnv.root.dynamicAnchors[s]){let u=r.let("_v",(0,z1._)`${W6.default.dynamicAnchors}${(0,z1.getProperty)(s)}`);r.if(u,a(u,c),a(o.validateName,c))}else a(o.validateName,c)()}function a(c,u){return u?()=>r.block(()=>{(0,V1.callRef)(e,c),r.let(u,!0)}):()=>(0,V1.callRef)(e,c)}}Pu.dynamicRef=W1;Pu.default=K6});var K1=v(Eb=>{"use strict";Object.defineProperty(Eb,"__esModule",{value:!0});var Y6=_b(),J6=Q(),X6={keyword:"$recursiveAnchor",schemaType:"boolean",code(e){e.schema?(0,Y6.dynamicAnchor)(e,""):(0,J6.checkStrictMode)(e.it,"$recursiveAnchor: false is ignored")}};Eb.default=X6});var Y1=v(bb=>{"use strict";Object.defineProperty(bb,"__esModule",{value:!0});var Z6=Sb(),Q6={keyword:"$recursiveRef",schemaType:"string",code:e=>(0,Z6.dynamicRef)(e,e.schema)};bb.default=Q6});var Tb=v(vb=>{"use strict";Object.defineProperty(vb,"__esModule",{value:!0});var eW=_b(),tW=Sb(),rW=K1(),nW=Y1(),oW=[eW.default,tW.default,rW.default,nW.default];vb.default=oW});var X1=v(Ib=>{"use strict";Object.defineProperty(Ib,"__esModule",{value:!0});var J1=wp(),sW={keyword:"dependentRequired",type:"object",schemaType:"object",error:J1.error,code:e=>(0,J1.validatePropertyDeps)(e)};Ib.default=sW});var Z1=v(xb=>{"use strict";Object.defineProperty(xb,"__esModule",{value:!0});var iW=wp(),aW={keyword:"dependentSchemas",type:"object",schemaType:"object",code:e=>(0,iW.validateSchemaDeps)(e)};xb.default=aW});var Q1=v(wb=>{"use strict";Object.defineProperty(wb,"__esModule",{value:!0});var cW=Q(),uW={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:e,parentSchema:t,it:r}){t.contains===void 0&&(0,cW.checkStrictMode)(r,`"${e}" without "contains" is ignored`)}};wb.default=uW});var Ob=v(Cb=>{"use strict";Object.defineProperty(Cb,"__esModule",{value:!0});var lW=X1(),fW=Z1(),dW=Q1(),pW=[lW.default,fW.default,dW.default];Cb.default=pW});var tN=v(Rb=>{"use strict";Object.defineProperty(Rb,"__esModule",{value:!0});var Jn=L(),eN=Q(),mW=Wt(),hW={message:"must NOT have unevaluated properties",params:({params:e})=>(0,Jn._)`{unevaluatedProperty: ${e.unevaluatedProperty}}`},gW={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:hW,code(e){let{gen:t,schema:r,data:n,errsCount:o,it:s}=e;if(!o)throw new Error("ajv implementation error");let{allErrors:i,props:a}=s;a instanceof Jn.Name?t.if((0,Jn._)`${a} !== true`,()=>t.forIn("key",n,f=>t.if(u(a,f),()=>c(f)))):a!==!0&&t.forIn("key",n,f=>a===void 0?c(f):t.if(l(a,f),()=>c(f))),s.props=!0,e.ok((0,Jn._)`${o} === ${mW.default.errors}`);function c(f){if(r===!1){e.setParams({unevaluatedProperty:f}),e.error(),i||t.break();return}if(!(0,eN.alwaysValidSchema)(s,r)){let p=t.name("valid");e.subschema({keyword:"unevaluatedProperties",dataProp:f,dataPropType:eN.Type.Str},p),i||t.if((0,Jn.not)(p),()=>t.break())}}function u(f,p){return(0,Jn._)`!${f} || !${f}[${p}]`}function l(f,p){let m=[];for(let h in f)f[h]===!0&&m.push((0,Jn._)`${p} !== ${h}`);return(0,Jn.and)(...m)}}};Rb.default=gW});var nN=v(kb=>{"use strict";Object.defineProperty(kb,"__esModule",{value:!0});var es=L(),rN=Q(),yW={message:({params:{len:e}})=>(0,es.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,es._)`{limit: ${e}}`},_W={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:yW,code(e){let{gen:t,schema:r,data:n,it:o}=e,s=o.items||0;if(s===!0)return;let i=t.const("len",(0,es._)`${n}.length`);if(r===!1)e.setParams({len:s}),e.fail((0,es._)`${i} > ${s}`);else if(typeof r=="object"&&!(0,rN.alwaysValidSchema)(o,r)){let c=t.var("valid",(0,es._)`${i} <= ${s}`);t.if((0,es.not)(c),()=>a(c,s)),e.ok(c)}o.items=!0;function a(c,u){t.forRange("i",u,i,l=>{e.subschema({keyword:"unevaluatedItems",dataProp:l,dataPropType:rN.Type.Num},c),o.allErrors||t.if((0,es.not)(c),()=>t.break())})}}};kb.default=_W});var Nb=v(Ab=>{"use strict";Object.defineProperty(Ab,"__esModule",{value:!0});var SW=tN(),EW=nN(),bW=[SW.default,EW.default];Ab.default=bW});var oN=v(($be,vW)=>{vW.exports={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/schema",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/core":!0,"https://json-schema.org/draft/2019-09/vocab/applicator":!0,"https://json-schema.org/draft/2019-09/vocab/validation":!0,"https://json-schema.org/draft/2019-09/vocab/meta-data":!0,"https://json-schema.org/draft/2019-09/vocab/format":!1,"https://json-schema.org/draft/2019-09/vocab/content":!0},$recursiveAnchor:!0,title:"Core and Validation specifications meta-schema",allOf:[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format"},{$ref:"meta/content"}],type:["object","boolean"],properties:{definitions:{$comment:"While no longer an official keyword as it is replaced by $defs, this keyword is retained in the meta-schema to prevent incompatible extensions as it remains in common use.",type:"object",additionalProperties:{$recursiveRef:"#"},default:{}},dependencies:{$comment:'"dependencies" is no longer a keyword, but schema authors should avoid redefining it to facilitate a smooth transition to "dependentSchemas" and "dependentRequired"',type:"object",additionalProperties:{anyOf:[{$recursiveRef:"#"},{$ref:"meta/validation#/$defs/stringArray"}]}}}}});var sN=v((Dbe,TW)=>{TW.exports={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/applicator",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/applicator":!0},$recursiveAnchor:!0,title:"Applicator vocabulary meta-schema",type:["object","boolean"],properties:{additionalItems:{$recursiveRef:"#"},unevaluatedItems:{$recursiveRef:"#"},items:{anyOf:[{$recursiveRef:"#"},{$ref:"#/$defs/schemaArray"}]},contains:{$recursiveRef:"#"},additionalProperties:{$recursiveRef:"#"},unevaluatedProperties:{$recursiveRef:"#"},properties:{type:"object",additionalProperties:{$recursiveRef:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$recursiveRef:"#"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$recursiveRef:"#"}},propertyNames:{$recursiveRef:"#"},if:{$recursiveRef:"#"},then:{$recursiveRef:"#"},else:{$recursiveRef:"#"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$recursiveRef:"#"}},$defs:{schemaArray:{type:"array",minItems:1,items:{$recursiveRef:"#"}}}}});var iN=v((Mbe,IW)=>{IW.exports={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/content",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/content":!0},$recursiveAnchor:!0,title:"Content vocabulary meta-schema",type:["object","boolean"],properties:{contentMediaType:{type:"string"},contentEncoding:{type:"string"},contentSchema:{$recursiveRef:"#"}}}});var aN=v((Lbe,xW)=>{xW.exports={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/core",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/core":!0},$recursiveAnchor:!0,title:"Core vocabulary meta-schema",type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{type:"string",format:"uri"},$anchor:{type:"string",pattern:"^[A-Za-z][-A-Za-z0-9.:_]*$"},$ref:{type:"string",format:"uri-reference"},$recursiveRef:{type:"string",format:"uri-reference"},$recursiveAnchor:{type:"boolean",default:!1},$vocabulary:{type:"object",propertyNames:{type:"string",format:"uri"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$recursiveRef:"#"},default:{}}}}});var cN=v((Fbe,wW)=>{wW.exports={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/format",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/format":!0},$recursiveAnchor:!0,title:"Format vocabulary meta-schema",type:["object","boolean"],properties:{format:{type:"string"}}}});var uN=v((jbe,CW)=>{CW.exports={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/meta-data",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/meta-data":!0},$recursiveAnchor:!0,title:"Meta-data vocabulary meta-schema",type:["object","boolean"],properties:{title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}}}});var lN=v((Bbe,OW)=>{OW.exports={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/validation",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/validation":!0},$recursiveAnchor:!0,title:"Validation vocabulary meta-schema",type:["object","boolean"],properties:{multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}},const:!0,enum:{type:"array",items:!0},type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]}},$defs:{nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}}}});var fN=v(Pb=>{"use strict";Object.defineProperty(Pb,"__esModule",{value:!0});var RW=oN(),kW=sN(),AW=iN(),NW=aN(),PW=cN(),$W=uN(),DW=lN(),MW=["/properties"];function LW(e){return[RW,kW,AW,NW,t(this,PW),$W,t(this,DW)].forEach(r=>this.addMetaSchema(r,void 0,!1)),this;function t(r,n){return e?r.$dataMetaSchema(n,MW):n}}Pb.default=LW});var dN=v((we,Db)=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.MissingRefError=we.ValidationError=we.CodeGen=we.Name=we.nil=we.stringify=we.str=we._=we.KeywordCxt=we.Ajv2019=void 0;var FW=Kn(),jW=db(),BW=Tb(),UW=Ob(),HW=Nb(),qW=Au(),GW=fN(),$b="https://json-schema.org/draft/2019-09/schema",Yi=class extends FW.default{constructor(t={}){super(b(d({},t),{dynamicRef:!0,next:!0,unevaluated:!0}))}_addVocabularies(){super._addVocabularies(),this.addVocabulary(BW.default),jW.default.forEach(t=>this.addVocabulary(t)),this.addVocabulary(UW.default),this.addVocabulary(HW.default),this.opts.discriminator&&this.addKeyword(qW.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();let{$data:t,meta:r}=this.opts;r&&(GW.default.call(this,t),this.refs["http://json-schema.org/schema"]=$b)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema($b)?$b:void 0)}};we.Ajv2019=Yi;Db.exports=we=Yi;Db.exports.Ajv2019=Yi;Object.defineProperty(we,"__esModule",{value:!0});we.default=Yi;var zW=Ko();Object.defineProperty(we,"KeywordCxt",{enumerable:!0,get:function(){return zW.KeywordCxt}});var Ji=L();Object.defineProperty(we,"_",{enumerable:!0,get:function(){return Ji._}});Object.defineProperty(we,"str",{enumerable:!0,get:function(){return Ji.str}});Object.defineProperty(we,"stringify",{enumerable:!0,get:function(){return Ji.stringify}});Object.defineProperty(we,"nil",{enumerable:!0,get:function(){return Ji.nil}});Object.defineProperty(we,"Name",{enumerable:!0,get:function(){return Ji.Name}});Object.defineProperty(we,"CodeGen",{enumerable:!0,get:function(){return Ji.CodeGen}});var VW=Ui();Object.defineProperty(we,"ValidationError",{enumerable:!0,get:function(){return VW.default}});var WW=Yo();Object.defineProperty(we,"MissingRefError",{enumerable:!0,get:function(){return WW.default}})});var mN=v(Mb=>{"use strict";Object.defineProperty(Mb,"__esModule",{value:!0});var KW=gE(),YW=UE(),JW=Np(),XW=Tb(),ZW=Ob(),QW=Nb(),e8=Pp(),pN=lb(),t8=[XW.default,KW.default,YW.default,(0,JW.default)(!0),e8.default,pN.metadataVocabulary,pN.contentVocabulary,ZW.default,QW.default];Mb.default=t8});var hN=v((Gbe,r8)=>{r8.exports={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/schema",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/core":!0,"https://json-schema.org/draft/2020-12/vocab/applicator":!0,"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0,"https://json-schema.org/draft/2020-12/vocab/validation":!0,"https://json-schema.org/draft/2020-12/vocab/meta-data":!0,"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0,"https://json-schema.org/draft/2020-12/vocab/content":!0},$dynamicAnchor:"meta",title:"Core and Validation specifications meta-schema",allOf:[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/unevaluated"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format-annotation"},{$ref:"meta/content"}],type:["object","boolean"],$comment:"This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.",properties:{definitions:{$comment:'"definitions" has been replaced by "$defs".',type:"object",additionalProperties:{$dynamicRef:"#meta"},deprecated:!0,default:{}},dependencies:{$comment:'"dependencies" has been split and replaced by "dependentSchemas" and "dependentRequired" in order to serve their differing semantics.',type:"object",additionalProperties:{anyOf:[{$dynamicRef:"#meta"},{$ref:"meta/validation#/$defs/stringArray"}]},deprecated:!0,default:{}},$recursiveAnchor:{$comment:'"$recursiveAnchor" has been replaced by "$dynamicAnchor".',$ref:"meta/core#/$defs/anchorString",deprecated:!0},$recursiveRef:{$comment:'"$recursiveRef" has been replaced by "$dynamicRef".',$ref:"meta/core#/$defs/uriReferenceString",deprecated:!0}}}});var gN=v((zbe,n8)=>{n8.exports={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/applicator",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/applicator":!0},$dynamicAnchor:"meta",title:"Applicator vocabulary meta-schema",type:["object","boolean"],properties:{prefixItems:{$ref:"#/$defs/schemaArray"},items:{$dynamicRef:"#meta"},contains:{$dynamicRef:"#meta"},additionalProperties:{$dynamicRef:"#meta"},properties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},patternProperties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},propertyNames:{$dynamicRef:"#meta"},if:{$dynamicRef:"#meta"},then:{$dynamicRef:"#meta"},else:{$dynamicRef:"#meta"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$dynamicRef:"#meta"}},$defs:{schemaArray:{type:"array",minItems:1,items:{$dynamicRef:"#meta"}}}}});var yN=v((Vbe,o8)=>{o8.exports={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/unevaluated",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0},$dynamicAnchor:"meta",title:"Unevaluated applicator vocabulary meta-schema",type:["object","boolean"],properties:{unevaluatedItems:{$dynamicRef:"#meta"},unevaluatedProperties:{$dynamicRef:"#meta"}}}});var _N=v((Wbe,s8)=>{s8.exports={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/content",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/content":!0},$dynamicAnchor:"meta",title:"Content vocabulary meta-schema",type:["object","boolean"],properties:{contentEncoding:{type:"string"},contentMediaType:{type:"string"},contentSchema:{$dynamicRef:"#meta"}}}});var SN=v((Kbe,i8)=>{i8.exports={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/core",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/core":!0},$dynamicAnchor:"meta",title:"Core vocabulary meta-schema",type:["object","boolean"],properties:{$id:{$ref:"#/$defs/uriReferenceString",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{$ref:"#/$defs/uriString"},$ref:{$ref:"#/$defs/uriReferenceString"},$anchor:{$ref:"#/$defs/anchorString"},$dynamicRef:{$ref:"#/$defs/uriReferenceString"},$dynamicAnchor:{$ref:"#/$defs/anchorString"},$vocabulary:{type:"object",propertyNames:{$ref:"#/$defs/uriString"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$dynamicRef:"#meta"}}},$defs:{anchorString:{type:"string",pattern:"^[A-Za-z_][-A-Za-z0-9._]*$"},uriString:{type:"string",format:"uri"},uriReferenceString:{type:"string",format:"uri-reference"}}}});var EN=v((Ybe,a8)=>{a8.exports={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/format-annotation",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0},$dynamicAnchor:"meta",title:"Format vocabulary meta-schema for annotation results",type:["object","boolean"],properties:{format:{type:"string"}}}});var bN=v((Jbe,c8)=>{c8.exports={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/meta-data",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/meta-data":!0},$dynamicAnchor:"meta",title:"Meta-data vocabulary meta-schema",type:["object","boolean"],properties:{title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}}}});var vN=v((Xbe,u8)=>{u8.exports={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/validation",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/validation":!0},$dynamicAnchor:"meta",title:"Validation vocabulary meta-schema",type:["object","boolean"],properties:{type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]},const:!0,enum:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}}},$defs:{nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}}}});var TN=v(Lb=>{"use strict";Object.defineProperty(Lb,"__esModule",{value:!0});var l8=hN(),f8=gN(),d8=yN(),p8=_N(),m8=SN(),h8=EN(),g8=bN(),y8=vN(),_8=["/properties"];function S8(e){return[l8,f8,d8,p8,m8,t(this,h8),g8,t(this,y8)].forEach(r=>this.addMetaSchema(r,void 0,!1)),this;function t(r,n){return e?r.$dataMetaSchema(n,_8):n}}Lb.default=S8});var IN=v((Ce,jb)=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.MissingRefError=Ce.ValidationError=Ce.CodeGen=Ce.Name=Ce.nil=Ce.stringify=Ce.str=Ce._=Ce.KeywordCxt=Ce.Ajv2020=void 0;var E8=Kn(),b8=mN(),v8=Au(),T8=TN(),Fb="https://json-schema.org/draft/2020-12/schema",Xi=class extends E8.default{constructor(t={}){super(b(d({},t),{dynamicRef:!0,next:!0,unevaluated:!0}))}_addVocabularies(){super._addVocabularies(),b8.default.forEach(t=>this.addVocabulary(t)),this.opts.discriminator&&this.addKeyword(v8.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();let{$data:t,meta:r}=this.opts;r&&(T8.default.call(this,t),this.refs["http://json-schema.org/schema"]=Fb)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(Fb)?Fb:void 0)}};Ce.Ajv2020=Xi;jb.exports=Ce=Xi;jb.exports.Ajv2020=Xi;Object.defineProperty(Ce,"__esModule",{value:!0});Ce.default=Xi;var I8=Ko();Object.defineProperty(Ce,"KeywordCxt",{enumerable:!0,get:function(){return I8.KeywordCxt}});var Zi=L();Object.defineProperty(Ce,"_",{enumerable:!0,get:function(){return Zi._}});Object.defineProperty(Ce,"str",{enumerable:!0,get:function(){return Zi.str}});Object.defineProperty(Ce,"stringify",{enumerable:!0,get:function(){return Zi.stringify}});Object.defineProperty(Ce,"nil",{enumerable:!0,get:function(){return Zi.nil}});Object.defineProperty(Ce,"Name",{enumerable:!0,get:function(){return Zi.Name}});Object.defineProperty(Ce,"CodeGen",{enumerable:!0,get:function(){return Zi.CodeGen}});var x8=Ui();Object.defineProperty(Ce,"ValidationError",{enumerable:!0,get:function(){return x8.default}});var w8=Yo();Object.defineProperty(Ce,"MissingRefError",{enumerable:!0,get:function(){return w8.default}})});var xN=v(Bb=>{"use strict";Object.defineProperty(Bb,"__esModule",{value:!0});var C8=bu(),O8=["$schema","id","$defs",{keyword:"$comment"},"definitions",C8.default];Bb.default=O8});var wN=v(Gb=>{"use strict";Object.defineProperty(Gb,"__esModule",{value:!0});var Ub=Kn(),R8=L(),Xn=R8.operators,Hb={maximum:{exclusive:"exclusiveMaximum",ops:[{okStr:"<=",ok:Xn.LTE,fail:Xn.GT},{okStr:"<",ok:Xn.LT,fail:Xn.GTE}]},minimum:{exclusive:"exclusiveMinimum",ops:[{okStr:">=",ok:Xn.GTE,fail:Xn.LT},{okStr:">",ok:Xn.GT,fail:Xn.LTE}]}},k8={message:e=>Ub.str`must be ${qb(e).okStr} ${e.schemaCode}`,params:e=>Ub._`{comparison: ${qb(e).okStr}, limit: ${e.schemaCode}}`},A8={keyword:Object.keys(Hb),type:"number",schemaType:"number",$data:!0,error:k8,code(e){let{data:t,schemaCode:r}=e;e.fail$data(Ub._`${t} ${qb(e).fail} ${r} || isNaN(${t})`)}};function qb(e){var t;let r=e.keyword,n=!((t=e.parentSchema)===null||t===void 0)&&t[Hb[r].exclusive]?1:0;return Hb[r].ops[n]}Gb.default=A8});var ON=v(zb=>{"use strict";Object.defineProperty(zb,"__esModule",{value:!0});var CN={exclusiveMaximum:"maximum",exclusiveMinimum:"minimum"},N8={keyword:Object.keys(CN),type:"number",schemaType:"boolean",code({keyword:e,parentSchema:t}){let r=CN[e];if(t[r]===void 0)throw new Error(`${e} can only be used with ${r}`)}};zb.default=N8});var RN=v(Vb=>{"use strict";Object.defineProperty(Vb,"__esModule",{value:!0});var P8=wN(),$8=ON(),D8=SE(),M8=vE(),L8=IE(),F8=wE(),j8=OE(),B8=kE(),U8=$E(),H8=LE(),q8=jE(),G8=[P8.default,$8.default,D8.default,M8.default,L8.default,F8.default,j8.default,B8.default,U8.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},H8.default,q8.default];Vb.default=G8});var kN=v(Wb=>{"use strict";Object.defineProperty(Wb,"__esModule",{value:!0});var z8=xN(),V8=RN(),W8=Np(),K8=Pp(),Y8=["title","description","default"],J8=[z8.default,V8.default,W8.default(),K8.default,Y8];Wb.default=J8});var AN=v((sve,X8)=>{X8.exports={id:"http://json-schema.org/draft-04/schema#",$schema:"http://json-schema.org/draft-04/schema#",description:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:!1},maxLength:{$ref:"#/definitions/positiveInteger"},minLength:{$ref:"#/definitions/positiveIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{$ref:"#/definitions/positiveInteger"},minItems:{$ref:"#/definitions/positiveIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxProperties:{$ref:"#/definitions/positiveInteger"},minProperties:{$ref:"#/definitions/positiveIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}}});var $N=v((Ge,PN)=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.CodeGen=Ge.Name=Ge.nil=Ge.stringify=Ge.str=Ge._=Ge.KeywordCxt=void 0;var Z8=Kn(),Q8=kN(),e7=Au(),NN=AN(),t7=["/properties"],Mp="http://json-schema.org/draft-04/schema",Lp=class extends Z8.default{constructor(t={}){super(b(d({},t),{schemaId:"id"}))}_addVocabularies(){super._addVocabularies(),Q8.default.forEach(t=>this.addVocabulary(t)),this.opts.discriminator&&this.addKeyword(e7.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let t=this.opts.$data?this.$dataMetaSchema(NN,t7):NN;this.addMetaSchema(t,Mp,!1),this.refs["http://json-schema.org/schema"]=Mp}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(Mp)?Mp:void 0)}};PN.exports=Ge=Lp;Object.defineProperty(Ge,"__esModule",{value:!0});Ge.default=Lp;var r7=Kn();Object.defineProperty(Ge,"KeywordCxt",{enumerable:!0,get:function(){return r7.KeywordCxt}});var Qi=Kn();Object.defineProperty(Ge,"_",{enumerable:!0,get:function(){return Qi._}});Object.defineProperty(Ge,"str",{enumerable:!0,get:function(){return Qi.str}});Object.defineProperty(Ge,"stringify",{enumerable:!0,get:function(){return Qi.stringify}});Object.defineProperty(Ge,"nil",{enumerable:!0,get:function(){return Qi.nil}});Object.defineProperty(Ge,"Name",{enumerable:!0,get:function(){return Qi.Name}});Object.defineProperty(Ge,"CodeGen",{enumerable:!0,get:function(){return Qi.CodeGen}})});var BN=v(Dr=>{"use strict";Object.defineProperty(Dr,"__esModule",{value:!0});Dr.formatNames=Dr.fastFormats=Dr.fullFormats=void 0;function ea(e,t){return{validate:e,compare:t}}Dr.fullFormats={date:ea(LN,Jb),time:ea(FN,Xb),"date-time":ea(i7,jN),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:u7,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:g7,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:l7,int32:{type:"number",validate:p7},int64:{type:"number",validate:m7},float:{type:"number",validate:MN},double:{type:"number",validate:MN},password:!0,binary:!0};Dr.fastFormats=b(d({},Dr.fullFormats),{date:ea(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,Jb),time:ea(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,Xb),"date-time":ea(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,jN),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i});Dr.formatNames=Object.keys(Dr.fullFormats);function n7(e){return e%4===0&&(e%100!==0||e%400===0)}var o7=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,s7=[0,31,28,31,30,31,30,31,31,30,31,30,31];function LN(e){let t=o7.exec(e);if(!t)return!1;let r=+t[1],n=+t[2],o=+t[3];return n>=1&&n<=12&&o>=1&&o<=(n===2&&n7(r)?29:s7[n])}function Jb(e,t){if(e&&t)return e>t?1:e<t?-1:0}var Kb=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function FN(e,t){let r=Kb.exec(e);if(!r)return!1;let n=+r[1],o=+r[2],s=+r[3],i=r[5];return(n<=23&&o<=59&&s<=59||n===23&&o===59&&s===60)&&(!t||i!=="")}function Xb(e,t){if(!(e&&t))return;let r=Kb.exec(e),n=Kb.exec(t);if(r&&n)return e=r[1]+r[2]+r[3]+(r[4]||""),t=n[1]+n[2]+n[3]+(n[4]||""),e>t?1:e<t?-1:0}var Yb=/t|\s/i;function i7(e){let t=e.split(Yb);return t.length===2&&LN(t[0])&&FN(t[1],!0)}function jN(e,t){if(!(e&&t))return;let[r,n]=e.split(Yb),[o,s]=t.split(Yb),i=Jb(r,o);if(i!==void 0)return i||Xb(n,s)}var a7=/\/|:/,c7=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function u7(e){return a7.test(e)&&c7.test(e)}var DN=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function l7(e){return DN.lastIndex=0,DN.test(e)}var f7=-(2**31),d7=2**31-1;function p7(e){return Number.isInteger(e)&&e<=d7&&e>=f7}function m7(e){return Number.isInteger(e)}function MN(){return!0}var h7=/[^\\]\\Z/;function g7(e){if(h7.test(e))return!1;try{return new RegExp(e),!0}catch(t){return!1}}});var UN=v(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});ta.formatLimitDefinition=void 0;var y7=gb(),_r=L(),Zn=_r.operators,Fp={formatMaximum:{okStr:"<=",ok:Zn.LTE,fail:Zn.GT},formatMinimum:{okStr:">=",ok:Zn.GTE,fail:Zn.LT},formatExclusiveMaximum:{okStr:"<",ok:Zn.LT,fail:Zn.GTE},formatExclusiveMinimum:{okStr:">",ok:Zn.GT,fail:Zn.LTE}},_7={message:({keyword:e,schemaCode:t})=>_r.str`should be ${Fp[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>_r._`{comparison: ${Fp[e].okStr}, limit: ${t}}`};ta.formatLimitDefinition={keyword:Object.keys(Fp),type:"string",schemaType:"string",$data:!0,error:_7,code(e){let{gen:t,data:r,schemaCode:n,keyword:o,it:s}=e,{opts:i,self:a}=s;if(!i.validateFormats)return;let c=new y7.KeywordCxt(s,a.RULES.all.format.definition,"format");c.$data?u():l();function u(){let p=t.scopeValue("formats",{ref:a.formats,code:i.code.formats}),m=t.const("fmt",_r._`${p}[${c.schemaCode}]`);e.fail$data(_r.or(_r._`typeof ${m} != "object"`,_r._`${m} instanceof RegExp`,_r._`typeof ${m}.compare != "function"`,f(m)))}function l(){let p=c.schema,m=a.formats[p];if(!m||m===!0)return;if(typeof m!="object"||m instanceof RegExp||typeof m.compare!="function")throw new Error(`"${o}": format "${p}" does not define "compare" function`);let h=t.scopeValue("formats",{key:p,ref:m,code:i.code.formats?_r._`${i.code.formats}${_r.getProperty(p)}`:void 0});e.fail$data(f(h))}function f(p){return _r._`${p}.compare(${r}, ${n}) ${Fp[o].fail} 0`}},dependencies:["format"]};var S7=e=>(e.addKeyword(ta.formatLimitDefinition),e);ta.default=S7});var zN=v(($u,GN)=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});var ra=BN(),E7=UN(),Zb=L(),HN=new Zb.Name("fullFormats"),b7=new Zb.Name("fastFormats"),Qb=(e,t={keywords:!0})=>{if(Array.isArray(t))return qN(e,t,ra.fullFormats,HN),e;let[r,n]=t.mode==="fast"?[ra.fastFormats,b7]:[ra.fullFormats,HN],o=t.formats||ra.formatNames;return qN(e,o,r,n),t.keywords&&E7.default(e),e};Qb.get=(e,t="full")=>{let n=(t==="fast"?ra.fastFormats:ra.fullFormats)[e];if(!n)throw new Error(`Unknown format "${e}"`);return n};function qN(e,t,r,n){var o,s;(o=(s=e.opts.code).formats)!==null&&o!==void 0||(s.formats=Zb._`require("ajv-formats/dist/formats").${n}`);for(let i of t)e.addFormat(i,r[i])}GN.exports=$u=Qb;Object.defineProperty($u,"__esModule",{value:!0});$u.default=Qb});var Tv=Mr(vv()),os=class{constructor(){this._emitter=new Tv.EventEmitter}addListener(t,r){this._emitter.addListener(t,r)}on(t,r){this._emitter.on(t,r)}off(t,r){this._emitter.off(t,r)}removeListener(t,r){this._emitter.removeListener(t,r)}emit(t,...r){this._emitter.emit(t,...r)}once(t,r){this._emitter.once(t,r)}setMaxListeners(t){this._emitter.setMaxListeners(t)}listenerCount(t){return this._emitter.listenerCount(t)}listeners(t){return this._emitter.listeners(t)}};var{version:bP}=Iv(),aa=class extends os{constructor(r){super();this._messageHandlers=[];this.bundleName=r.name,this.bundleConfig=r.config,this.bundleVersion=r.version,this.bundleGit=r.git}static waitForReplicants(...r){return P(this,null,function*(){return new Promise(n=>{let o=r.length,s=0;r.forEach(i=>{i.once("change",()=>{s++,s>=o&&n()})})})})}listenFor(r,n,o){let s;if(typeof n=="string"?s=n:(s=this.bundleName,o=n),typeof o!="function")throw new Error(`argument "handler" must be a function, but you provided a(n) ${typeof o}`);this.log.trace("Listening for %s from bundle %s",r,n),this._messageHandlers.push({messageName:r,bundleName:s,func:o})}unlisten(r,n,o){let{bundleName:s}=this,i=o;if(typeof n=="string"?s=n:i=n,typeof i!="function")throw new Error(`argument "handler" must be a function, but you provided a(n) ${typeof i}`);this.log.trace("[%s] Removing listener for %s from bundle %s",this.bundleName,r,s);let a=this._messageHandlers.findIndex(c=>c.messageName===r&&c.bundleName===s&&c.func===i);return a>=0?(this._messageHandlers.splice(a,1),!0):!1}Replicant(r,n,o){let s;typeof n=="string"?s=n:s=this.bundleName,typeof n!="string"&&(o=n);let i={};return o=o!=null?o:i,this._replicantFactory(r,s,o)}};aa.version=bP;var ss=globalThis.ncgConfig;var M_={};Kp(M_,{Breadcrumbs:()=>Vl,BrowserClient:()=>Os,BrowserProfilingIntegration:()=>JC,BrowserTracing:()=>Va,Dedupe:()=>Wl,Feedback:()=>ai,FunctionToString:()=>Ha,GlobalHandlers:()=>Kl,HttpContext:()=>Yl,Hub:()=>go,InboundFilters:()=>Ua,Integrations:()=>Oq,LinkedErrors:()=>Jl,ModuleMetadata:()=>Th,Replay:()=>Ks,ReplayCanvas:()=>aw,SDK_VERSION:()=>gn,SEMANTIC_ATTRIBUTE_SENTRY_OP:()=>_n,SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN:()=>Lt,SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE:()=>ar,SEMANTIC_ATTRIBUTE_SENTRY_SOURCE:()=>Ke,Scope:()=>$t,TryCatch:()=>Xl,WINDOW:()=>A,addBreadcrumb:()=>ir,addEventProcessor:()=>fh,addGlobalEventProcessor:()=>ka,addIntegration:()=>lh,addTracingExtensions:()=>Eo,breadcrumbsIntegration:()=>Ja,browserApiErrorsIntegration:()=>ec,browserProfilingIntegration:()=>D_,browserTracingIntegration:()=>$h,captureConsoleIntegration:()=>md,captureEvent:()=>hs,captureException:()=>Aa,captureMessage:()=>Nm,captureSession:()=>ys,captureUserFeedback:()=>X0,chromeStackLineParser:()=>Bh,close:()=>Gm,configureScope:()=>Pm,contextLinesIntegration:()=>vd,continueTrace:()=>rh,createTransport:()=>bo,createUserFeedbackEnvelope:()=>Ul,debugIntegration:()=>hd,dedupeIntegration:()=>gd,defaultIntegrations:()=>zh,defaultRequestInstrumentationOptions:()=>Vr,defaultStackLineParsers:()=>qh,defaultStackParser:()=>Gl,endSession:()=>Na,eventFromException:()=>Fl,eventFromMessage:()=>jl,exceptionFromError:()=>Wa,extraErrorDataIntegration:()=>yd,extractTraceparentData:()=>Ym,feedbackIntegration:()=>jw,flush:()=>qm,forceLoad:()=>K0,functionToStringIntegration:()=>Is,geckoStackLineParser:()=>Uh,getActiveSpan:()=>Gr,getActiveTransaction:()=>Ve,getClient:()=>M,getCurrentHub:()=>V,getCurrentScope:()=>ge,getDefaultIntegrations:()=>Vh,getHubFromCarrier:()=>_s,getReplay:()=>zx,getSpanStatusFromHttpCode:()=>Da,globalHandlersIntegration:()=>Xa,httpClientIntegration:()=>bd,httpContextIntegration:()=>Za,inboundFiltersIntegration:()=>Ts,init:()=>V0,instrumentOutgoingRequests:()=>To,isInitialized:()=>Vm,lastEventId:()=>zm,linkedErrorsIntegration:()=>Qa,makeBrowserOfflineTransport:()=>NC,makeFetchTransport:()=>Hl,makeMain:()=>$a,makeMultiplexedTransport:()=>Sh,makeXHRTransport:()=>ql,metrics:()=>wh,moduleMetadataIntegration:()=>bl,onLoad:()=>Y0,onProfilingStartRouteTransaction:()=>KC,opera10StackLineParser:()=>R0,opera11StackLineParser:()=>k0,parameterize:()=>bh,replayCanvasIntegration:()=>Cy,replayIntegration:()=>Gx,reportingObserverIntegration:()=>_d,rewriteFramesIntegration:()=>Sd,sendFeedback:()=>i_,sessionTimingIntegration:()=>Ed,setContext:()=>$m,setCurrentClient:()=>El,setExtra:()=>Mm,setExtras:()=>Dm,setHttpStatus:()=>qr,setMeasurement:()=>Fa,setTag:()=>Fm,setTags:()=>Lm,setUser:()=>jm,showReportDialog:()=>W0,spanStatusfromHttpCode:()=>Zm,startBrowserTracingNavigationSpan:()=>Ll,startBrowserTracingPageLoadSpan:()=>Ml,startInactiveSpan:()=>yo,startSession:()=>gs,startSpan:()=>eh,startSpanManual:()=>th,startTransaction:()=>Hm,trace:()=>Qm,winjsStackLineParser:()=>Hh,withActiveSpan:()=>Um,withIsolationScope:()=>Bm,withScope:()=>Hr,wrap:()=>J0});var xv=Object.prototype.toString;function ca(e){switch(xv.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return wt(e,Error)}}function is(e,t){return xv.call(e)===`[object ${t}]`}function as(e){return is(e,"ErrorEvent")}function qu(e){return is(e,"DOMError")}function Jp(e){return is(e,"DOMException")}function Ze(e){return is(e,"String")}function cs(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function so(e){return e===null||cs(e)||typeof e!="object"&&typeof e!="function"}function Qt(e){return is(e,"Object")}function io(e){return typeof Event!="undefined"&&wt(e,Event)}function Xp(e){return typeof Element!="undefined"&&wt(e,Element)}function Zp(e){return is(e,"RegExp")}function kt(e){return!!(e&&e.then&&typeof e.then=="function")}function Qp(e){return Qt(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function ua(e){return typeof e=="number"&&e!==e}function wt(e,t){try{return e instanceof t}catch(r){return!1}}function la(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function Sr(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Gu(e,t){if(!Array.isArray(e))return"";let r=[];for(let n=0;n<e.length;n++){let o=e[n];try{la(o)?r.push("[VueViewModel]"):r.push(String(o))}catch(s){r.push("[value cannot be serialized]")}}return r.join(t)}function wv(e,t,r=!1){return Ze(e)?Zp(t)?t.test(e):Ze(t)?r?e===t:e.includes(t):!1:!1}function dn(e,t=[],r=!1){return t.some(n=>wv(e,n,r))}function fa(e,t,r=250,n,o,s,i){if(!s.exception||!s.exception.values||!i||!wt(i.originalException,Error))return;let a=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;a&&(s.exception.values=vP(em(e,t,o,i.originalException,n,s.exception.values,a,0),r))}function em(e,t,r,n,o,s,i,a){if(s.length>=r+1)return s;let c=[...s];if(wt(n[o],Error)){Cv(i,a);let u=e(t,n[o]),l=c.length;Ov(u,o,l,a),c=em(e,t,r,n[o],o,[u,...c],u,l)}return Array.isArray(n.errors)&&n.errors.forEach((u,l)=>{if(wt(u,Error)){Cv(i,a);let f=e(t,u),p=c.length;Ov(f,`errors[${l}]`,p,a),c=em(e,t,r,u,o,[f,...c],f,p)}}),c}function Cv(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism=b(d(d({},e.mechanism),e.type==="AggregateError"&&{is_exception_group:!0}),{exception_id:t})}function Ov(e,t,r,n){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism=b(d({},e.mechanism),{type:"chained",source:t,exception_id:r,parent_id:n})}function vP(e,t){return e.map(r=>(r.value&&(r.value=Sr(r.value,t)),r))}function zu(e){return e&&e.Math==Math?e:void 0}var D=typeof globalThis=="object"&&zu(globalThis)||typeof window=="object"&&zu(window)||typeof self=="object"&&zu(self)||typeof global=="object"&&zu(global)||function(){return this}()||{};function ao(){return D}function da(e,t,r){let n=r||D,o=n.__SENTRY__=n.__SENTRY__||{};return o[e]||(o[e]=t())}var us=ao(),TP=80;function Er(e,t={}){if(!e)return"<unknown>";try{let r=e,n=5,o=[],s=0,i=0,a=" > ",c=a.length,u,l=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||TP;for(;r&&s++<n&&(u=IP(r,l),!(u==="html"||s>1&&i+o.length*c+u.length>=f));)o.push(u),i+=u.length,r=r.parentNode;return o.reverse().join(a)}catch(r){return"<unknown>"}}function IP(e,t){let r=e,n=[],o,s,i,a,c;if(!r||!r.tagName)return"";if(us.HTMLElement&&r instanceof HTMLElement&&r.dataset&&r.dataset.sentryComponent)return r.dataset.sentryComponent;n.push(r.tagName.toLowerCase());let u=t&&t.length?t.filter(f=>r.getAttribute(f)).map(f=>[f,r.getAttribute(f)]):null;if(u&&u.length)u.forEach(f=>{n.push(`[${f[0]}="${f[1]}"]`)});else if(r.id&&n.push(`#${r.id}`),o=r.className,o&&Ze(o))for(s=o.split(/\s+/),c=0;c<s.length;c++)n.push(`.${s[c]}`);let l=["aria-label","type","name","title","alt"];for(c=0;c<l.length;c++)i=l[c],a=r.getAttribute(i),a&&n.push(`[${i}="${a}"]`);return n.join("")}function tm(){try{return us.document.location.href}catch(e){return""}}function pa(e){return us.document&&us.document.querySelector?us.document.querySelector(e):null}function ma(e){if(!us.HTMLElement)return null;let t=e,r=5;for(let n=0;n<r;n++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}var At=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;var xP="Sentry Logger ",ha=["debug","info","warn","error","log","assert","trace"],ls={};function pn(e){if(!("console"in D))return e();let t=D.console,r={},n=Object.keys(ls);n.forEach(o=>{let s=ls[o];r[o]=t[o],t[o]=s});try{return e()}finally{n.forEach(o=>{t[o]=r[o]})}}function wP(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return At?ha.forEach(r=>{t[r]=(...n)=>{e&&pn(()=>{D.console[r](`${xP}[${r}]:`,...n)})}}):ha.forEach(r=>{t[r]=()=>{}}),t}var E=wP();var CP=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function OP(e){return e==="http"||e==="https"}function at(e,t=!1){let{host:r,path:n,pass:o,port:s,projectId:i,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&o?`:${o}`:""}@${r}${s?`:${s}`:""}/${n&&`${n}/`}${i}`}function Vu(e){let t=CP.exec(e);if(!t){pn(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}let[r,n,o="",s,i="",a]=t.slice(1),c="",u=a,l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){let f=u.match(/^\d+/);f&&(u=f[0])}return Rv({host:s,pass:o,path:c,projectId:u,port:i,protocol:r,publicKey:n})}function Rv(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function RP(e){if(!At)return!0;let{port:t,projectId:r,protocol:n}=e;return["protocol","publicKey","host","projectId"].find(i=>e[i]?!1:(E.error(`Invalid Sentry Dsn: ${i} missing`),!0))?!1:r.match(/^\d+$/)?OP(n)?t&&isNaN(parseInt(t,10))?(E.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(E.error(`Invalid Sentry Dsn: Invalid protocol ${n}`),!1):(E.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1)}function ga(e){let t=typeof e=="string"?Vu(e):Rv(e);if(!(!t||!RP(t)))return t}var Qe=class extends Error{constructor(t,r="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=r}};function Oe(e,t,r){if(!(t in e))return;let n=e[t],o=r(n);typeof o=="function"&&Wu(o,n),e[t]=o}function Nt(e,t,r){try{Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}catch(n){At&&E.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function Wu(e,t){try{let r=t.prototype||{};e.prototype=t.prototype=r,Nt(e,"__sentry_original__",t)}catch(r){}}function co(e){return e.__sentry_original__}function nm(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function Ku(e){if(ca(e))return d({message:e.message,name:e.name,stack:e.stack},Av(e));if(io(e)){let t=d({type:e.type,target:kv(e.target),currentTarget:kv(e.currentTarget)},Av(e));return typeof CustomEvent!="undefined"&&wt(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function kv(e){try{return Xp(e)?Er(e):Object.prototype.toString.call(e)}catch(t){return"<unknown>"}}function Av(e){if(typeof e=="object"&&e!==null){let t={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}else return{}}function om(e,t=40){let r=Object.keys(Ku(e));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=t)return Sr(r[0],t);for(let n=r.length;n>0;n--){let o=r.slice(0,n).join(", ");if(!(o.length>t))return n===r.length?o:Sr(o,t)}return""}function he(e){return rm(e,new Map)}function rm(e,t){if(kP(e)){let r=t.get(e);if(r!==void 0)return r;let n={};t.set(e,n);for(let o of Object.keys(e))typeof e[o]!="undefined"&&(n[o]=rm(e[o],t));return n}if(Array.isArray(e)){let r=t.get(e);if(r!==void 0)return r;let n=[];return t.set(e,n),e.forEach(o=>{n.push(rm(o,t))}),n}return e}function kP(e){if(!Qt(e))return!1;try{let t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch(t){return!0}}var $v=50,Nv=/\(error: (.*)\)/,Pv=/captureMessage|captureException/;function Yu(...e){let t=e.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0)=>{let o=[],s=r.split(`
`);for(let i=n;i<s.length;i++){let a=s[i];if(a.length>1024)continue;let c=Nv.test(a)?a.replace(Nv,"$1"):a;if(!c.match(/\S*Error: /)){for(let u of t){let l=u(c);if(l){o.push(l);break}}if(o.length>=$v)break}}return Dv(o)}}function im(e){return Array.isArray(e)?Yu(...e):e}function Dv(e){if(!e.length)return[];let t=Array.from(e);return/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop(),t.reverse(),Pv.test(t[t.length-1].function||"")&&(t.pop(),Pv.test(t[t.length-1].function||"")&&t.pop()),t.slice(0,$v).map(r=>b(d({},r),{filename:r.filename||t[t.length-1].filename,function:r.function||"?"}))}var sm="<anonymous>";function ht(e){try{return!e||typeof e!="function"?sm:e.name||sm}catch(t){return sm}}var Ju={},Mv={};function gt(e,t){Ju[e]=Ju[e]||[],Ju[e].push(t)}function yt(e,t){Mv[e]||(t(),Mv[e]=!0)}function ze(e,t){let r=e&&Ju[e];if(r)for(let n of r)try{n(t)}catch(o){At&&E.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ht(n)}
Error:`,o)}}function am(e){let t="console";gt(t,e),yt(t,AP)}function AP(){"console"in D&&ha.forEach(function(e){e in D.console&&Oe(D.console,e,function(t){return ls[e]=t,function(...r){ze("console",{args:r,level:e});let o=ls[e];o&&o.apply(D.console,r)}})})}function z(){let e=D,t=e.crypto||e.msCrypto,r=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(r=()=>{let n=new Uint8Array(1);return t.getRandomValues(n),n[0]})}catch(n){}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(r()&15)>>n/4).toString(16))}function Lv(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function er(e){let{message:t,event_id:r}=e;if(t)return t;let n=Lv(e);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function fs(e,t,r){let n=e.exception=e.exception||{},o=n.values=n.values||[],s=o[0]=o[0]||{};s.value||(s.value=t||""),s.type||(s.type=r||"Error")}function Lr(e,t){let r=Lv(e);if(!r)return;let n={type:"generic",handled:!0},o=r.mechanism;if(r.mechanism=d(d(d({},n),o),t),t&&"data"in t){let s=d(d({},o&&o.data),t.data);r.mechanism.data=s}}function Xu(e){if(e&&e.__sentry_captured__)return!0;try{Nt(e,"__sentry_captured__",!0)}catch(t){}return!1}function ya(e){return Array.isArray(e)?e:[e]}var ds=D,NP=1e3,Fv,cm,um;function lm(e){let t="dom";gt(t,e),yt(t,PP)}function PP(){if(!ds.document)return;let e=ze.bind(null,"dom"),t=jv(e,!0);ds.document.addEventListener("click",t,!1),ds.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(r=>{let n=ds[r]&&ds[r].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Oe(n,"addEventListener",function(o){return function(s,i,a){if(s==="click"||s=="keypress")try{let c=this,u=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},l=u[s]=u[s]||{refCount:0};if(!l.handler){let f=jv(e);l.handler=f,o.call(this,s,f,a)}l.refCount++}catch(c){}return o.call(this,s,i,a)}}),Oe(n,"removeEventListener",function(o){return function(s,i,a){if(s==="click"||s=="keypress")try{let c=this,u=c.__sentry_instrumentation_handlers__||{},l=u[s];l&&(l.refCount--,l.refCount<=0&&(o.call(this,s,l.handler,a),l.handler=void 0,delete u[s]),Object.keys(u).length===0&&delete c.__sentry_instrumentation_handlers__)}catch(c){}return o.call(this,s,i,a)}}))})}function $P(e){if(e.type!==cm)return!1;try{if(!e.target||e.target._sentryId!==um)return!1}catch(t){}return!0}function DP(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function jv(e,t=!1){return r=>{if(!r||r._sentryCaptured)return;let n=MP(r);if(DP(r.type,n))return;Nt(r,"_sentryCaptured",!0),n&&!n._sentryId&&Nt(n,"_sentryId",z());let o=r.type==="keypress"?"input":r.type;$P(r)||(e({event:r,name:o,global:t}),cm=r.type,um=n?n._sentryId:void 0),clearTimeout(Fv),Fv=ds.setTimeout(()=>{um=void 0,cm=void 0},NP)}}function MP(e){try{return e.target}catch(t){return null}}var fm=ao();function Zu(){if(!("fetch"in fm))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function _a(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function dm(){if(typeof EdgeRuntime=="string")return!0;if(!Zu())return!1;if(_a(fm.fetch))return!0;let e=!1,t=fm.document;if(t&&typeof t.createElement=="function")try{let r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=_a(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){At&&E.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function Sa(e){let t="fetch";gt(t,e),yt(t,LP)}function LP(){dm()&&Oe(D,"fetch",function(e){return function(...t){let{method:r,url:n}=FP(t),o={args:t,fetchData:{method:r,url:n},startTimestamp:Date.now()};return ze("fetch",d({},o)),e.apply(D,t).then(s=>{let i=b(d({},o),{endTimestamp:Date.now(),response:s});return ze("fetch",i),s},s=>{let i=b(d({},o),{endTimestamp:Date.now(),error:s});throw ze("fetch",i),s})}})}function pm(e,t){return!!e&&typeof e=="object"&&!!e[t]}function Bv(e){return typeof e=="string"?e:e?pm(e,"url")?e.url:e.toString?e.toString():"":""}function FP(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){let[r,n]=e;return{url:Bv(r),method:pm(n,"method")?String(n.method).toUpperCase():"GET"}}let t=e[0];return{url:Bv(t),method:pm(t,"method")?String(t.method).toUpperCase():"GET"}}var Qu=null;function Ea(e){let t="error";gt(t,e),yt(t,jP)}function jP(){Qu=D.onerror,D.onerror=function(e,t,r,n,o){return ze("error",{column:n,error:o,line:r,msg:e,url:t}),Qu&&!Qu.__SENTRY_LOADER__?Qu.apply(this,arguments):!1},D.onerror.__SENTRY_INSTRUMENTED__=!0}var el=null;function ba(e){let t="unhandledrejection";gt(t,e),yt(t,BP)}function BP(){el=D.onunhandledrejection,D.onunhandledrejection=function(e){return ze("unhandledrejection",e),el&&!el.__SENTRY_LOADER__?el.apply(this,arguments):!0},D.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}var tl=ao();function Uv(){let e=tl.chrome,t=e&&e.app&&e.app.runtime,r="history"in tl&&!!tl.history.pushState&&!!tl.history.replaceState;return!t&&r}var va=D,rl;function Fr(e){let t="history";gt(t,e),yt(t,UP)}function UP(){if(!Uv())return;let e=va.onpopstate;va.onpopstate=function(...r){let n=va.location.href,o=rl;if(rl=n,ze("history",{from:o,to:n}),e)try{return e.apply(this,r)}catch(i){}};function t(r){return function(...n){let o=n.length>2?n[2]:void 0;if(o){let s=rl,i=String(o);rl=i,ze("history",{from:s,to:i})}return r.apply(this,n)}}Oe(va.history,"pushState",t),Oe(va.history,"replaceState",t)}var HP=D,jr="__sentry_xhr_v3__";function Ta(e){let t="xhr";gt(t,e),yt(t,qP)}function qP(){if(!HP.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;Oe(e,"open",function(t){return function(...r){let n=Date.now(),o=Ze(r[0])?r[0].toUpperCase():void 0,s=GP(r[1]);if(!o||!s)return t.apply(this,r);this[jr]={method:o,url:s,request_headers:{}},o==="POST"&&s.match(/sentry_key/)&&(this.__sentry_own_request__=!0);let i=()=>{let a=this[jr];if(a&&this.readyState===4){try{a.status_code=this.status}catch(u){}let c={args:[o,s],endTimestamp:Date.now(),startTimestamp:n,xhr:this};ze("xhr",c)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?Oe(this,"onreadystatechange",function(a){return function(...c){return i(),a.apply(this,c)}}):this.addEventListener("readystatechange",i),Oe(this,"setRequestHeader",function(a){return function(...c){let[u,l]=c,f=this[jr];return f&&Ze(u)&&Ze(l)&&(f.request_headers[u.toLowerCase()]=l),a.apply(this,c)}}),t.apply(this,r)}}),Oe(e,"send",function(t){return function(...r){let n=this[jr];if(!n)return t.apply(this,r);r[0]!==void 0&&(n.body=r[0]);let o={args:[n.method,n.url],startTimestamp:Date.now(),xhr:this};return ze("xhr",o),t.apply(this,r)}})}function GP(e){if(Ze(e))return e;try{return e.toString()}catch(t){}}function mm(){return"npm"}function Hv(){let e=typeof WeakSet=="function",t=e?new WeakSet:[];function r(o){if(e)return t.has(o)?!0:(t.add(o),!1);for(let s=0;s<t.length;s++)if(t[s]===o)return!0;return t.push(o),!1}function n(o){if(e)t.delete(o);else for(let s=0;s<t.length;s++)if(t[s]===o){t.splice(s,1);break}}return[r,n]}function tr(e,t=100,r=1/0){try{return nl("",e,t,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function ol(e,t=3,r=100*1024){let n=tr(e,t);return KP(n)>r?ol(e,t-1,r):n}function nl(e,t,r=1/0,n=1/0,o=Hv()){let[s,i]=o;if(t==null||["number","boolean","string"].includes(typeof t)&&!ua(t))return t;let a=zP(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;let c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:r;if(c===0)return a.replace("object ","");if(s(t))return"[Circular ~]";let u=t;if(u&&typeof u.toJSON=="function")try{let m=u.toJSON();return nl("",m,c-1,n,o)}catch(m){}let l=Array.isArray(t)?[]:{},f=0,p=Ku(t);for(let m in p){if(!Object.prototype.hasOwnProperty.call(p,m))continue;if(f>=n){l[m]="[MaxProperties ~]";break}let h=p[m];l[m]=nl(m,h,c-1,n,o),f++}return i(t),l}function zP(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global!="undefined"&&t===global)return"[Global]";if(typeof window!="undefined"&&t===window)return"[Window]";if(typeof document!="undefined"&&t===document)return"[Document]";if(la(t))return"[VueViewModel]";if(Qp(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${ht(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;let r=VP(t);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function VP(e){let t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function WP(e){return~-encodeURI(e).split(/%..|./).length}function KP(e){return WP(JSON.stringify(e))}var Br;(function(e){e[e.PENDING=0]="PENDING";let r=1;e[e.RESOLVED=r]="RESOLVED";let n=2;e[e.REJECTED=n]="REJECTED"})(Br||(Br={}));function rr(e){return new Ct(t=>{t(e)})}function uo(e){return new Ct((t,r)=>{r(e)})}var Ct=class e{constructor(t){e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),this._state=Br.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(r){this._reject(r)}}then(t,r){return new e((n,o)=>{this._handlers.push([!1,s=>{if(!t)n(s);else try{n(t(s))}catch(i){o(i)}},s=>{if(!r)o(s);else try{n(r(s))}catch(i){o(i)}}]),this._executeHandlers()})}catch(t){return this.then(r=>r,t)}finally(t){return new e((r,n)=>{let o,s;return this.then(i=>{s=!1,o=i,t&&t()},i=>{s=!0,o=i,t&&t()}).then(()=>{if(s){n(o);return}r(o)})})}__init(){this._resolve=t=>{this._setResult(Br.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(Br.REJECTED,t)}}__init3(){this._setResult=(t,r)=>{if(this._state===Br.PENDING){if(kt(r)){r.then(this._resolve,this._reject);return}this._state=t,this._value=r,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Br.PENDING)return;let t=this._handlers.slice();this._handlers=[],t.forEach(r=>{r[0]||(this._state===Br.RESOLVED&&r[1](this._value),this._state===Br.REJECTED&&r[2](this._value),r[0]=!0)})}}};function hm(e){let t=[];function r(){return e===void 0||t.length<e}function n(i){return t.splice(t.indexOf(i),1)[0]}function o(i){if(!r())return uo(new Qe("Not adding Promise because buffer limit was reached."));let a=i();return t.indexOf(a)===-1&&t.push(a),a.then(()=>n(a)).then(null,()=>n(a).then(null,()=>{})),a}function s(i){return new Ct((a,c)=>{let u=t.length;if(!u)return a(!0);let l=setTimeout(()=>{i&&i>0&&a(!1)},i);t.forEach(f=>{rr(f).then(()=>{--u||(clearTimeout(l),a(!0))},c)})})}return{$:t,add:o,drain:s}}function Pt(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:r,hash:n,relative:t[5]+r+n}}var qv=["fatal","error","warning","log","info","debug"];function gm(e){return e==="warn"?"warning":qv.includes(e)?e:"log"}var Gv=1e3;function br(){return Date.now()/Gv}function YP(){let{performance:e}=D;if(!e||!e.now)return br;let t=Date.now()-e.now(),r=e.timeOrigin==null?t:e.timeOrigin;return()=>(r+e.now())/Gv}var ct=YP();var Ia,Pe=(()=>{let{performance:e}=D;if(!e||!e.now){Ia="none";return}let t=3600*1e3,r=e.now(),n=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+r-n):t,s=o<t,i=e.timing&&e.timing.navigationStart,c=typeof i=="number"?Math.abs(i+r-n):t,u=c<t;return s||u?o<=c?(Ia="timeOrigin",e.timeOrigin):(Ia="navigationStart",i):(Ia="dateNow",n)})();var ps="baggage",ym="sentry-",Vv=/^sentry-/,Wv=8192;function sl(e){if(!Ze(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce((n,o)=>{let s=zv(o);for(let i of Object.keys(s))n[i]=s[i];return n},{});else{if(!e)return;t=zv(e)}let r=Object.entries(t).reduce((n,[o,s])=>{if(o.match(Vv)){let i=o.slice(ym.length);n[i]=s}return n},{});if(Object.keys(r).length>0)return r}function xa(e){if(!e)return;let t=Object.entries(e).reduce((r,[n,o])=>(o&&(r[`${ym}${n}`]=o),r),{});return JP(t)}function zv(e){return e.split(",").map(t=>t.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((t,[r,n])=>(t[r]=n,t),{})}function JP(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[r,n],o)=>{let s=`${encodeURIComponent(r)}=${encodeURIComponent(n)}`,i=o===0?s:`${t},${s}`;return i.length>Wv?(At&&E.warn(`Not adding key: ${r} with val: ${n} to baggage header due to exceeding baggage size limits.`),t):i},"")}var Kv=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function wa(e){if(!e)return;let t=e.match(Kv);if(!t)return;let r;return t[3]==="1"?r=!0:t[3]==="0"&&(r=!1),{traceId:t[1],parentSampled:r,parentSpanId:t[2]}}function _m(e,t){let r=wa(e),n=sl(t),{traceId:o,parentSpanId:s,parentSampled:i}=r||{};return r?{traceparentData:r,dynamicSamplingContext:n||{},propagationContext:{traceId:o||z(),parentSpanId:s||z().substring(16),spanId:z().substring(16),sampled:i,dsc:n||{}}}:{traceparentData:r,dynamicSamplingContext:void 0,propagationContext:{traceId:o||z(),spanId:z().substring(16)}}}function Ca(e,t){let r=wa(e),n=sl(t),{traceId:o,parentSpanId:s,parentSampled:i}=r||{};return r?{traceId:o||z(),parentSpanId:s||z().substring(16),spanId:z().substring(16),sampled:i,dsc:n||{}}:{traceId:o||z(),spanId:z().substring(16)}}function lo(e=z(),t=z().substring(16),r){let n="";return r!==void 0&&(n=r?"-1":"-0"),`${e}-${t}${n}`}function et(e,t=[]){return[e,t]}function Em(e,t){let[r,n]=e;return[r,[...n,t]]}function nr(e,t){let r=e[1];for(let n of r){let o=n[0].type;if(t(n,o))return!0}return!1}function bm(e,t){return nr(e,(r,n)=>t.includes(n))}function Sm(e,t){return(t||new TextEncoder).encode(e)}function Oa(e,t){let[r,n]=e,o=JSON.stringify(r);function s(i){typeof o=="string"?o=typeof i=="string"?o+i:[Sm(o,t),i]:o.push(typeof i=="string"?Sm(i,t):i)}for(let i of n){let[a,c]=i;if(s(`
${JSON.stringify(a)}
`),typeof c=="string"||c instanceof Uint8Array)s(c);else{let u;try{u=JSON.stringify(c)}catch(l){u=JSON.stringify(tr(c))}s(u)}}return typeof o=="string"?o:XP(o)}function XP(e){let t=e.reduce((o,s)=>o+s.length,0),r=new Uint8Array(t),n=0;for(let o of e)r.set(o,n),n+=o.length;return r}function vm(e,t,r){let n=typeof e=="string"?t.encode(e):e;function o(c){let u=n.subarray(0,c);return n=n.subarray(c+1),u}function s(){let c=n.indexOf(10);return c<0&&(c=n.length),JSON.parse(r.decode(o(c)))}let i=s(),a=[];for(;n.length;){let c=s(),u=typeof c.length=="number"?c.length:void 0;a.push([c,u?o(u):s()])}return[i,a]}function Tm(e,t){let r=typeof e.data=="string"?Sm(e.data,t):e.data;return[he({type:"attachment",length:r.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),r]}var ZP={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function il(e){return ZP[e]}function al(e){if(!e||!e.sdk)return;let{name:t,version:r}=e.sdk;return{name:t,version:r}}function Im(e,t,r,n){let o=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return d(d(d({event_id:e.event_id,sent_at:new Date().toISOString()},t&&{sdk:t}),!!r&&n&&{dsn:at(n)}),o&&{trace:he(d({},o))})}function xm(e,t,r){let n=[{type:"client_report"},{timestamp:r||br(),discarded_events:e}];return et(t?{dsn:t}:{},[n])}function cl(e,t=Date.now()){let r=parseInt(`${e}`,10);if(!isNaN(r))return r*1e3;let n=Date.parse(`${e}`);return isNaN(n)?6e4:n-t}function Yv(e,t){return e[t]||e.all||0}function wm(e,t,r=Date.now()){return Yv(e,t)>r}function Cm(e,{statusCode:t,headers:r},n=Date.now()){let o=d({},e),s=r&&r["x-sentry-rate-limits"],i=r&&r["retry-after"];if(s)for(let a of s.trim().split(",")){let[c,u,,,l]=a.split(":",5),f=parseInt(c,10),p=(isNaN(f)?60:f)*1e3;if(!u)o.all=n+p;else for(let m of u.split(";"))m==="metric_bucket"?(!l||l.split(";").includes("custom"))&&(o[m]=n+p):o[m]=n+p}else i?o.all=n+cl(i,n):t===429&&(o.all=n+60*1e3);return o}function Jv(e,t){return e(t.stack||"",1)}function Om(e,t){let r={type:t.name||t.constructor.name,value:t.message},n=Jv(e,t);return n.length&&(r.stacktrace={frames:n}),r}var O=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;var or="production";function Ra(){return da("globalEventProcessors",()=>[])}function ka(e){Ra().push(e)}function fo(e,t,r,n=0){return new Ct((o,s)=>{let i=e[n];if(t===null||typeof i!="function")o(t);else{let a=i(d({},t),r);O&&i.id&&a===null&&E.log(`Event processor "${i.id}" dropped event`),kt(a)?a.then(c=>fo(e,c,r,n+1).then(o)).then(null,s):fo(e,a,r,n+1).then(o).then(null,s)}})}function ul(e){let t=ct(),r={sid:z(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>QP(r)};return e&&sr(r,e),r}function sr(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||ct(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:z()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{let r=e.timestamp-e.started;e.duration=r>=0?r:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function ll(e,t){let r={};t?r={status:t}:e.status==="ok"&&(r={status:"exited"}),sr(e,r)}function QP(e){return he({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}var Zv=0,Rm=1;function po(e){let{spanId:t,traceId:r}=e.spanContext(),{data:n,op:o,parent_span_id:s,status:i,tags:a,origin:c}=H(e);return he({data:n,op:o,parent_span_id:s,span_id:t,status:i,tags:a,trace_id:r,origin:c})}function Ur(e){let{traceId:t,spanId:r}=e.spanContext(),n=ms(e);return lo(t,r,n)}function mn(e){return typeof e=="number"?Xv(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Xv(e.getTime()):ct()}function Xv(e){return e>9999999999?e/1e3:e}function H(e){return e$(e)?e.getSpanJSON():typeof e.toJSON=="function"?e.toJSON():{}}function e$(e){return typeof e.getSpanJSON=="function"}function ms(e){let{traceFlags:t}=e.spanContext();return!!(t&Rm)}function eT(e,t,r,n,o,s){let{normalizeDepth:i=3,normalizeMaxBreadth:a=1e3}=e,c=b(d({},t),{event_id:t.event_id||r.event_id||z(),timestamp:t.timestamp||br()}),u=r.integrations||e.integrations.map(y=>y.name);t$(c,e),o$(c,u),t.type===void 0&&r$(c,e.stackParser);let l=i$(n,r.captureContext);r.mechanism&&Lr(c,r.mechanism);let f=o&&o.getEventProcessors?o.getEventProcessors():[],p=Am().getScopeData();if(s){let y=s.getScopeData();km(p,y)}if(l){let y=l.getScopeData();km(p,y)}let m=[...r.attachments||[],...p.attachments];m.length&&(r.attachments=m),fl(c,p);let h=[...f,...Ra(),...p.eventProcessors];return fo(h,c,r).then(y=>(y&&n$(y),typeof i=="number"&&i>0?s$(y,i,a):y))}function t$(e,t){let{environment:r,release:n,dist:o,maxValueLength:s=250}=t;"environment"in e||(e.environment="environment"in t?r:or),e.release===void 0&&n!==void 0&&(e.release=n),e.dist===void 0&&o!==void 0&&(e.dist=o),e.message&&(e.message=Sr(e.message,s));let i=e.exception&&e.exception.values&&e.exception.values[0];i&&i.value&&(i.value=Sr(i.value,s));let a=e.request;a&&a.url&&(a.url=Sr(a.url,s))}var Qv=new WeakMap;function r$(e,t){let r=D._sentryDebugIds;if(!r)return;let n,o=Qv.get(t);o?n=o:(n=new Map,Qv.set(t,n));let s=Object.keys(r).reduce((i,a)=>{let c,u=n.get(a);u?c=u:(c=t(a),n.set(a,c));for(let l=c.length-1;l>=0;l--){let f=c[l];if(f.filename){i[f.filename]=r[a];break}}return i},{});try{e.exception.values.forEach(i=>{i.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=s[a.filename])})})}catch(i){}}function n$(e){let t={};try{e.exception.values.forEach(n=>{n.stacktrace.frames.forEach(o=>{o.debug_id&&(o.abs_path?t[o.abs_path]=o.debug_id:o.filename&&(t[o.filename]=o.debug_id),delete o.debug_id)})})}catch(n){}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let r=e.debug_meta.images;Object.keys(t).forEach(n=>{r.push({type:"sourcemap",code_file:n,debug_id:t[n]})})}function o$(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function s$(e,t,r){if(!e)return null;let n=d(d(d(d(d({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>d(d({},o),o.data&&{data:tr(o.data,t,r)}))}),e.user&&{user:tr(e.user,t,r)}),e.contexts&&{contexts:tr(e.contexts,t,r)}),e.extra&&{extra:tr(e.extra,t,r)});return e.contexts&&e.contexts.trace&&n.contexts&&(n.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(n.contexts.trace.data=tr(e.contexts.trace.data,t,r))),e.spans&&(n.spans=e.spans.map(o=>{let s=H(o).data;return s&&(o.data=tr(s,t,r)),o})),n}function i$(e,t){if(!t)return e;let r=e?e.clone():new $t;return r.update(t),r}function tT(e){if(e)return a$(e)?{captureContext:e}:u$(e)?{captureContext:e}:e}function a$(e){return e instanceof $t||typeof e=="function"}var c$=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function u$(e){return Object.keys(e).some(t=>c$.includes(t))}function Aa(e,t){return V().captureException(e,tT(t))}function Nm(e,t){let r=typeof t=="string"?t:void 0,n=typeof t!="string"?{captureContext:t}:void 0;return V().captureMessage(e,r,n)}function hs(e,t){return V().captureEvent(e,t)}function Pm(e){V().configureScope(e)}function ir(e,t){V().addBreadcrumb(e,t)}function $m(e,t){V().setContext(e,t)}function Dm(e){V().setExtras(e)}function Mm(e,t){V().setExtra(e,t)}function Lm(e){V().setTags(e)}function Fm(e,t){V().setTag(e,t)}function jm(e){V().setUser(e)}function Hr(...e){let t=V();if(e.length===2){let[r,n]=e;return r?t.withScope(()=>(t.getStackTop().scope=r,n(r))):t.withScope(n)}return t.withScope(e[0])}function Bm(e){return mo(()=>e(_t()))}function Um(e,t){return Hr(r=>(r.setSpan(e),t(r)))}function Hm(e,t){return V().startTransaction(d({},e),t)}function qm(e){return P(this,null,function*(){let t=M();return t?t.flush(e):(O&&E.warn("Cannot flush events. No client defined."),Promise.resolve(!1))})}function Gm(e){return P(this,null,function*(){let t=M();return t?t.close(e):(O&&E.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))})}function zm(){return V().lastEventId()}function M(){return V().getClient()}function Vm(){return!!M()}function ge(){return V().getScope()}function gs(e){let t=M(),r=_t(),n=ge(),{release:o,environment:s=or}=t&&t.getOptions()||{},{userAgent:i}=D.navigator||{},a=ul(d(d({release:o,environment:s,user:n.getUser()||r.getUser()},i&&{userAgent:i}),e)),c=r.getSession();return c&&c.status==="ok"&&sr(c,{status:"exited"}),Na(),r.setSession(a),n.setSession(a),a}function Na(){let e=_t(),t=ge(),r=t.getSession()||e.getSession();r&&ll(r),rT(),e.setSession(),t.setSession()}function rT(){let e=_t(),t=ge(),r=M(),n=t.getSession()||e.getSession();n&&r&&r.captureSession&&r.captureSession(n)}function ys(e=!1){if(e){Na();return}rT()}function ho(e){return e.transaction}function hn(e,t,r){let n=t.getOptions(),{publicKey:o}=t.getDsn()||{},{segment:s}=r&&r.getUser()||{},i=he({environment:n.environment||or,release:n.release,user_segment:s,public_key:o,trace_id:e});return t.emit&&t.emit("createDsc",i),i}function Dt(e){let t=M();if(!t)return{};let r=hn(H(e).trace_id||"",t,ge()),n=ho(e);if(!n)return r;let o=n&&n._frozenDynamicSamplingContext;if(o)return o;let{sampleRate:s,source:i}=n.metadata;s!=null&&(r.sample_rate=`${s}`);let a=H(n);return i&&i!=="url"&&(r.transaction=a.description),r.sampled=String(ms(n)),t.emit&&t.emit("createDsc",r),r}function fl(e,t){let{fingerprint:r,span:n,breadcrumbs:o,sdkProcessingMetadata:s}=t;l$(e,t),n&&p$(e,n),m$(e,r),f$(e,o),d$(e,s)}function km(e,t){let{extra:r,tags:n,user:o,contexts:s,level:i,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:l,attachments:f,propagationContext:p,transactionName:m,span:h}=t;Pa(e,"extra",r),Pa(e,"tags",n),Pa(e,"user",o),Pa(e,"contexts",s),Pa(e,"sdkProcessingMetadata",a),i&&(e.level=i),m&&(e.transactionName=m),h&&(e.span=h),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),l.length&&(e.eventProcessors=[...e.eventProcessors,...l]),f.length&&(e.attachments=[...e.attachments,...f]),e.propagationContext=d(d({},e.propagationContext),p)}function Pa(e,t,r){if(r&&Object.keys(r).length){e[t]=d({},e[t]);for(let n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[t][n]=r[n])}}function l$(e,t){let{extra:r,tags:n,user:o,contexts:s,level:i,transactionName:a}=t,c=he(r);c&&Object.keys(c).length&&(e.extra=d(d({},c),e.extra));let u=he(n);u&&Object.keys(u).length&&(e.tags=d(d({},u),e.tags));let l=he(o);l&&Object.keys(l).length&&(e.user=d(d({},l),e.user));let f=he(s);f&&Object.keys(f).length&&(e.contexts=d(d({},f),e.contexts)),i&&(e.level=i),a&&(e.transaction=a)}function f$(e,t){let r=[...e.breadcrumbs||[],...t];e.breadcrumbs=r.length?r:void 0}function d$(e,t){e.sdkProcessingMetadata=d(d({},e.sdkProcessingMetadata),t)}function p$(e,t){e.contexts=d({trace:po(t)},e.contexts);let r=ho(t);if(r){e.sdkProcessingMetadata=d({dynamicSamplingContext:Dt(t)},e.sdkProcessingMetadata);let n=H(r).description;n&&(e.tags=d({transaction:n},e.tags))}}function m$(e,t){e.fingerprint=e.fingerprint?ya(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}var h$=100,Wm,$t=class e{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=nT()}static clone(t){return t?t.clone():new e}clone(){let t=new e;return t._breadcrumbs=[...this._breadcrumbs],t._tags=d({},this._tags),t._extra=d({},this._extra),t._contexts=d({},this._contexts),t._user=this._user,t._level=this._level,t._span=this._span,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata=d({},this._sdkProcessingMetadata),t._propagationContext=d({},this._propagationContext),t._client=this._client,t}setClient(t){this._client=t}getClient(){return this._client}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&sr(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags=d(d({},this._tags),t),this._notifyScopeListeners(),this}setTag(t,r){return this._tags=b(d({},this._tags),{[t]:r}),this._notifyScopeListeners(),this}setExtras(t){return this._extra=d(d({},this._extra),t),this._notifyScopeListeners(),this}setExtra(t,r){return this._extra=b(d({},this._extra),{[t]:r}),this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,r){return r===null?delete this._contexts[t]:this._contexts[t]=r,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){let t=this._span;return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;let r=typeof t=="function"?t(this):t;if(r instanceof e){let n=r.getScopeData();this._tags=d(d({},this._tags),n.tags),this._extra=d(d({},this._extra),n.extra),this._contexts=d(d({},this._contexts),n.contexts),n.user&&Object.keys(n.user).length&&(this._user=n.user),n.level&&(this._level=n.level),n.fingerprint.length&&(this._fingerprint=n.fingerprint),r.getRequestSession()&&(this._requestSession=r.getRequestSession()),n.propagationContext&&(this._propagationContext=n.propagationContext)}else if(Qt(r)){let n=t;this._tags=d(d({},this._tags),n.tags),this._extra=d(d({},this._extra),n.extra),this._contexts=d(d({},this._contexts),n.contexts),n.user&&(this._user=n.user),n.level&&(this._level=n.level),n.fingerprint&&(this._fingerprint=n.fingerprint),n.requestSession&&(this._requestSession=n.requestSession),n.propagationContext&&(this._propagationContext=n.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=nT(),this}addBreadcrumb(t,r){let n=typeof r=="number"?r:h$;if(n<=0)return this;let o=d({timestamp:br()},t),s=this._breadcrumbs;return s.push(o),this._breadcrumbs=s.length>n?s.slice(-n):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){let{_breadcrumbs:t,_attachments:r,_contexts:n,_tags:o,_extra:s,_user:i,_level:a,_fingerprint:c,_eventProcessors:u,_propagationContext:l,_sdkProcessingMetadata:f,_transactionName:p,_span:m}=this;return{breadcrumbs:t,attachments:r,contexts:n,tags:o,extra:s,user:i,level:a,fingerprint:c||[],eventProcessors:u,propagationContext:l,sdkProcessingMetadata:f,transactionName:p,span:m}}applyToEvent(t,r={},n=[]){fl(t,this.getScopeData());let o=[...n,...Ra(),...this._eventProcessors];return fo(o,t,r)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=d(d({},this._sdkProcessingMetadata),t),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,r){let n=r&&r.event_id?r.event_id:z();if(!this._client)return E.warn("No client configured on scope - will not capture exception!"),n;let o=new Error("Sentry syntheticException");return this._client.captureException(t,b(d({originalException:t,syntheticException:o},r),{event_id:n}),this),n}captureMessage(t,r,n){let o=n&&n.event_id?n.event_id:z();if(!this._client)return E.warn("No client configured on scope - will not capture message!"),o;let s=new Error(t);return this._client.captureMessage(t,r,b(d({originalException:t,syntheticException:s},n),{event_id:o}),this),o}captureEvent(t,r){let n=r&&r.event_id?r.event_id:z();return this._client?(this._client.captureEvent(t,b(d({},r),{event_id:n}),this),n):(E.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}};function Am(){return Wm||(Wm=new $t),Wm}function nT(){return{traceId:z(),spanId:z().substring(16)}}var gn="7.120.2";var oT=parseFloat(gn),g$=100,go=class{constructor(t,r,n,o=oT){this._version=o;let s;r?s=r:(s=new $t,s.setClient(t));let i;n?i=n:(i=new $t,i.setClient(t)),this._stack=[{scope:s}],t&&this.bindClient(t),this._isolationScope=i}isOlderThan(t){return this._version<t}bindClient(t){let r=this.getStackTop();r.client=t,r.scope.setClient(t),t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){let t=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){let r=this.pushScope(),n;try{n=t(r)}catch(o){throw this.popScope(),o}return kt(n)?n.then(o=>(this.popScope(),o),o=>{throw this.popScope(),o}):(this.popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,r){let n=this._lastEventId=r&&r.event_id?r.event_id:z(),o=new Error("Sentry syntheticException");return this.getScope().captureException(t,b(d({originalException:t,syntheticException:o},r),{event_id:n})),n}captureMessage(t,r,n){let o=this._lastEventId=n&&n.event_id?n.event_id:z(),s=new Error(t);return this.getScope().captureMessage(t,r,b(d({originalException:t,syntheticException:s},n),{event_id:o})),o}captureEvent(t,r){let n=r&&r.event_id?r.event_id:z();return t.type||(this._lastEventId=n),this.getScope().captureEvent(t,b(d({},r),{event_id:n})),n}lastEventId(){return this._lastEventId}addBreadcrumb(t,r){let{scope:n,client:o}=this.getStackTop();if(!o)return;let{beforeBreadcrumb:s=null,maxBreadcrumbs:i=g$}=o.getOptions&&o.getOptions()||{};if(i<=0)return;let a=br(),c=d({timestamp:a},t),u=s?pn(()=>s(c,r)):c;u!==null&&(o.emit&&o.emit("beforeAddBreadcrumb",u,r),n.addBreadcrumb(u,i))}setUser(t){this.getScope().setUser(t),this.getIsolationScope().setUser(t)}setTags(t){this.getScope().setTags(t),this.getIsolationScope().setTags(t)}setExtras(t){this.getScope().setExtras(t),this.getIsolationScope().setExtras(t)}setTag(t,r){this.getScope().setTag(t,r),this.getIsolationScope().setTag(t,r)}setExtra(t,r){this.getScope().setExtra(t,r),this.getIsolationScope().setExtra(t,r)}setContext(t,r){this.getScope().setContext(t,r),this.getIsolationScope().setContext(t,r)}configureScope(t){let{scope:r,client:n}=this.getStackTop();n&&t(r)}run(t){let r=$a(this);try{t(this)}finally{$a(r)}}getIntegration(t){let r=this.getClient();if(!r)return null;try{return r.getIntegration(t)}catch(n){return O&&E.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,r){let n=this._callExtensionMethod("startTransaction",t,r);return O&&!n&&(this.getClient()?E.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):E.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){let r=this.getStackTop().scope,n=r.getSession();n&&ll(n),this._sendSessionUpdate(),r.setSession()}startSession(t){let{scope:r,client:n}=this.getStackTop(),{release:o,environment:s=or}=n&&n.getOptions()||{},{userAgent:i}=D.navigator||{},a=ul(d(d({release:o,environment:s,user:r.getUser()},i&&{userAgent:i}),t)),c=r.getSession&&r.getSession();return c&&c.status==="ok"&&sr(c,{status:"exited"}),this.endSession(),r.setSession(a),a}shouldSendDefaultPii(){let t=this.getClient(),r=t&&t.getOptions();return!!(r&&r.sendDefaultPii)}_sendSessionUpdate(){let{scope:t,client:r}=this.getStackTop(),n=t.getSession();n&&r&&r.captureSession&&r.captureSession(n)}_callExtensionMethod(t,...r){let o=yn().__SENTRY__;if(o&&o.extensions&&typeof o.extensions[t]=="function")return o.extensions[t].apply(this,r);O&&E.warn(`Extension method ${t} couldn't be found, doing nothing.`)}};function yn(){return D.__SENTRY__=D.__SENTRY__||{extensions:{},hub:void 0},D}function $a(e){let t=yn(),r=_s(t);return Km(t,e),r}function V(){let e=yn();if(e.__SENTRY__&&e.__SENTRY__.acs){let t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return y$(e)}function _t(){return V().getIsolationScope()}function y$(e=yn()){return(!_$(e)||_s(e).isOlderThan(oT))&&Km(e,new go),_s(e)}function mo(e,t={}){let r=yn();return r.__SENTRY__&&r.__SENTRY__.acs?r.__SENTRY__.acs.runWithAsyncContext(e,t):e()}function _$(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function _s(e){return da("hub",()=>new go,e)}function Km(e,t){if(!e)return!1;let r=e.__SENTRY__=e.__SENTRY__||{};return r.hub=t,!0}function Ve(e){return(e||V()).getScope().getTransaction()}var Ym=wa;var sT=!1;function iT(){sT||(sT=!0,Ea(Jm),ba(Jm))}function Jm(){let e=Ve();if(e){let t="internal_error";O&&E.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}Jm.tag="sentry_tracingErrorCallback";var Xm;(function(e){let t="ok";e.Ok=t;let r="deadline_exceeded";e.DeadlineExceeded=r;let n="unauthenticated";e.Unauthenticated=n;let o="permission_denied";e.PermissionDenied=o;let s="not_found";e.NotFound=s;let i="resource_exhausted";e.ResourceExhausted=i;let a="invalid_argument";e.InvalidArgument=a;let c="unimplemented";e.Unimplemented=c;let u="unavailable";e.Unavailable=u;let l="internal_error";e.InternalError=l;let f="unknown_error";e.UnknownError=f;let p="cancelled";e.Cancelled=p;let m="already_exists";e.AlreadyExists=m;let h="failed_precondition";e.FailedPrecondition=h;let _="aborted";e.Aborted=_;let y="out_of_range";e.OutOfRange=y;let g="data_loss";e.DataLoss=g})(Xm||(Xm={}));function Da(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}var Zm=Da;function qr(e,t){e.setTag("http.status_code",String(t)),e.setData("http.response.status_code",t);let r=Da(t);r!=="unknown_error"&&e.setStatus(r)}function dl(e,t,r=()=>{}){let n;try{n=e()}catch(o){throw t(o),r(),o}return S$(n,t,r)}function S$(e,t,r){return kt(e)?e.then(n=>(r(),n),n=>{throw t(n),r(),n}):(r(),e)}function Mt(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let t=M(),r=e||t&&t.getOptions();return!!r&&(r.enableTracing||"tracesSampleRate"in r||"tracesSampler"in r)}function Qm(e,t,r=()=>{},n=()=>{}){let o=V(),s=ge(),i=s.getSpan(),a=ml(e),c=pl(o,{parentSpan:i,spanContext:a,forceTransaction:!1,scope:s});return s.setSpan(c),dl(()=>t(c),u=>{c&&c.setStatus("internal_error"),r(u,c)},()=>{c&&c.end(),s.setSpan(i),n()})}function eh(e,t){let r=ml(e);return mo(()=>Hr(e.scope,n=>{let o=V(),s=n.getSpan(),a=e.onlyIfParent&&!s?void 0:pl(o,{parentSpan:s,spanContext:r,forceTransaction:e.forceTransaction,scope:n});return dl(()=>t(a),()=>{if(a){let{status:c}=H(a);(!c||c==="ok")&&a.setStatus("internal_error")}},()=>a&&a.end())}))}function th(e,t){let r=ml(e);return mo(()=>Hr(e.scope,n=>{let o=V(),s=n.getSpan(),a=e.onlyIfParent&&!s?void 0:pl(o,{parentSpan:s,spanContext:r,forceTransaction:e.forceTransaction,scope:n});function c(){a&&a.end()}return dl(()=>t(a,c),()=>{if(a&&a.isRecording()){let{status:u}=H(a);(!u||u==="ok")&&a.setStatus("internal_error")}})}))}function yo(e){if(!Mt())return;let t=ml(e),r=V(),n=e.scope?e.scope.getSpan():Gr();if(e.onlyIfParent&&!n)return;let i=(e.scope||ge()).clone();return pl(r,{parentSpan:n,spanContext:t,forceTransaction:e.forceTransaction,scope:i})}function Gr(){return ge().getSpan()}var rh=({sentryTrace:e,baggage:t},r)=>{let n=ge(),{traceparentData:o,dynamicSamplingContext:s,propagationContext:i}=_m(e,t);n.setPropagationContext(i),O&&o&&E.log(`[Tracing] Continuing trace ${o.traceId}.`);let a=b(d({},o),{metadata:he({dynamicSamplingContext:s})});return r?mo(()=>r(a)):a};function pl(e,{parentSpan:t,spanContext:r,forceTransaction:n,scope:o}){if(!Mt())return;let s=_t(),i;if(t&&!n)i=t.startChild(r);else if(t){let a=Dt(t),{traceId:c,spanId:u}=t.spanContext(),l=ms(t);i=e.startTransaction(b(d({traceId:c,parentSpanId:u,parentSampled:l},r),{metadata:d({dynamicSamplingContext:a},r.metadata)}))}else{let{traceId:a,dsc:c,parentSpanId:u,sampled:l}=d(d({},s.getPropagationContext()),o.getPropagationContext());i=e.startTransaction(b(d({traceId:a,parentSpanId:u,parentSampled:l},r),{metadata:d({dynamicSamplingContext:c},r.metadata)}))}return o.setSpan(i),E$(i,o,s),i}function ml(e){if(e.startTime){let t=d({},e);return t.startTimestamp=mn(e.startTime),delete t.startTime,t}return e}var aT="_sentryScope",cT="_sentryIsolationScope";function E$(e,t,r){e&&(Nt(e,cT,r),Nt(e,aT,t))}function uT(e){return{scope:e[aT],isolationScope:e[cT]}}var Ma;function lT(e){return Ma?Ma.get(e):void 0}function hl(e){let t=lT(e);if(!t)return;let r={};for(let[,[n,o]]of t)r[n]||(r[n]=[]),r[n].push(he(o));return r}function fT(e,t,r,n,o,s){let i=Gr();if(i){let a=lT(i)||new Map,c=`${e}:${t}@${n}`,u=a.get(s);if(u){let[,l]=u;a.set(s,[c,{min:Math.min(l.min,r),max:Math.max(l.max,r),count:l.count+=1,sum:l.sum+=r,tags:l.tags}])}else a.set(s,[c,{min:r,max:r,count:1,sum:r,tags:o}]);Ma||(Ma=new WeakMap),Ma.set(i,a)}}var Ke="sentry.source",ar="sentry.sample_rate",_n="sentry.op",Lt="sentry.origin",nh="profile_id";var Ss=class{constructor(t=1e3){this._maxlen=t,this.spans=[]}add(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)}},_o=class e{constructor(t={}){this._traceId=t.traceId||z(),this._spanId=t.spanId||z().substring(16),this._startTime=t.startTimestamp||ct(),this.tags=t.tags?d({},t.tags):{},this.data=t.data?d({},t.data):{},this.instrumenter=t.instrumenter||"sentry",this._attributes={},this.setAttributes(d({[Lt]:t.origin||"manual",[_n]:t.op},t.attributes)),this._name=t.name||t.description,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.status&&(this._status=t.status),t.endTimestamp&&(this._endTime=t.endTimestamp),t.exclusiveTime!==void 0&&(this._exclusiveTime=t.exclusiveTime),this._measurements=t.measurements?d({},t.measurements):{}}get name(){return this._name||""}set name(t){this.updateName(t)}get description(){return this._name}set description(t){this._name=t}get traceId(){return this._traceId}set traceId(t){this._traceId=t}get spanId(){return this._spanId}set spanId(t){this._spanId=t}set parentSpanId(t){this._parentSpanId=t}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(t){this._sampled=t}get attributes(){return this._attributes}set attributes(t){this._attributes=t}get startTimestamp(){return this._startTime}set startTimestamp(t){this._startTime=t}get endTimestamp(){return this._endTime}set endTimestamp(t){this._endTime=t}get status(){return this._status}set status(t){this._status=t}get op(){return this._attributes[_n]}set op(t){this.setAttribute(_n,t)}get origin(){return this._attributes[Lt]}set origin(t){this.setAttribute(Lt,t)}spanContext(){let{_spanId:t,_traceId:r,_sampled:n}=this;return{spanId:t,traceId:r,traceFlags:n?Rm:Zv}}startChild(t){let r=new e(b(d({},t),{parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId}));r.spanRecorder=this.spanRecorder,r.spanRecorder&&r.spanRecorder.add(r);let n=ho(this);if(r.transaction=n,O&&n){let o=t&&t.op||"< unknown op >",s=H(r).description||"< unknown name >",i=n.spanContext().spanId,a=`[Tracing] Starting '${o}' span on transaction '${s}' (${i}).`;E.log(a),this._logMessage=a}return r}setTag(t,r){return this.tags=b(d({},this.tags),{[t]:r}),this}setData(t,r){return this.data=b(d({},this.data),{[t]:r}),this}setAttribute(t,r){r===void 0?delete this._attributes[t]:this._attributes[t]=r}setAttributes(t){Object.keys(t).forEach(r=>this.setAttribute(r,t[r]))}setStatus(t){return this._status=t,this}setHttpStatus(t){return qr(this,t),this}setName(t){this.updateName(t)}updateName(t){return this._name=t,this}isSuccess(){return this._status==="ok"}finish(t){return this.end(t)}end(t){if(this._endTime)return;let r=ho(this);if(O&&r&&r.spanContext().spanId!==this._spanId){let n=this._logMessage;n&&E.log(n.replace("Starting","Finishing"))}this._endTime=mn(t)}toTraceparent(){return Ur(this)}toContext(){return he({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(t){return this.data=t.data||{},this._name=t.name||t.description,this._endTime=t.endTimestamp,this.op=t.op,this._parentSpanId=t.parentSpanId,this._sampled=t.sampled,this._spanId=t.spanId||this._spanId,this._startTime=t.startTimestamp||this._startTime,this._status=t.status,this.tags=t.tags||{},this._traceId=t.traceId||this._traceId,this}getTraceContext(){return po(this)}getSpanJSON(){return he({data:this._getData(),description:this._name,op:this._attributes[_n],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Lt],_metrics_summary:hl(this),profile_id:this._attributes[nh],exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){let{data:t,_attributes:r}=this,n=Object.keys(t).length>0,o=Object.keys(r).length>0;if(!(!n&&!o))return n&&o?d(d({},t),r):n?t:r}};var Es=class extends _o{constructor(t,r){super(t),this._contexts={},this._hub=r||V(),this._name=t.name||"",this._metadata=d({},t.metadata),this._trimEnd=t.trimEnd,this.transaction=this;let n=this._metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext=d({},n))}get name(){return this._name}set name(t){this.setName(t)}get metadata(){return d(d(d({source:"custom",spanMetadata:{}},this._metadata),this._attributes[Ke]&&{source:this._attributes[Ke]}),this._attributes[ar]&&{sampleRate:this._attributes[ar]})}set metadata(t){this._metadata=t}setName(t,r="custom"){this._name=t,this.setAttribute(Ke,r)}updateName(t){return this._name=t,this}initSpanRecorder(t=1e3){this.spanRecorder||(this.spanRecorder=new Ss(t)),this.spanRecorder.add(this)}setContext(t,r){r===null?delete this._contexts[t]:this._contexts[t]=r}setMeasurement(t,r,n=""){this._measurements[t]={value:r,unit:n}}setMetadata(t){this._metadata=d(d({},this._metadata),t)}end(t){let r=mn(t),n=this._finishTransaction(r);if(n)return this._hub.captureEvent(n)}toContext(){let t=super.toContext();return he(b(d({},t),{name:this._name,trimEnd:this._trimEnd}))}updateWithContext(t){return super.updateWithContext(t),this._name=t.name||"",this._trimEnd=t.trimEnd,this}getDynamicSamplingContext(){return Dt(this)}setHub(t){this._hub=t}getProfileId(){if(this._contexts!==void 0&&this._contexts.profile!==void 0)return this._contexts.profile.profile_id}_finishTransaction(t){if(this._endTime!==void 0)return;this._name||(O&&E.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(t);let r=this._hub.getClient();if(r&&r.emit&&r.emit("finishTransaction",this),this._sampled!==!0){O&&E.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),r&&r.recordDroppedEvent("sample_rate","transaction");return}let n=this.spanRecorder?this.spanRecorder.spans.filter(l=>l!==this&&H(l).timestamp):[];if(this._trimEnd&&n.length>0){let l=n.map(f=>H(f).timestamp).filter(Boolean);this._endTime=l.reduce((f,p)=>f>p?f:p)}let{scope:o,isolationScope:s}=uT(this),{metadata:i}=this,{source:a}=i,c=d({contexts:b(d({},this._contexts),{trace:po(this)}),spans:n,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:d(b(d({},i),{capturedSpanScope:o,capturedSpanIsolationScope:s}),he({dynamicSamplingContext:Dt(this)})),_metrics_summary:hl(this)},a&&{transaction_info:{source:a}});return Object.keys(this._measurements).length>0&&(O&&E.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),c.measurements=this._measurements),O&&E.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),c}};var Sn={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},b$="finishReason",bs=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"],oh=class extends Ss{constructor(t,r,n,o){super(o),this._pushActivity=t,this._popActivity=r,this.transactionSpanId=n}add(t){if(t.spanContext().spanId!==this.transactionSpanId){let r=t.end;t.end=(...n)=>(this._popActivity(t.spanContext().spanId),r.apply(t,n)),H(t).timestamp===void 0&&this._pushActivity(t.spanContext().spanId)}super.add(t)}},La=class extends Es{constructor(t,r,n=Sn.idleTimeout,o=Sn.finalTimeout,s=Sn.heartbeatInterval,i=!1,a=!1){super(t,r),this._idleHub=r,this._idleTimeout=n,this._finalTimeout=o,this._heartbeatInterval=s,this._onScope=i,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=bs[4],this._autoFinishAllowed=!a,i&&(O&&E.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),r.getScope().setSpan(this)),a||this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=bs[3],this.end())},this._finalTimeout)}end(t){let r=mn(t);if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setAttribute(b$,this._finishReason),this.spanRecorder){O&&E.log("[Tracing] finishing IdleTransaction",new Date(r*1e3).toISOString(),this.op);for(let n of this._beforeFinishCallbacks)n(this,r);this.spanRecorder.spans=this.spanRecorder.spans.filter(n=>{if(n.spanContext().spanId===this.spanContext().spanId)return!0;H(n).timestamp||(n.setStatus("cancelled"),n.end(r),O&&E.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(n,void 0,2)));let{start_timestamp:o,timestamp:s}=H(n),i=o&&o<r,a=(this._finalTimeout+this._idleTimeout)/1e3,c=s&&o&&s-o<a;if(O){let u=JSON.stringify(n,void 0,2);i?c||E.log("[Tracing] discarding Span since it finished after Transaction final timeout",u):E.log("[Tracing] discarding Span since it happened after Transaction was finished",u)}return i&&c}),O&&E.log("[Tracing] flushing IdleTransaction")}else O&&E.log("[Tracing] No active IdleTransaction");if(this._onScope){let n=this._idleHub.getScope();n.getTransaction()===this&&n.setSpan(void 0)}return super.end(t)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(t){if(!this.spanRecorder){let r=o=>{this._finished||this._pushActivity(o)},n=o=>{this._finished||this._popActivity(o)};this.spanRecorder=new oh(r,n,this.spanContext().spanId,t),O&&E.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(t,{restartOnChildSpanChange:r}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=r===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=bs[5],this.end(t)))}setFinishReason(t){this._finishReason=t}sendAutoFinishSignal(){this._autoFinishAllowed||(O&&E.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(t){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=bs[1],this.end(t))},this._idleTimeout)}_pushActivity(t){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),O&&E.log(`[Tracing] pushActivity: ${t}`),this.activities[t]=!0,O&&E.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(t){if(this.activities[t]&&(O&&E.log(`[Tracing] popActivity ${t}`),delete this.activities[t],O&&E.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){let r=ct();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=bs[5],this.end(r)):this._restartIdleTimeout(r+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;let t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?this._autoFinishAllowed&&(O&&E.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=bs[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){O&&E.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}};function sh(e,t,r){if(!Mt(t))return e.sampled=!1,e;if(e.sampled!==void 0)return e.setAttribute(ar,Number(e.sampled)),e;let n;return typeof t.tracesSampler=="function"?(n=t.tracesSampler(r),e.setAttribute(ar,Number(n))):r.parentSampled!==void 0?n=r.parentSampled:typeof t.tracesSampleRate!="undefined"?(n=t.tracesSampleRate,e.setAttribute(ar,Number(n))):(n=1,e.setAttribute(ar,n)),gl(n)?n?(e.sampled=Math.random()<n,e.sampled?(O&&E.log(`[Tracing] starting ${e.op} transaction - ${H(e).description}`),e):(O&&E.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),e)):(O&&E.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),e.sampled=!1,e):(O&&E.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function gl(e){return ua(e)||!(typeof e=="number"||typeof e=="boolean")?(O&&E.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e<0||e>1?(O&&E.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function v$(){let t=this.getScope().getSpan();return t?{"sentry-trace":Ur(t)}:{}}function T$(e,t){let r=this.getClient(),n=r&&r.getOptions()||{},o=n.instrumenter||"sentry",s=e.instrumenter||"sentry";o!==s&&(O&&E.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${o}\` instrumenter.
The transaction will not be sampled. Please use the ${o} instrumentation to start transactions.`),e.sampled=!1);let i=new Es(e,this);return i=sh(i,n,d({name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:d(d({},e.data),e.attributes)},t)),i.isRecording()&&i.initSpanRecorder(n._experiments&&n._experiments.maxSpans),r&&r.emit&&r.emit("startTransaction",i),i}function So(e,t,r,n,o,s,i,a=!1){let c=e.getClient(),u=c&&c.getOptions()||{},l=new La(t,e,r,n,i,o,a);return l=sh(l,u,d({name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:d(d({},t.data),t.attributes)},s)),l.isRecording()&&l.initSpanRecorder(u._experiments&&u._experiments.maxSpans),c&&c.emit&&c.emit("startTransaction",l),l}function Eo(){let e=yn();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=T$),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=v$),iT())}function Fa(e,t,r){let n=Ve();n&&n.setMeasurement(e,t,r)}function I$(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function dT(e,t,r,n){let o=al(r),s=d(d({sent_at:new Date().toISOString()},o&&{sdk:o}),!!n&&t&&{dsn:at(t)}),i="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return et(s,[i])}function pT(e,t,r,n){let o=al(r),s=e.type&&e.type!=="replay_event"?e.type:"event";I$(e,r&&r.sdk);let i=Im(e,o,n,t);return delete e.sdkProcessingMetadata,et(i,[[{type:s},e]])}var x$="7";function mT(e){let t=e.protocol?`${e.protocol}:`:"",r=e.port?`:${e.port}`:"";return`${t}//${e.host}${r}${e.path?`/${e.path}`:""}/api/`}function w$(e){return`${mT(e)}${e.projectId}/envelope/`}function C$(e,t){return nm(d({sentry_key:e.publicKey,sentry_version:x$},t&&{sentry_client:`${t.name}/${t.version}`}))}function ja(e,t={}){let r=typeof t=="string"?t:t.tunnel,n=typeof t=="string"||!t._metadata?void 0:t._metadata.sdk;return r||`${w$(e)}?${C$(e,n)}`}function ih(e,t){let r=ga(e);if(!r)return"";let n=`${mT(r)}embed/error-page/`,o=`dsn=${at(r)}`;for(let s in t)if(s!=="dsn"&&s!=="onClose")if(s==="user"){let i=t.user;if(!i)continue;i.name&&(o+=`&name=${encodeURIComponent(i.name)}`),i.email&&(o+=`&email=${encodeURIComponent(i.email)}`)}else o+=`&${encodeURIComponent(s)}=${encodeURIComponent(t[s])}`;return`${n}?${o}`}var hT=[];function O$(e){let t={};return e.forEach(r=>{let{name:n}=r,o=t[n];o&&!o.isDefaultInstance&&r.isDefaultInstance||(t[n]=r)}),Object.keys(t).map(r=>t[r])}function ah(e){let t=e.defaultIntegrations||[],r=e.integrations;t.forEach(i=>{i.isDefaultInstance=!0});let n;Array.isArray(r)?n=[...t,...r]:typeof r=="function"?n=ya(r(t)):n=t;let o=O$(n),s=R$(o,i=>i.name==="Debug");if(s!==-1){let[i]=o.splice(s,1);o.push(i)}return o}function gT(e,t){let r={};return t.forEach(n=>{n&&uh(e,n,r)}),r}function ch(e,t){for(let r of t)r&&r.afterAllSetup&&r.afterAllSetup(e)}function uh(e,t,r){if(r[t.name]){O&&E.log(`Integration skipped because it was already installed: ${t.name}`);return}if(r[t.name]=t,hT.indexOf(t.name)===-1&&(t.setupOnce(ka,V),hT.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),e.on&&typeof t.preprocessEvent=="function"){let n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(o,s)=>n(o,s,e))}if(e.addEventProcessor&&typeof t.processEvent=="function"){let n=t.processEvent.bind(t),o=Object.assign((s,i)=>n(s,i,e),{id:t.name});e.addEventProcessor(o)}O&&E.log(`Integration installed: ${t.name}`)}function lh(e){let t=M();if(!t||!t.addIntegration){O&&E.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}function R$(e,t){for(let r=0;r<e.length;r++)if(t(e[r])===!0)return r;return-1}function Te(e,t){return Object.assign(function(...n){return t(...n)},{id:e})}function yT(e,t,r,n){let o=Object.entries(he(n)).sort((s,i)=>s[0].localeCompare(i[0]));return`${e}${t}${r}${o}`}function _T(e){let t=0;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);t=(t<<5)-t+n,t&=t}return t>>>0}function ST(e){let t="";for(let r of e){let n=Object.entries(r.tags),o=n.length>0?`|#${n.map(([s,i])=>`${s}:${i}`).join(",")}`:"";t+=`${r.name}@${r.unit}:${r.metric}|${r.metricType}${o}|T${r.timestamp}
`}return t}function ET(e){return e.replace(/[^\w]+/gi,"_")}function bT(e){return e.replace(/[^\w\-.]+/gi,"_")}function k$(e){return e.replace(/[^\w\-./]+/gi,"")}var A$=[[`
`,"\\n"],["\r","\\r"],["	","\\t"],["\\","\\\\"],["|","\\u{7c}"],[",","\\u{2c}"]];function N$(e){for(let[t,r]of A$)if(e===t)return r;return e}function P$(e){return[...e].reduce((t,r)=>t+N$(r),"")}function vT(e){let t={};for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)){let n=k$(r);t[n]=P$(String(e[r]))}return t}function TT(e,t,r,n){let o={sent_at:new Date().toISOString()};r&&r.sdk&&(o.sdk={name:r.sdk.name,version:r.sdk.version}),n&&t&&(o.dsn=at(t));let s=$$(e);return et(o,[s])}function $$(e){let t=ST(e);return[{type:"statsd",length:t.length},t]}var IT="Not capturing exception because it's already been captured.",Ba=class{constructor(t){if(this._options=t,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=ga(t.dsn):O&&E.warn("No DSN provided, client will not send events."),this._dsn){let r=ja(this._dsn,t);this._transport=t.transport(b(d({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this)},t.transportOptions),{url:r}))}}captureException(t,r,n){if(Xu(t)){O&&E.log(IT);return}let o=r&&r.event_id;return this._process(this.eventFromException(t,r).then(s=>this._captureEvent(s,r,n)).then(s=>{o=s})),o}captureMessage(t,r,n,o){let s=n&&n.event_id,i=cs(t)?t:String(t),a=so(t)?this.eventFromMessage(i,r,n):this.eventFromException(t,n);return this._process(a.then(c=>this._captureEvent(c,n,o)).then(c=>{s=c})),s}captureEvent(t,r,n){if(r&&r.originalException&&Xu(r.originalException)){O&&E.log(IT);return}let o=r&&r.event_id,i=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,r,i||n).then(a=>{o=a})),o}captureSession(t){typeof t.release!="string"?O&&E.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),sr(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){let r=this._transport;return r?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(t).then(n=>r.flush(t).then(o=>n&&o))):rr(!0)}close(t){return this.flush(t).then(r=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}setupIntegrations(t){(t&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(t){return this.getIntegrationByName(t)}getIntegrationByName(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch(r){return O&&E.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){let r=this._integrations[t.name];uh(this,t,this._integrations),r||ch(this,[t])}sendEvent(t,r={}){this.emit("beforeSendEvent",t,r);let n=pT(t,this._dsn,this._options._metadata,this._options.tunnel);for(let s of r.attachments||[])n=Em(n,Tm(s,this._options.transportOptions&&this._options.transportOptions.textEncoder));let o=this._sendEnvelope(n);o&&o.then(s=>this.emit("afterSendEvent",t,s),null)}sendSession(t){let r=dT(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(r)}recordDroppedEvent(t,r,n){if(this._options.sendClientReports){let o=typeof n=="number"?n:1,s=`${t}:${r}`;O&&E.log(`Recording outcome: "${s}"${o>1?` (${o} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+o}}captureAggregateMetrics(t){O&&E.log(`Flushing aggregated metrics, number of metrics: ${t.length}`);let r=TT(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(r)}on(t,r){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(r)}emit(t,...r){this._hooks[t]&&this._hooks[t].forEach(n=>n(...r))}_setupIntegrations(){let{integrations:t}=this._options;this._integrations=gT(this,t),ch(this,t),this._integrationsInitialized=!0}_updateSessionFromEvent(t,r){let n=!1,o=!1,s=r.exception&&r.exception.values;if(s){o=!0;for(let c of s){let u=c.mechanism;if(u&&u.handled===!1){n=!0;break}}}let i=t.status==="ok";(i&&t.errors===0||i&&n)&&(sr(t,b(d({},n&&{status:"crashed"}),{errors:t.errors||Number(o||n)})),this.captureSession(t))}_isClientDoneProcessing(t){return new Ct(r=>{let n=0,o=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),r(!0)):(n+=o,t&&n>=t&&(clearInterval(s),r(!1)))},o)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,r,n,o=_t()){let s=this.getOptions(),i=Object.keys(this._integrations);return!r.integrations&&i.length>0&&(r.integrations=i),this.emit("preprocessEvent",t,r),eT(s,t,r,n,this,o).then(a=>{if(a===null)return a;let c=d(d({},o.getPropagationContext()),n?n.getPropagationContext():void 0);if(!(a.contexts&&a.contexts.trace)&&c){let{traceId:l,spanId:f,parentSpanId:p,dsc:m}=c;a.contexts=d({trace:{trace_id:l,span_id:f,parent_span_id:p}},a.contexts);let h=m||hn(l,this,n);a.sdkProcessingMetadata=d({dynamicSamplingContext:h},a.sdkProcessingMetadata)}return a})}_captureEvent(t,r={},n){return this._processEvent(t,r,n).then(o=>o.event_id,o=>{if(O){let s=o;s.logLevel==="log"?E.log(s.message):E.warn(s)}})}_processEvent(t,r,n){let o=this.getOptions(),{sampleRate:s}=o,i=wT(t),a=xT(t),c=t.type||"error",u=`before send for type \`${c}\``;if(a&&typeof s=="number"&&Math.random()>s)return this.recordDroppedEvent("sample_rate","error",t),uo(new Qe(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));let l=c==="replay_event"?"replay":c,p=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,r,n,p).then(m=>{if(m===null)throw this.recordDroppedEvent("event_processor",l,t),new Qe("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return m;let _=M$(o,m,r);return D$(_,u)}).then(m=>{if(m===null){if(this.recordDroppedEvent("before_send",l,t),i){let g=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",g)}throw new Qe(`${u} returned \`null\`, will not send event.`,"log")}let h=n&&n.getSession();if(!i&&h&&this._updateSessionFromEvent(h,m),i){let y=m.sdkProcessingMetadata&&m.sdkProcessingMetadata.spanCountBeforeProcessing||0,g=m.spans?m.spans.length:0,S=y-g;S>0&&this.recordDroppedEvent("before_send","span",S)}let _=m.transaction_info;if(i&&_&&m.transaction!==t.transaction){let y="custom";m.transaction_info=b(d({},_),{source:y})}return this.sendEvent(m,r),m}).then(null,m=>{throw m instanceof Qe?m:(this.captureException(m,{data:{__sentry__:!0},originalException:m}),new Qe(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${m}`))})}_process(t){this._numProcessing++,t.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)return this._transport.send(t).then(null,r=>{O&&E.error("Error while sending event:",r)});O&&E.error("Transport disabled")}_clearOutcomes(){let t=this._outcomes;return this._outcomes={},Object.keys(t).map(r=>{let[n,o]=r.split(":");return{reason:n,category:o,quantity:t[r]}})}};function D$(e,t){let r=`${t} must return \`null\` or a valid event.`;if(kt(e))return e.then(n=>{if(!Qt(n)&&n!==null)throw new Qe(r);return n},n=>{throw new Qe(`${t} rejected with ${n}`)});if(!Qt(e)&&e!==null)throw new Qe(r);return e}function M$(e,t,r){let{beforeSend:n,beforeSendTransaction:o}=e;if(xT(t)&&n)return n(t,r);if(wT(t)&&o){if(t.spans){let s=t.spans.length;t.sdkProcessingMetadata=b(d({},t.sdkProcessingMetadata),{spanCountBeforeProcessing:s})}return o(t,r)}return t}function xT(e){return e.type===void 0}function wT(e){return e.type==="transaction"}function fh(e){let t=M();!t||!t.addEventProcessor||t.addEventProcessor(e)}var yl="c",_l="g",vs="s",Sl="d";var dh=class{constructor(t){this._value=t}get weight(){return 1}add(t){this._value+=t}toString(){return`${this._value}`}},ph=class{constructor(t){this._last=t,this._min=t,this._max=t,this._sum=t,this._count=1}get weight(){return 5}add(t){this._last=t,t<this._min&&(this._min=t),t>this._max&&(this._max=t),this._sum+=t,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}},mh=class{constructor(t){this._value=[t]}get weight(){return this._value.length}add(t){this._value.push(t)}toString(){return this._value.join(":")}},hh=class{constructor(t){this.first=t,this._value=new Set([t])}get weight(){return this._value.size}add(t){this._value.add(t)}toString(){return Array.from(this._value).map(t=>typeof t=="string"?_T(t):t).join(":")}},CT={[yl]:dh,[_l]:ph,[Sl]:mh,[vs]:hh};function gh(e,t){t.debug===!0&&(O?E.enable():pn(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),ge().update(t.initialScope);let n=new e(t);El(n),L$(n)}function El(e){let r=V().getStackTop();r.client=e,r.scope.setClient(e)}function L$(e){e.init?e.init():e.setupIntegrations&&e.setupIntegrations()}var F$=30;function bo(e,t,r=hm(e.bufferSize||F$)){let n={},o=i=>r.drain(i);function s(i){let a=[];if(nr(i,(f,p)=>{let m=il(p);if(wm(n,m)){let h=OT(f,p);e.recordDroppedEvent("ratelimit_backoff",m,h)}else a.push(f)}),a.length===0)return rr();let c=et(i[0],a),u=f=>{nr(c,(p,m)=>{let h=OT(p,m);e.recordDroppedEvent(f,il(m),h)})},l=()=>t({body:Oa(c,e.textEncoder)}).then(f=>(f.statusCode!==void 0&&(f.statusCode<200||f.statusCode>=300)&&O&&E.warn(`Sentry responded with status code ${f.statusCode} to sent event.`),n=Cm(n,f),f),f=>{throw u("network_error"),f});return r.add(l).then(f=>f,f=>{if(f instanceof Qe)return O&&E.error("Skipped sending event because buffer is full."),u("queue_overflow"),rr();throw f})}return s.__sentry__baseTransport__=!0,{send:s,flush:o}}function OT(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}var j$=100,RT=5e3,B$=36e5;function yh(e,t){O&&E.info(`[Offline]: ${e}`,t)}function _h(e){return t=>{let r=e(t),n=t.createStore?t.createStore(t):void 0,o=RT,s;function i(l,f,p){return bm(l,["replay_event","replay_recording","client_report"])?!1:t.shouldStore?t.shouldStore(l,f,p):!0}function a(l){n&&(s&&clearTimeout(s),s=setTimeout(()=>P(this,null,function*(){s=void 0;let f=yield n.pop();f&&(yh("Attempting to send previously queued event"),u(f).catch(p=>{yh("Failed to retry sending",p)}))}),l),typeof s!="number"&&s.unref&&s.unref())}function c(){s||(a(o),o=Math.min(o*2,B$))}function u(l){return P(this,null,function*(){try{let f=yield r.send(l),p=j$;if(f){if(f.headers&&f.headers["retry-after"])p=cl(f.headers["retry-after"]);else if((f.statusCode||0)>=400)return f}return a(p),o=RT,f}catch(f){if(n&&(yield i(l,f,o)))return yield n.insert(l),c(),yh("Error sending. Event queued",f),{};throw f}})}return t.flushAtStartup&&c(),{send:u,flush:l=>r.flush(l)}}}function kT(e,t){let r;return nr(e,(n,o)=>(t.includes(o)&&(r=Array.isArray(n)?n[1]:void 0),!!r)),r}function U$(e,t){return r=>{let n=e(r);return b(d({},n),{send:o=>P(this,null,function*(){let s=kT(o,["event","transaction","profile","replay_event"]);return s&&(s.release=t),n.send(o)})})}}function H$(e,t){return et(t?b(d({},e[0]),{dsn:t}):e[0],e[1])}function Sh(e,t){return r=>{let n=e(r),o=new Map;function s(c,u){let l=u?`${c}:${u}`:c,f=o.get(l);if(!f){let p=Vu(c);if(!p)return;let m=ja(p,r.tunnel);f=u?U$(e,u)(b(d({},r),{url:m})):e(b(d({},r),{url:m})),o.set(l,f)}return[c,f]}function i(c){return P(this,null,function*(){function u(p){let m=p&&p.length?p:["event"];return kT(c,m)}let l=t({envelope:c,getEvent:u}).map(p=>typeof p=="string"?s(p,void 0):s(p.dsn,p.release)).filter(p=>!!p);return l.length===0&&l.push(["",n]),(yield Promise.all(l.map(([p,m])=>m.send(H$(c,p)))))[0]})}function a(c){return P(this,null,function*(){let u=[yield n.flush(c)];for(let[,l]of o)u.push(yield l.flush(c));return u.every(l=>l)})}return{send:i,flush:a}}}function Eh(e,t){let r={sent_at:new Date().toISOString()};t&&(r.dsn=at(t));let n=e.map(q$);return et(r,n)}function q$(e){return[{type:"span"},e]}function bh(e,...t){let r=new String(String.raw(e,...t));return r.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),r.__sentry_template_values__=t,r}function vh(e,t,r=[t],n="npm"){let o=e._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${t}`,packages:r.map(s=>({name:`${n}:@sentry/${s}`,version:gn})),version:gn}),e._metadata=o}var NT=new Map,AT=new Set;function G$(e){if(D._sentryModuleMetadata)for(let t of Object.keys(D._sentryModuleMetadata)){let r=D._sentryModuleMetadata[t];if(AT.has(t))continue;AT.add(t);let n=e(t);for(let o of n.reverse())if(o.filename){NT.set(o.filename,r);break}}}function z$(e,t){return G$(e),NT.get(t)}function PT(e,t){try{t.exception.values.forEach(r=>{if(r.stacktrace)for(let n of r.stacktrace.frames||[]){if(!n.filename)continue;let o=z$(e,n.filename);o&&(n.module_metadata=o)}})}catch(r){}}function $T(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(let r of t.stacktrace.frames||[])delete r.module_metadata})}catch(t){}}var DT="ModuleMetadata",V$=()=>({name:DT,setupOnce(){},setup(e){typeof e.on=="function"&&e.on("beforeEnvelope",t=>{nr(t,(r,n)=>{if(n==="event"){let o=Array.isArray(r)?r[1]:void 0;o&&($T(o),r[1]=o)}})})},processEvent(e,t,r){let n=r.getOptions().stackParser;return PT(n,e),e}}),bl=V$,Th=Te(DT,bl);var W$=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],K$=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],MT="InboundFilters",Y$=(e={})=>({name:MT,setupOnce(){},processEvent(t,r,n){let o=n.getOptions(),s=J$(e,o);return X$(t,s)?null:t}}),Ts=Y$,Ua=Te(MT,Ts);function J$(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:W$],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:K$],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function X$(e,t){return t.ignoreInternal&&nD(e)?(O&&E.warn(`Event dropped due to being internal Sentry Error.
Event: ${er(e)}`),!0):Z$(e,t.ignoreErrors)?(O&&E.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${er(e)}`),!0):Q$(e,t.ignoreTransactions)?(O&&E.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${er(e)}`),!0):eD(e,t.denyUrls)?(O&&E.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${er(e)}.
Url: ${vl(e)}`),!0):tD(e,t.allowUrls)?!1:(O&&E.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${er(e)}.
Url: ${vl(e)}`),!0)}function Z$(e,t){return e.type||!t||!t.length?!1:rD(e).some(r=>dn(r,t))}function Q$(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;let r=e.transaction;return r?dn(r,t):!1}function eD(e,t){if(!t||!t.length)return!1;let r=vl(e);return r?dn(r,t):!1}function tD(e,t){if(!t||!t.length)return!0;let r=vl(e);return r?dn(r,t):!0}function rD(e){let t=[];e.message&&t.push(e.message);let r;try{r=e.exception.values[e.exception.values.length-1]}catch(n){}return r&&r.value&&(t.push(r.value),r.type&&t.push(`${r.type}: ${r.value}`)),O&&t.length===0&&E.error(`Could not extract message for event ${er(e)}`),t}function nD(e){try{return e.exception.values[0].type==="SentryError"}catch(t){}return!1}function oD(e=[]){for(let t=e.length-1;t>=0;t--){let r=e[t];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}function vl(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(r){}return t?oD(t):null}catch(t){return O&&E.error(`Cannot extract url for event ${er(e)}`),null}}var LT,jT="FunctionToString",FT=new WeakMap,sD=()=>({name:jT,setupOnce(){LT=Function.prototype.toString;try{Function.prototype.toString=function(...e){let t=co(this),r=FT.has(M())&&t!==void 0?t:this;return LT.apply(r,e)}}catch(e){}},setup(e){FT.set(e,!0)}}),Is=sD,Ha=Te(jT,Is);var iD="cause",aD=5,BT="LinkedErrors",cD=(e={})=>{let t=e.limit||aD,r=e.key||iD;return{name:BT,setupOnce(){},preprocessEvent(n,o,s){let i=s.getOptions();fa(Om,i.stackParser,i.maxValueLength,r,t,n,o)}}},uD=cD,UT=Te(BT,uD);var Ih={};Kp(Ih,{FunctionToString:()=>Ha,InboundFilters:()=>Ua,LinkedErrors:()=>UT});var Tl=class{constructor(t){this._client=t,this._buckets=new Map,this._interval=setInterval(()=>this.flush(),5e3)}add(t,r,n,o="none",s={},i=ct()){let a=Math.floor(i),c=bT(r),u=vT(s),l=ET(o),f=yT(t,c,l,u),p=this._buckets.get(f),m=p&&t===vs?p.metric.weight:0;p?(p.metric.add(n),p.timestamp<a&&(p.timestamp=a)):(p={metric:new CT[t](n),timestamp:a,metricType:t,name:c,unit:l,tags:u},this._buckets.set(f,p));let h=typeof n=="string"?p.metric.weight-m:n;fT(t,c,h,l,s,f)}flush(){if(this._buckets.size!==0){if(this._client.captureAggregateMetrics){let t=Array.from(this._buckets).map(([,r])=>r);this._client.captureAggregateMetrics(t)}this._buckets.clear()}}close(){clearInterval(this._interval),this.flush()}};var HT="MetricsAggregator",fD=()=>({name:HT,setupOnce(){},setup(e){e.metricsAggregator=new Tl(e)}}),xh=fD,qT=Te(HT,xh);function Il(e,t,r,n={}){let o=M(),s=ge();if(o){if(!o.metricsAggregator){O&&E.warn("No metrics aggregator enabled. Please add the MetricsAggregator integration to use metrics APIs");return}let{unit:i,tags:a,timestamp:c}=n,{release:u,environment:l}=o.getOptions(),f=s.getTransaction(),p={};u&&(p.release=u),l&&(p.environment=l),f&&(p.transaction=H(f).description||""),O&&E.log(`Adding value of ${r} to ${e} metric ${t}`),o.metricsAggregator.add(e,t,r,i,d(d({},p),a),c)}}function dD(e,t=1,r){Il(yl,e,t,r)}function pD(e,t,r){Il(Sl,e,t,r)}function mD(e,t,r){Il(vs,e,t,r)}function hD(e,t,r){Il(_l,e,t,r)}var wh={increment:dD,distribution:pD,set:mD,gauge:hD,MetricsAggregator:qT,metricsAggregatorIntegration:xh};var GT=Ih;var G=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;var k=D;function xl(){k.document?k.document.addEventListener("visibilitychange",()=>{let e=Ve();if(k.document.hidden&&e){let t="cancelled",{op:r,status:n}=H(e);G&&E.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${r}`),n||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.end()}}):G&&E.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var vr=(e,t,r)=>{let n,o;return s=>{t.value>=0&&(s||r)&&(o=t.value-(n||0),(o||n===void 0)&&(n=t.value,t.delta=o,e(t)))}};var zT=()=>`v3-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`;var gD=()=>{let e=k.performance.timing,t=k.performance.navigation.type,r={entryType:"navigation",startTime:0,type:t==2?"back_forward":t===1?"reload":"navigate"};for(let n in e)n!=="navigationStart"&&n!=="toJSON"&&(r[n]=Math.max(e[n]-e.navigationStart,0));return r},En=()=>k.__WEB_VITALS_POLYFILL__?k.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||gD()):k.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];var xs=()=>{let e=En();return e&&e.activationStart||0};var Tr=(e,t)=>{let r=En(),n="navigate";return r&&(k.document&&k.document.prerendering||xs()>0?n="prerender":n=r.type.replace(/_/g,"-")),{name:e,value:typeof t=="undefined"?-1:t,rating:"good",delta:0,entries:[],id:zT(),navigationType:n}};var jt=(e,t,r)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let n=new PerformanceObserver(o=>{t(o.getEntries())});return n.observe(Object.assign({type:e,buffered:!0},r||{})),n}}catch(n){}};var Ir=(e,t)=>{let r=n=>{(n.type==="pagehide"||k.document.visibilityState==="hidden")&&(e(n),t&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))};k.document&&(addEventListener("visibilitychange",r,!0),addEventListener("pagehide",r,!0))};var VT=(e,t={})=>{let r=Tr("CLS",0),n,o=0,s=[],i=c=>{c.forEach(u=>{if(!u.hadRecentInput){let l=s[0],f=s[s.length-1];o&&s.length!==0&&u.startTime-f.startTime<1e3&&u.startTime-l.startTime<5e3?(o+=u.value,s.push(u)):(o=u.value,s=[u]),o>r.value&&(r.value=o,r.entries=s,n&&n())}})},a=jt("layout-shift",i);if(a){n=vr(e,r,t.reportAllChanges);let c=()=>{i(a.takeRecords()),n(!0)};return Ir(c),c}};var wl=-1,yD=()=>{k.document&&k.document.visibilityState&&(wl=k.document.visibilityState==="hidden"&&!k.document.prerendering?0:1/0)},_D=()=>{Ir(({timeStamp:e})=>{wl=e},!0)},ws=()=>(wl<0&&(yD(),_D()),{get firstHiddenTime(){return wl}});var WT=e=>{let t=ws(),r=Tr("FID"),n,o=a=>{a.startTime<t.firstHiddenTime&&(r.value=a.processingStart-a.startTime,r.entries.push(a),n(!0))},s=a=>{a.forEach(o)},i=jt("first-input",s);n=vr(e,r),i&&Ir(()=>{s(i.takeRecords()),i.disconnect()},!0)};var KT=0,Ch=1/0,Cl=0,SD=e=>{e.forEach(t=>{t.interactionId&&(Ch=Math.min(Ch,t.interactionId),Cl=Math.max(Cl,t.interactionId),KT=Cl?(Cl-Ch)/7+1:0)})},Oh,YT=()=>Oh?KT:performance.interactionCount||0,JT=()=>{"interactionCount"in performance||Oh||(Oh=jt("event",SD,{type:"event",buffered:!0,durationThreshold:0}))};var QT=()=>YT(),XT=10,zr=[],Rh={},ZT=e=>{let t=zr[zr.length-1],r=Rh[e.interactionId];if(r||zr.length<XT||e.duration>t.latency){if(r)r.entries.push(e),r.latency=Math.max(r.latency,e.duration);else{let n={id:e.interactionId,latency:e.duration,entries:[e]};Rh[n.id]=n,zr.push(n)}zr.sort((n,o)=>o.latency-n.latency),zr.splice(XT).forEach(n=>{delete Rh[n.id]})}},ED=()=>{let e=Math.min(zr.length-1,Math.floor(QT()/50));return zr[e]},e0=(e,t)=>{t=t||{},JT();let r=Tr("INP"),n,o=i=>{i.forEach(c=>{c.interactionId&&ZT(c),c.entryType==="first-input"&&!zr.some(l=>l.entries.some(f=>c.duration===f.duration&&c.startTime===f.startTime))&&ZT(c)});let a=ED();a&&a.latency!==r.value&&(r.value=a.latency,r.entries=a.entries,n())},s=jt("event",o,{durationThreshold:t.durationThreshold||40});n=vr(e,r,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),Ir(()=>{o(s.takeRecords()),r.value<0&&QT()>0&&(r.value=0,r.entries=[]),n(!0)}))};var t0={},r0=e=>{let t=ws(),r=Tr("LCP"),n,o=i=>{let a=i[i.length-1];if(a){let c=Math.max(a.startTime-xs(),0);c<t.firstHiddenTime&&(r.value=c,r.entries=[a],n())}},s=jt("largest-contentful-paint",o);if(s){n=vr(e,r);let i=()=>{t0[r.id]||(o(s.takeRecords()),s.disconnect(),t0[r.id]=!0,n(!0))};return["keydown","click"].forEach(a=>{k.document&&addEventListener(a,i,{once:!0,capture:!0})}),Ir(i,!0),i}};var kh=e=>{k.document&&(k.document.prerendering?addEventListener("prerenderingchange",()=>kh(e),!0):k.document.readyState!=="complete"?addEventListener("load",()=>kh(e),!0):setTimeout(e,0))},n0=(e,t)=>{t=t||{};let r=Tr("TTFB"),n=vr(e,r,t.reportAllChanges);kh(()=>{let o=En();if(o){if(r.value=Math.max(o.responseStart-xs(),0),r.value<0||r.value>performance.now())return;r.entries=[o],n(!0)}})};var qa={},Ol={},o0,s0,i0,a0,c0;function u0(e,t=!1){return Ga("cls",e,bD,o0,t)}function l0(e,t=!1){return Ga("lcp",e,TD,i0,t)}function f0(e){return Ga("ttfb",e,ID,a0)}function d0(e){return Ga("fid",e,vD,s0)}function p0(e){return Ga("inp",e,xD,c0)}function cr(e,t){return m0(e,t),Ol[e]||(wD(e),Ol[e]=!0),h0(e,t)}function Cs(e,t){let r=qa[e];if(!(!r||!r.length))for(let n of r)try{n(t)}catch(o){G&&E.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ht(n)}
Error:`,o)}}function bD(){return VT(e=>{Cs("cls",{metric:e}),o0=e},{reportAllChanges:!0})}function vD(){return WT(e=>{Cs("fid",{metric:e}),s0=e})}function TD(){return r0(e=>{Cs("lcp",{metric:e}),i0=e})}function ID(){return n0(e=>{Cs("ttfb",{metric:e}),a0=e})}function xD(){return e0(e=>{Cs("inp",{metric:e}),c0=e})}function Ga(e,t,r,n,o=!1){m0(e,t);let s;return Ol[e]||(s=r(),Ol[e]=!0),n&&t({metric:n}),h0(e,t,o?s:void 0)}function wD(e){let t={};e==="event"&&(t.durationThreshold=0),jt(e,r=>{Cs(e,{entries:r})},t)}function m0(e,t){qa[e]=qa[e]||[],qa[e].push(t)}function h0(e,t,r){return()=>{r&&r();let n=qa[e];if(!n)return;let o=n.indexOf(t);o!==-1&&n.splice(o,1)}}function Rl(e){return typeof e=="number"&&isFinite(e)}function vo(e,n){var o=n,{startTimestamp:t}=o,r=oo(o,["startTimestamp"]);return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild(d({startTimestamp:t},r))}var CD=2147483647;function Be(e){return e/1e3}function Nh(){return k&&k.addEventListener&&k.performance}var g0=0,$e={},xr,za;function Al(){let e=Nh();if(e&&Pe){e.mark&&k.performance.mark("sentry-tracing-init");let t=kD(),r=OD(),n=RD(),o=AD();return()=>{t(),r(),n(),o()}}return()=>{}}function Nl(){cr("longtask",({entries:e})=>{for(let t of e){let r=Ve();if(!r)return;let n=Be(Pe+t.startTime),o=Be(t.duration);r.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+o})}})}function Pl(){cr("event",({entries:e})=>{for(let t of e){let r=Ve();if(!r)return;if(t.name==="click"){let n=Be(Pe+t.startTime),o=Be(t.duration),s={description:Er(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+o},i=ma(t.target);i&&(s.attributes={"ui.component_name":i}),r.startChild(s)}}})}function $l(e,t){if(Nh()&&Pe){let n=ND(e,t);return()=>{n()}}return()=>{}}function OD(){return u0(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(G&&E.log("[Measurements] Adding CLS"),$e.cls={value:e.value,unit:""},za=t)},!0)}function RD(){return l0(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(G&&E.log("[Measurements] Adding LCP"),$e.lcp={value:e.value,unit:"millisecond"},xr=t)},!0)}function kD(){return d0(({metric:e})=>{let t=e.entries[e.entries.length-1];if(!t)return;let r=Be(Pe),n=Be(t.startTime);G&&E.log("[Measurements] Adding FID"),$e.fid={value:e.value,unit:"millisecond"},$e["mark.fid"]={value:r+n,unit:"second"}})}function AD(){return f0(({metric:e})=>{e.entries[e.entries.length-1]&&(G&&E.log("[Measurements] Adding TTFB"),$e.ttfb={value:e.value,unit:"millisecond"})})}var y0={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function ND(e,t){return p0(({metric:r})=>{if(r.value===void 0)return;let n=r.entries.find(T=>T.duration===r.value&&y0[T.name]!==void 0),o=M();if(!n||!o)return;let s=y0[n.name],i=o.getOptions(),a=Be(Pe+n.startTime),c=Be(r.value),u=n.interactionId!==void 0?e[n.interactionId]:void 0;if(u===void 0)return;let{routeName:l,parentContext:f,activeTransaction:p,user:m,replayId:h}=u,_=m!==void 0?m.email||m.id||m.ip_address:void 0,y=p!==void 0?p.getProfileId():void 0,g=new _o({startTimestamp:a,endTimestamp:a+c,op:`ui.interaction.${s}`,name:Er(n.target),attributes:d(d(d({release:i.release,environment:i.environment,transaction:l},_!==void 0&&_!==""?{user:_}:{}),y!==void 0?{profile_id:y}:{}),h!==void 0?{replay_id:h}:{}),exclusiveTime:r.value,measurements:{inp:{value:r.value,unit:"millisecond"}}}),S=BD(f,i,t);if(S&&Math.random()<S){let T=g?Eh([g],o.getDsn()):void 0,x=o&&o.getTransport();x&&T&&x.send(T).then(null,I=>{G&&E.error("Error while sending interaction:",I)});return}})}function Dl(e){let t=Nh();if(!t||!k.performance.getEntries||!Pe)return;G&&E.log("[Tracing] Adding & adjusting spans using Performance API");let r=Be(Pe),n=t.getEntries(),{op:o,start_timestamp:s}=H(e);if(n.slice(g0).forEach(i=>{let a=Be(i.startTime),c=Be(i.duration);if(!(e.op==="navigation"&&s&&r+a<s))switch(i.entryType){case"navigation":{$D(e,i,r);break}case"mark":case"paint":case"measure":{PD(e,i,a,c,r);let u=ws(),l=i.startTime<u.firstHiddenTime;i.name==="first-paint"&&l&&(G&&E.log("[Measurements] Adding FP"),$e.fp={value:i.startTime,unit:"millisecond"}),i.name==="first-contentful-paint"&&l&&(G&&E.log("[Measurements] Adding FCP"),$e.fcp={value:i.startTime,unit:"millisecond"});break}case"resource":{MD(e,i,i.name,a,c,r);break}}}),g0=Math.max(n.length-1,0),LD(e),o==="pageload"){jD($e),["fcp","fp","lcp"].forEach(a=>{if(!$e[a]||!s||r>=s)return;let c=$e[a].value,u=r+Be(c),l=Math.abs((u-s)*1e3),f=l-c;G&&E.log(`[Measurements] Normalized ${a} from ${c} to ${l} (${f})`),$e[a].value=l});let i=$e["mark.fid"];i&&$e.fid&&(vo(e,{description:"first input delay",endTimestamp:i.value+Be($e.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:i.value}),delete $e["mark.fid"]),"fcp"in $e||delete $e.cls,Object.keys($e).forEach(a=>{Fa(a,$e[a].value,$e[a].unit)}),FD(e)}xr=void 0,za=void 0,$e={}}function PD(e,t,r,n,o){let s=o+r,i=s+n;return vo(e,{description:t.name,endTimestamp:i,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:s}),s}function $D(e,t,r){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(n=>{kl(e,t,n,r)}),kl(e,t,"secureConnection",r,"TLS/SSL","connectEnd"),kl(e,t,"fetch",r,"cache","domainLookupStart"),kl(e,t,"domainLookup",r,"DNS"),DD(e,t,r)}function kl(e,t,r,n,o,s){let i=s?t[s]:t[`${r}End`],a=t[`${r}Start`];!a||!i||vo(e,{op:"browser",origin:"auto.browser.browser.metrics",description:o||r,startTimestamp:n+Be(a),endTimestamp:n+Be(i)})}function DD(e,t,r){t.responseEnd&&(vo(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:r+Be(t.requestStart),endTimestamp:r+Be(t.responseEnd)}),vo(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:r+Be(t.responseStart),endTimestamp:r+Be(t.responseEnd)}))}function MD(e,t,r,n,o,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;let i=Pt(r),a={};Ah(a,t,"transferSize","http.response_transfer_size"),Ah(a,t,"encodedBodySize","http.response_content_length"),Ah(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus),i.protocol&&(a["url.scheme"]=i.protocol.split(":").pop()),i.host&&(a["server.address"]=i.host),a["url.same_origin"]=r.includes(k.location.origin);let c=s+n,u=c+o;vo(e,{description:r.replace(k.location.origin,""),endTimestamp:u,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:c,data:a})}function LD(e){let t=k.navigator;if(!t)return;let r=t.connection;r&&(r.effectiveType&&e.setTag("effectiveConnectionType",r.effectiveType),r.type&&e.setTag("connectionType",r.type),Rl(r.rtt)&&($e["connection.rtt"]={value:r.rtt,unit:"millisecond"})),Rl(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`),Rl(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}function FD(e){xr&&(G&&E.log("[Measurements] Adding LCP Data"),xr.element&&e.setTag("lcp.element",Er(xr.element)),xr.id&&e.setTag("lcp.id",xr.id),xr.url&&e.setTag("lcp.url",xr.url.trim().slice(0,200)),e.setTag("lcp.size",xr.size)),za&&za.sources&&(G&&E.log("[Measurements] Adding CLS Data"),za.sources.forEach((t,r)=>e.setTag(`cls.source.${r+1}`,Er(t.node))))}function Ah(e,t,r,n){let o=t[r];o!=null&&o<CD&&(e[n]=o)}function jD(e){let t=En();if(!t)return;let{responseStart:r,requestStart:n}=t;n<=r&&(G&&E.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:r-n,unit:"millisecond"})}function BD(e,t,r){if(!Mt(t))return!1;let n;return e!==void 0&&typeof t.tracesSampler=="function"?n=t.tracesSampler({transactionContext:e,name:e.name,parentSampled:e.parentSampled,attributes:d(d({},e.data),e.attributes),location:k.location}):e!==void 0&&e.sampled!==void 0?n=e.sampled:typeof t.tracesSampleRate!="undefined"?n=t.tracesSampleRate:n=1,gl(n)?n===!0?r:n===!1?0:n*r:(G&&E.warn("[Tracing] Discarding interaction span because of invalid sample rate."),!1)}function _0(e,t,r,n,o="auto.http.browser"){if(!Mt()||!e.fetchData)return;let s=t(e.fetchData.url);if(e.endTimestamp&&s){let m=e.fetchData.__span;if(!m)return;let h=n[m];h&&(qD(h,e),delete n[m]);return}let i=ge(),a=M(),{method:c,url:u}=e.fetchData,l=HD(u),f=l?Pt(l).host:void 0,p=s?yo({name:`${c} ${u}`,onlyIfParent:!0,attributes:{url:u,type:"fetch","http.method":c,"http.url":l,"server.address":f,[Lt]:o},op:"http.client"}):void 0;if(p&&(e.fetchData.__span=p.spanContext().spanId,n[p.spanContext().spanId]=p),r(e.fetchData.url)&&a){let m=e.args[0];e.args[1]=e.args[1]||{};let h=e.args[1];h.headers=UD(m,a,i,h,p)}return p}function UD(e,t,r,n,o){let s=o||r.getSpan(),i=_t(),{traceId:a,spanId:c,sampled:u,dsc:l}=d(d({},i.getPropagationContext()),r.getPropagationContext()),f=s?Ur(s):lo(a,c,u),p=xa(l||(s?Dt(s):hn(a,t,r))),m=n.headers||(typeof Request!="undefined"&&wt(e,Request)?e.headers:void 0);if(m)if(typeof Headers!="undefined"&&wt(m,Headers)){let h=new Headers(m);return h.append("sentry-trace",f),p&&h.append(ps,p),h}else if(Array.isArray(m)){let h=[...m,["sentry-trace",f]];return p&&h.push([ps,p]),h}else{let h="baggage"in m?m.baggage:void 0,_=[];return Array.isArray(h)?_.push(...h):h&&_.push(h),p&&_.push(p),b(d({},m),{"sentry-trace":f,baggage:_.length>0?_.join(","):void 0})}else return{"sentry-trace":f,baggage:p}}function HD(e){try{return new URL(e).href}catch(t){return}}function qD(e,t){if(t.response){qr(e,t.response.status);let r=t.response&&t.response.headers&&t.response.headers.get("content-length");if(r){let n=parseInt(r);n>0&&e.setAttribute("http.response_content_length",n)}}else t.error&&e.setStatus("internal_error");e.end()}var Ph=["localhost",/^\/(?!\/)/],Vr={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:Ph,tracePropagationTargets:Ph};function To(e){let{traceFetch:t,traceXHR:r,tracePropagationTargets:n,tracingOrigins:o,shouldCreateSpanForRequest:s,enableHTTPTimings:i}=d({traceFetch:Vr.traceFetch,traceXHR:Vr.traceXHR},e),a=typeof s=="function"?s:l=>!0,c=l=>WD(l,n||o),u={};t&&Sa(l=>{let f=_0(l,a,c,u);if(f){let p=E0(l.fetchData.url),m=p?Pt(p).host:void 0;f.setAttributes({"http.url":p,"server.address":m})}i&&f&&S0(f)}),r&&Ta(l=>{let f=KD(l,a,c,u);i&&f&&S0(f)})}function GD(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function S0(e){let{url:t}=H(e).data||{};if(!t||typeof t!="string")return;let r=cr("resource",({entries:n})=>{n.forEach(o=>{GD(o)&&o.name.endsWith(t)&&(VD(o).forEach(i=>e.setAttribute(...i)),setTimeout(r))})})}function zD(e){let t="unknown",r="unknown",n="";for(let o of e){if(o==="/"){[t,r]=e.split("/");break}if(!isNaN(Number(o))){t=n==="h"?"http":n,r=e.split(n)[1];break}n+=o}return n===e&&(t=n),{name:t,version:r}}function wr(e=0){return((Pe||performance.timeOrigin)+e)/1e3}function VD(e){let{name:t,version:r}=zD(e.nextHopProtocol),n=[];return n.push(["network.protocol.version",r],["network.protocol.name",t]),Pe?[...n,["http.request.redirect_start",wr(e.redirectStart)],["http.request.fetch_start",wr(e.fetchStart)],["http.request.domain_lookup_start",wr(e.domainLookupStart)],["http.request.domain_lookup_end",wr(e.domainLookupEnd)],["http.request.connect_start",wr(e.connectStart)],["http.request.secure_connection_start",wr(e.secureConnectionStart)],["http.request.connection_end",wr(e.connectEnd)],["http.request.request_start",wr(e.requestStart)],["http.request.response_start",wr(e.responseStart)],["http.request.response_end",wr(e.responseEnd)]]:n}function WD(e,t){return dn(e,t||Ph)}function KD(e,t,r,n){let o=e.xhr,s=o&&o[jr];if(!Mt()||!o||o.__sentry_own_request__||!s)return;let i=t(s.url);if(e.endTimestamp&&i){let m=o.__sentry_xhr_span_id__;if(!m)return;let h=n[m];h&&s.status_code!==void 0&&(qr(h,s.status_code),h.end(),delete n[m]);return}let a=ge(),c=_t(),u=E0(s.url),l=u?Pt(u).host:void 0,f=i?yo({name:`${s.method} ${s.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":s.method,"http.url":u,url:s.url,"server.address":l,[Lt]:"auto.http.browser"},op:"http.client"}):void 0;f&&(o.__sentry_xhr_span_id__=f.spanContext().spanId,n[o.__sentry_xhr_span_id__]=f);let p=M();if(o.setRequestHeader&&r(s.url)&&p){let{traceId:m,spanId:h,sampled:_,dsc:y}=d(d({},c.getPropagationContext()),a.getPropagationContext()),g=f?Ur(f):lo(m,h,_),S=xa(y||(f?Dt(f):hn(m,p,a)));YD(o,g,S)}return f}function YD(e,t,r){try{e.setRequestHeader("sentry-trace",t),r&&e.setRequestHeader(ps,r)}catch(n){}}function E0(e){try{return new URL(e,k.location.origin).href}catch(t){return}}function b0(e,t=!0,r=!0){if(!k||!k.location){G&&E.warn("Could not initialize routing instrumentation due to invalid location");return}let n=k.location.href,o;t&&(o=e({name:k.location.pathname,startTimestamp:Pe?Pe/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),r&&Fr(({to:s,from:i})=>{if(i===void 0&&n&&n.indexOf(s)!==-1){n=void 0;return}i!==s&&(n=void 0,o&&(G&&E.log(`[Tracing] Finishing current transaction with op: ${o.op}`),o.end()),o=e({name:k.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))})}var I0="BrowserTracing",JD=d(b(d({},Sn),{markBackgroundTransactions:!0,routingInstrumentation:b0,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{}}),Vr),v0=10,Va=class{constructor(t){this.name=I0,this._hasSetTracePropagationTargets=!1,Eo(),G&&(this._hasSetTracePropagationTargets=!!(t&&(t.tracePropagationTargets||t.tracingOrigins))),this.options=d(d({},JD),t),this.options._experiments.enableLongTask!==void 0&&(this.options.enableLongTask=this.options._experiments.enableLongTask),t&&!t.tracePropagationTargets&&t.tracingOrigins&&(this.options.tracePropagationTargets=t.tracingOrigins),this._collectWebVitals=Al(),this._interactionIdToRouteNameMapping={},this.options.enableInp&&$l(this._interactionIdToRouteNameMapping,this.options.interactionsSampleRate),this.options.enableLongTask&&Nl(),this.options._experiments.enableInteractions&&Pl(),this._latestRoute={name:void 0,context:void 0}}setupOnce(t,r){this._getCurrentHub=r;let o=r().getClient(),s=o&&o.getOptions(),{routingInstrumentation:i,startTransactionOnLocationChange:a,startTransactionOnPageLoad:c,markBackgroundTransactions:u,traceFetch:l,traceXHR:f,shouldCreateSpanForRequest:p,enableHTTPTimings:m,_experiments:h}=this.options,_=s&&s.tracePropagationTargets,y=_||this.options.tracePropagationTargets;G&&this._hasSetTracePropagationTargets&&_&&E.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),i(g=>{let S=this._createRouteTransaction(g);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(S,g,r),S},c,a),u&&xl(),h.enableInteractions&&this._registerInteractionListener(),this.options.enableInp&&this._registerInpInteractionListener(),To({traceFetch:l,traceXHR:f,tracePropagationTargets:y,shouldCreateSpanForRequest:p,enableHTTPTimings:m})}_createRouteTransaction(t){if(!this._getCurrentHub){G&&E.warn(`[Tracing] Did not create ${t.op} transaction because _getCurrentHub is invalid.`);return}let r=this._getCurrentHub(),{beforeNavigate:n,idleTimeout:o,finalTimeout:s,heartbeatInterval:i}=this.options,a=t.op==="pageload",c;if(a){let m=a?T0("sentry-trace"):"",h=a?T0("baggage"):void 0,{traceId:_,dsc:y,parentSpanId:g,sampled:S}=Ca(m,h);c=b(d({traceId:_,parentSpanId:g,parentSampled:S},t),{metadata:b(d({},t.metadata),{dynamicSamplingContext:y}),trimEnd:!0})}else c=d({trimEnd:!0},t);let u=typeof n=="function"?n(c):c,l=u===void 0?b(d({},c),{sampled:!1}):u;l.metadata=l.name!==c.name?b(d({},l.metadata),{source:"custom"}):l.metadata,this._latestRoute.name=l.name,this._latestRoute.context=l,l.sampled===!1&&G&&E.log(`[Tracing] Will not send ${l.op} transaction because of beforeNavigate.`),G&&E.log(`[Tracing] Starting ${l.op} transaction on scope`);let{location:f}=k,p=So(r,l,o,s,!0,{location:f},i,a);return a&&k.document&&(k.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(k.document.readyState)&&p.sendAutoFinishSignal()}),["interactive","complete"].includes(k.document.readyState)&&p.sendAutoFinishSignal()),p.registerBeforeFinishCallback(m=>{this._collectWebVitals(),Dl(m)}),p}_registerInteractionListener(){let t,r=()=>{let{idleTimeout:n,finalTimeout:o,heartbeatInterval:s}=this.options,i="ui.action.click",a=Ve();if(a&&a.op&&["navigation","pageload"].includes(a.op)){G&&E.warn(`[Tracing] Did not create ${i} transaction because a pageload or navigation transaction is in progress.`);return}if(t&&(t.setFinishReason("interactionInterrupted"),t.end(),t=void 0),!this._getCurrentHub){G&&E.warn(`[Tracing] Did not create ${i} transaction because _getCurrentHub is invalid.`);return}if(!this._latestRoute.name){G&&E.warn(`[Tracing] Did not create ${i} transaction because _latestRouteName is missing.`);return}let c=this._getCurrentHub(),{location:u}=k,l={name:this._latestRoute.name,op:i,trimEnd:!0,data:{[Ke]:this._latestRoute.context?XD(this._latestRoute.context):"url"}};t=So(c,l,n,o,!0,{location:u},s)};["click"].forEach(n=>{k.document&&addEventListener(n,r,{once:!1,capture:!0})})}_registerInpInteractionListener(){let t=({entries:r})=>{let n=M(),o=n!==void 0&&n.getIntegrationByName!==void 0?n.getIntegrationByName("Replay"):void 0,s=o!==void 0?o.getReplayId():void 0,i=Ve(),a=ge(),c=a!==void 0?a.getUser():void 0;r.forEach(u=>{if(ZD(u)){let l=u.interactionId;if(l===void 0)return;let f=this._interactionIdToRouteNameMapping[l],p=u.duration,m=u.startTime,h=Object.keys(this._interactionIdToRouteNameMapping),_=h.length>0?h.reduce((y,g)=>this._interactionIdToRouteNameMapping[y].duration<this._interactionIdToRouteNameMapping[g].duration?y:g):void 0;if(u.entryType==="first-input"&&h.map(g=>this._interactionIdToRouteNameMapping[g]).some(g=>g.duration===p&&g.startTime===m)||!l)return;if(f)f.duration=Math.max(f.duration,p);else if(h.length<v0||_===void 0||p>this._interactionIdToRouteNameMapping[_].duration){let y=this._latestRoute.name,g=this._latestRoute.context;y&&g&&(_&&Object.keys(this._interactionIdToRouteNameMapping).length>=v0&&delete this._interactionIdToRouteNameMapping[_],this._interactionIdToRouteNameMapping[l]={routeName:y,duration:p,parentContext:g,user:c,activeTransaction:i,replayId:s,startTime:m})}}})};cr("event",t),cr("first-input",t)}};function T0(e){let t=pa(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function XD(e){let t=e.attributes&&e.attributes[Ke],r=e.data&&e.data[Ke],n=e.metadata&&e.metadata.source;return t||r||n}function ZD(e){return"duration"in e}var QD="BrowserTracing",eM=d(b(d({},Sn),{instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{}}),Vr),$h=(e={})=>{let t=G?!!(e.tracePropagationTargets||e.tracingOrigins):!1;Eo(),!e.tracePropagationTargets&&e.tracingOrigins&&(e.tracePropagationTargets=e.tracingOrigins);let r=d(d({},eM),e),n=Al(),o={};r.enableInp&&$l(o,r.interactionsSampleRate),r.enableLongTask&&Nl(),r._experiments.enableInteractions&&Pl();let s={name:void 0,context:void 0};function i(a){let c=V(),{beforeStartSpan:u,idleTimeout:l,finalTimeout:f,heartbeatInterval:p}=r,m=a.op==="pageload",h;if(m){let S=m?x0("sentry-trace"):"",T=m?x0("baggage"):void 0,{traceId:x,dsc:I,parentSpanId:C,sampled:w}=Ca(S,T);h=b(d({traceId:x,parentSpanId:C,parentSampled:w},a),{metadata:b(d({},a.metadata),{dynamicSamplingContext:I}),trimEnd:!0})}else h=d({trimEnd:!0},a);let _=u?u(h):h;_.metadata=_.name!==h.name?b(d({},_.metadata),{source:"custom"}):_.metadata,s.name=_.name,s.context=_,_.sampled===!1&&G&&E.log(`[Tracing] Will not send ${_.op} transaction because of beforeNavigate.`),G&&E.log(`[Tracing] Starting ${_.op} transaction on scope`);let{location:y}=k,g=So(c,_,l,f,!0,{location:y},p,m);return m&&k.document&&(k.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(k.document.readyState)&&g.sendAutoFinishSignal()}),["interactive","complete"].includes(k.document.readyState)&&g.sendAutoFinishSignal()),g.registerBeforeFinishCallback(S=>{n(),Dl(S)}),g}return{name:QD,setupOnce:()=>{},afterAllSetup(a){let c=a.getOptions(),{markBackgroundSpan:u,traceFetch:l,traceXHR:f,shouldCreateSpanForRequest:p,enableHTTPTimings:m,_experiments:h}=r,_=c&&c.tracePropagationTargets,y=_||r.tracePropagationTargets;G&&t&&_&&E.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.");let g,S=k.location&&k.location.href;if(a.on&&(a.on("startNavigationSpan",T=>{g&&(G&&E.log(`[Tracing] Finishing current transaction with op: ${H(g).op}`),g.end()),g=i(d({op:"navigation"},T))}),a.on("startPageLoadSpan",T=>{g&&(G&&E.log(`[Tracing] Finishing current transaction with op: ${H(g).op}`),g.end()),g=i(d({op:"pageload"},T))})),r.instrumentPageLoad&&a.emit&&k.location){let T={name:k.location.pathname,startTimestamp:Pe?Pe/1e3:void 0,origin:"auto.pageload.browser",attributes:{[Ke]:"url"}};Ml(a,T)}r.instrumentNavigation&&a.emit&&k.location&&Fr(({to:T,from:x})=>{if(x===void 0&&S&&S.indexOf(T)!==-1){S=void 0;return}if(x!==T){S=void 0;let I={name:k.location.pathname,origin:"auto.navigation.browser",attributes:{[Ke]:"url"}};Ll(a,I)}}),u&&xl(),h.enableInteractions&&tM(r,s),r.enableInp&&nM(o,s),To({traceFetch:l,traceXHR:f,tracePropagationTargets:y,shouldCreateSpanForRequest:p,enableHTTPTimings:m})},options:r}};function Ml(e,t){if(!e.emit)return;e.emit("startPageLoadSpan",t);let r=Gr();return(r&&H(r).op)==="pageload"?r:void 0}function Ll(e,t){if(!e.emit)return;e.emit("startNavigationSpan",t);let r=Gr();return(r&&H(r).op)==="navigation"?r:void 0}function x0(e){let t=pa(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function tM(e,t){let r,n=()=>{let{idleTimeout:o,finalTimeout:s,heartbeatInterval:i}=e,a="ui.action.click",c=Ve();if(c&&c.op&&["navigation","pageload"].includes(c.op)){G&&E.warn(`[Tracing] Did not create ${a} transaction because a pageload or navigation transaction is in progress.`);return}if(r&&(r.setFinishReason("interactionInterrupted"),r.end(),r=void 0),!t.name){G&&E.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`);return}let{location:u}=k,l={name:t.name,op:a,trimEnd:!0,data:{[Ke]:t.context?oM(t.context):"url"}};r=So(V(),l,o,s,!0,{location:u},i)};["click"].forEach(o=>{k.document&&addEventListener(o,n,{once:!1,capture:!0})})}function rM(e){return"duration"in e}var w0=10;function nM(e,t){let r=({entries:n})=>{let o=M(),s=o!==void 0&&o.getIntegrationByName!==void 0?o.getIntegrationByName("Replay"):void 0,i=s!==void 0?s.getReplayId():void 0,a=Ve(),c=ge(),u=c!==void 0?c.getUser():void 0;n.forEach(l=>{if(rM(l)){let f=l.interactionId;if(f===void 0)return;let p=e[f],m=l.duration,h=l.startTime,_=Object.keys(e),y=_.length>0?_.reduce((g,S)=>e[g].duration<e[S].duration?g:S):void 0;if(l.entryType==="first-input"&&_.map(S=>e[S]).some(S=>S.duration===m&&S.startTime===h)||!f)return;if(p)p.duration=Math.max(p.duration,m);else if(_.length<w0||y===void 0||m>e[y].duration){let g=t.name,S=t.context;g&&S&&(y&&Object.keys(e).length>=w0&&delete e[y],e[f]={routeName:g,duration:m,parentContext:S,user:u,activeTransaction:a,replayId:i,startTime:h})}}})};cr("event",r),cr("first-input",r)}function oM(e){let t=e.attributes&&e.attributes[Ke],r=e.data&&e.data[Ke],n=e.metadata&&e.metadata.source;return t||r||n}var A=D,Dh=0;function Mh(){return Dh>0}function sM(){Dh++,setTimeout(()=>{Dh--})}function Wr(e,t={},r){if(typeof e!="function")return e;try{let o=e.__sentry_wrapped__;if(o)return typeof o=="function"?o:e;if(co(e))return e}catch(o){return e}let n=function(){let o=Array.prototype.slice.call(arguments);try{r&&typeof r=="function"&&r.apply(this,arguments);let s=o.map(i=>Wr(i,t));return e.apply(this,s)}catch(s){throw sM(),Hr(i=>{i.addEventProcessor(a=>(t.mechanism&&(fs(a,void 0,void 0),Lr(a,t.mechanism)),a.extra=b(d({},a.extra),{arguments:o}),a)),Aa(s)}),s}};try{for(let o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}catch(o){}Wu(n,e),Nt(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get(){return e.name}})}catch(o){}return n}var U=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;function Wa(e,t){let r=jh(e,t),n={type:t&&t.name,value:uM(t)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function iM(e,t,r,n){let o=M(),s=o&&o.getOptions().normalizeDepth,i={exception:{values:[{type:io(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:lM(t,{isUnhandledRejection:n})}]},extra:{__serialized__:ol(t,s)}};if(r){let a=jh(e,r);a.length&&(i.exception.values[0].stacktrace={frames:a})}return i}function Lh(e,t){return{exception:{values:[Wa(e,t)]}}}function jh(e,t){let r=t.stacktrace||t.stack||"",n=cM(t);try{return e(r,n)}catch(o){}return[]}var aM=/Minified React error #\d+;/i;function cM(e){if(e){if(typeof e.framesToPop=="number")return e.framesToPop;if(aM.test(e.message))return 1}return 0}function uM(e){let t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function Fl(e,t,r,n){let o=r&&r.syntheticException||void 0,s=Bl(e,t,o,n);return Lr(s),s.level="error",r&&r.event_id&&(s.event_id=r.event_id),rr(s)}function jl(e,t,r="info",n,o){let s=n&&n.syntheticException||void 0,i=Fh(e,t,s,o);return i.level=r,n&&n.event_id&&(i.event_id=n.event_id),rr(i)}function Bl(e,t,r,n,o){let s;if(as(t)&&t.error)return Lh(e,t.error);if(qu(t)||Jp(t)){let i=t;if("stack"in t)s=Lh(e,t);else{let a=i.name||(qu(i)?"DOMError":"DOMException"),c=i.message?`${a}: ${i.message}`:a;s=Fh(e,c,r,n),fs(s,c)}return"code"in i&&(s.tags=b(d({},s.tags),{"DOMException.code":`${i.code}`})),s}return ca(t)?Lh(e,t):Qt(t)||io(t)?(s=iM(e,t,r,o),Lr(s,{synthetic:!0}),s):(s=Fh(e,t,r,n),fs(s,`${t}`,void 0),Lr(s,{synthetic:!0}),s)}function Fh(e,t,r,n){let o={};if(n&&r){let s=jh(e,r);s.length&&(o.exception={values:[{value:t,stacktrace:{frames:s}}]})}if(cs(t)){let{__sentry_template_string__:s,__sentry_template_values__:i}=t;return o.logentry={message:s,params:i},o}return o.message=t,o}function lM(e,{isUnhandledRejection:t}){let r=om(e),n=t?"promise rejection":"exception";return as(e)?`Event \`ErrorEvent\` captured as ${n} with message \`${e.message}\``:io(e)?`Event \`${fM(e)}\` (type=${e.type}) captured as ${n}`:`Object captured as ${n} with keys: ${r}`}function fM(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(t){}}function Ul(e,{metadata:t,tunnel:r,dsn:n}){let o=d(d({event_id:e.event_id,sent_at:new Date().toISOString()},t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}}),!!r&&!!n&&{dsn:at(n)}),s=dM(e);return et(o,[s])}function dM(e){return[{type:"user_report"},e]}var Os=class extends Ba{constructor(t){let r=A.SENTRY_SDK_SOURCE||mm();vh(t,"browser",["browser"],r),super(t),t.sendClientReports&&A.document&&A.document.addEventListener("visibilitychange",()=>{A.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,r){return Fl(this._options.stackParser,t,r,this._options.attachStacktrace)}eventFromMessage(t,r="info",n){return jl(this._options.stackParser,t,r,n,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){U&&E.warn("SDK not enabled, will not capture user feedback.");return}let r=Ul(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(r)}_prepareEvent(t,r,n){return t.platform=t.platform||"javascript",super._prepareEvent(t,r,n)}_flushOutcomes(){let t=this._clearOutcomes();if(t.length===0){U&&E.log("No outcomes to send");return}if(!this._dsn){U&&E.log("No dsn provided, will not send outcomes");return}U&&E.log("Sending outcomes:",t);let r=xm(t,this._options.tunnel&&at(this._dsn));this._sendEnvelope(r)}};var Ka;function C0(){if(Ka)return Ka;if(_a(A.fetch))return Ka=A.fetch.bind(A);let e=A.document,t=A.fetch;if(e&&typeof e.createElement=="function")try{let r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r);let n=r.contentWindow;n&&n.fetch&&(t=n.fetch),e.head.removeChild(r)}catch(r){U&&E.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return Ka=t.bind(A)}function O0(){Ka=void 0}function Hl(e,t=C0()){let r=0,n=0;function o(s){let i=s.body.length;r+=i,n++;let a=d({body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:r<=6e4&&n<15},e.fetchOptions);try{return t(e.url,a).then(c=>(r-=i,n--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return O0(),r-=i,n--,uo(c)}}return bo(e,o)}var pM=4;function ql(e){function t(r){return new Ct((n,o)=>{let s=new XMLHttpRequest;s.onerror=o,s.onreadystatechange=()=>{s.readyState===pM&&n({statusCode:s.status,headers:{"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")}})},s.open("POST",e.url);for(let i in e.headers)Object.prototype.hasOwnProperty.call(e.headers,i)&&s.setRequestHeader(i,e.headers[i]);s.send(r.body)})}return bo(e,t)}var Rs="?",mM=10,hM=20,gM=30,yM=40,_M=50;function Ya(e,t,r,n){let o={filename:e,function:t,in_app:!0};return r!==void 0&&(o.lineno=r),n!==void 0&&(o.colno=n),o}var SM=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,EM=/\((\S*)(?::(\d+))(?::(\d+))\)/,bM=e=>{let t=SM.exec(e);if(t){if(t[2]&&t[2].indexOf("eval")===0){let s=EM.exec(t[2]);s&&(t[2]=s[1],t[3]=s[2],t[4]=s[3])}let[n,o]=A0(t[1]||Rs,t[2]);return Ya(o,n,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}},Bh=[gM,bM],vM=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,TM=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,IM=e=>{let t=vM.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let s=TM.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let n=t[3],o=t[1]||Rs;return[o,n]=A0(o,n),Ya(n,o,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},Uh=[_M,IM],xM=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,wM=e=>{let t=xM.exec(e);return t?Ya(t[2],t[1]||Rs,+t[3],t[4]?+t[4]:void 0):void 0},Hh=[yM,wM],CM=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,OM=e=>{let t=CM.exec(e);return t?Ya(t[2],t[3]||Rs,+t[1]):void 0},R0=[mM,OM],RM=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,kM=e=>{let t=RM.exec(e);return t?Ya(t[5],t[3]||t[4]||Rs,+t[1],+t[2]):void 0},k0=[hM,kM],qh=[Bh,Uh,Hh],Gl=Yu(...qh),A0=(e,t)=>{let r=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return r||n?[e.indexOf("@")!==-1?e.split("@")[0]:Rs,r?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};var zl=1024,N0="Breadcrumbs",AM=(e={})=>{let t=d({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e);return{name:N0,setupOnce(){},setup(r){t.console&&am($M(r)),t.dom&&lm(PM(r,t.dom)),t.xhr&&Ta(DM(r)),t.fetch&&Sa(MM(r)),t.history&&Fr(LM(r)),t.sentry&&r.on&&r.on("beforeSendEvent",NM(r))}}},Ja=AM,Vl=Te(N0,Ja);function NM(e){return function(r){M()===e&&ir({category:`sentry.${r.type==="transaction"?"transaction":"event"}`,event_id:r.event_id,level:r.level,message:er(r)},{event:r})}}function PM(e,t){return function(n){if(M()!==e)return;let o,s,i=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>zl&&(U&&E.warn(`\`dom.maxStringLength\` cannot exceed ${zl}, but a value of ${a} was configured. Sentry will use ${zl} instead.`),a=zl),typeof i=="string"&&(i=[i]);try{let u=n.event,l=FM(u)?u.target:u;o=Er(l,{keyAttrs:i,maxStringLength:a}),s=ma(l)}catch(u){o="<unknown>"}if(o.length===0)return;let c={category:`ui.${n.name}`,message:o};s&&(c.data={"ui.component_name":s}),ir(c,{event:n.event,name:n.name,global:n.global})}}function $M(e){return function(r){if(M()!==e)return;let n={category:"console",data:{arguments:r.args,logger:"console"},level:gm(r.level),message:Gu(r.args," ")};if(r.level==="assert")if(r.args[0]===!1)n.message=`Assertion failed: ${Gu(r.args.slice(1)," ")||"console.assert"}`,n.data.arguments=r.args.slice(1);else return;ir(n,{input:r.args,level:r.level})}}function DM(e){return function(r){if(M()!==e)return;let{startTimestamp:n,endTimestamp:o}=r,s=r.xhr[jr];if(!n||!o||!s)return;let{method:i,url:a,status_code:c,body:u}=s,l={method:i,url:a,status_code:c},f={xhr:r.xhr,input:u,startTimestamp:n,endTimestamp:o};ir({category:"xhr",data:l,type:"http"},f)}}function MM(e){return function(r){if(M()!==e)return;let{startTimestamp:n,endTimestamp:o}=r;if(o&&!(r.fetchData.url.match(/sentry_key/)&&r.fetchData.method==="POST"))if(r.error){let s=r.fetchData,i={data:r.error,input:r.args,startTimestamp:n,endTimestamp:o};ir({category:"fetch",data:s,level:"error",type:"http"},i)}else{let s=r.response,i=b(d({},r.fetchData),{status_code:s&&s.status}),a={input:r.args,response:s,startTimestamp:n,endTimestamp:o};ir({category:"fetch",data:i,type:"http"},a)}}}function LM(e){return function(r){if(M()!==e)return;let n=r.from,o=r.to,s=Pt(A.location.href),i=n?Pt(n):void 0,a=Pt(o);(!i||!i.path)&&(i=s),s.protocol===a.protocol&&s.host===a.host&&(o=a.relative),s.protocol===i.protocol&&s.host===i.host&&(n=i.relative),ir({category:"navigation",data:{from:n,to:o}})}}function FM(e){return!!e&&!!e.target}var D0="Dedupe",jM=()=>{let e;return{name:D0,setupOnce(){},processEvent(t){if(t.type)return t;try{if(BM(t,e))return U&&E.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(r){}return e=t}}},Gh=jM,Wl=Te(D0,Gh);function BM(e,t){return t?!!(UM(e,t)||HM(e,t)):!1}function UM(e,t){let r=e.message,n=t.message;return!(!r&&!n||r&&!n||!r&&n||r!==n||!L0(e,t)||!M0(e,t))}function HM(e,t){let r=P0(t),n=P0(e);return!(!r||!n||r.type!==n.type||r.value!==n.value||!L0(e,t)||!M0(e,t))}function M0(e,t){let r=$0(e),n=$0(t);if(!r&&!n)return!0;if(r&&!n||!r&&n||(r=r,n=n,n.length!==r.length))return!1;for(let o=0;o<n.length;o++){let s=n[o],i=r[o];if(s.filename!==i.filename||s.lineno!==i.lineno||s.colno!==i.colno||s.function!==i.function)return!1}return!0}function L0(e,t){let r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;r=r,n=n;try{return r.join("")===n.join("")}catch(o){return!1}}function P0(e){return e.exception&&e.exception.values&&e.exception.values[0]}function $0(e){let t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(r){return}}var j0="GlobalHandlers",qM=(e={})=>{let t=d({onerror:!0,onunhandledrejection:!0},e);return{name:j0,setupOnce(){Error.stackTraceLimit=50},setup(r){t.onerror&&(GM(r),F0("onerror")),t.onunhandledrejection&&(zM(r),F0("onunhandledrejection"))}}},Xa=qM,Kl=Te(j0,Xa);function GM(e){Ea(t=>{let{stackParser:r,attachStacktrace:n}=U0();if(M()!==e||Mh())return;let{msg:o,url:s,line:i,column:a,error:c}=t,u=c===void 0&&Ze(o)?KM(o,s,i,a):B0(Bl(r,c||o,void 0,n,!1),s,i,a);u.level="error",hs(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function zM(e){ba(t=>{let{stackParser:r,attachStacktrace:n}=U0();if(M()!==e||Mh())return;let o=VM(t),s=so(o)?WM(o):Bl(r,o,void 0,n,!0);s.level="error",hs(s,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function VM(e){if(so(e))return e;let t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch(r){}return e}function WM(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function KM(e,t,r,n){let o=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,s=as(e)?e.message:e,i="Error",a=s.match(o);return a&&(i=a[1],s=a[2]),B0({exception:{values:[{type:i,value:s}]}},t,r,n)}function B0(e,t,r,n){let o=e.exception=e.exception||{},s=o.values=o.values||[],i=s[0]=s[0]||{},a=i.stacktrace=i.stacktrace||{},c=a.frames=a.frames||[],u=isNaN(parseInt(n,10))?void 0:n,l=isNaN(parseInt(r,10))?void 0:r,f=Ze(t)&&t.length>0?t:tm();return c.length===0&&c.push({colno:u,filename:f,function:"?",in_app:!0,lineno:l}),e}function F0(e){U&&E.log(`Global Handler attached: ${e}`)}function U0(){let e=M();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}var H0="HttpContext",YM=()=>({name:H0,setupOnce(){},preprocessEvent(e){if(!A.navigator&&!A.location&&!A.document)return;let t=e.request&&e.request.url||A.location&&A.location.href,{referrer:r}=A.document||{},{userAgent:n}=A.navigator||{},o=d(d(d({},e.request&&e.request.headers),r&&{Referer:r}),n&&{"User-Agent":n}),s=b(d(d({},e.request),t&&{url:t}),{headers:o});e.request=s}}),Za=YM,Yl=Te(H0,Za);var JM="cause",XM=5,q0="LinkedErrors",ZM=(e={})=>{let t=e.limit||XM,r=e.key||JM;return{name:q0,setupOnce(){},preprocessEvent(n,o,s){let i=s.getOptions();fa(Wa,i.stackParser,i.maxValueLength,r,t,n,o)}}},Qa=ZM,Jl=Te(q0,Qa);var QM=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],z0="TryCatch",eL=(e={})=>{let t=d({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e);return{name:z0,setupOnce(){t.setTimeout&&Oe(A,"setTimeout",G0),t.setInterval&&Oe(A,"setInterval",G0),t.requestAnimationFrame&&Oe(A,"requestAnimationFrame",tL),t.XMLHttpRequest&&"XMLHttpRequest"in A&&Oe(XMLHttpRequest.prototype,"send",rL);let r=t.eventTarget;r&&(Array.isArray(r)?r:QM).forEach(nL)}}},ec=eL,Xl=Te(z0,ec);function G0(e){return function(...t){let r=t[0];return t[0]=Wr(r,{mechanism:{data:{function:ht(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function tL(e){return function(t){return e.apply(this,[Wr(t,{mechanism:{data:{function:"requestAnimationFrame",handler:ht(e)},handled:!1,type:"instrument"}})])}}function rL(e){return function(...t){let r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(o=>{o in r&&typeof r[o]=="function"&&Oe(r,o,function(s){let i={mechanism:{data:{function:o,handler:ht(s)},handled:!1,type:"instrument"}},a=co(s);return a&&(i.mechanism.data.handler=ht(a)),Wr(s,i)})}),e.apply(this,t)}}function nL(e){let t=A,r=t[e]&&t[e].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Oe(r,"addEventListener",function(n){return function(o,s,i){try{typeof s.handleEvent=="function"&&(s.handleEvent=Wr(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:ht(s),target:e},handled:!1,type:"instrument"}}))}catch(a){}return n.apply(this,[o,Wr(s,{mechanism:{data:{function:"addEventListener",handler:ht(s),target:e},handled:!1,type:"instrument"}}),i])}}),Oe(r,"removeEventListener",function(n){return function(o,s,i){let a=s;try{let c=a&&a.__sentry_wrapped__;c&&n.call(this,o,c,i)}catch(c){}return n.call(this,o,a,i)}}))}var zh=[Ts(),Is(),ec(),Ja(),Xa(),Qa(),Gh(),Za()];function Vh(e){return[...zh]}function V0(e={}){e.defaultIntegrations===void 0&&(e.defaultIntegrations=Vh()),e.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(e.release=__SENTRY_RELEASE__),A.SENTRY_RELEASE&&A.SENTRY_RELEASE.id&&(e.release=A.SENTRY_RELEASE.id)),e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),e.sendClientReports===void 0&&(e.sendClientReports=!0);let t=b(d({},e),{stackParser:im(e.stackParser||Gl),integrations:ah(e),transport:e.transport||(Zu()?Hl:ql)});gh(Os,t),e.autoSessionTracking&&oL()}var W0=(e={},t=V())=>{if(!A.document){U&&E.error("Global document not defined in showReportDialog call");return}let{client:r,scope:n}=t.getStackTop(),o=e.dsn||r&&r.getDsn();if(!o){U&&E.error("DSN not configured for showReportDialog call");return}n&&(e.user=d(d({},n.getUser()),e.user)),e.eventId||(e.eventId=t.lastEventId());let s=A.document.createElement("script");s.async=!0,s.crossOrigin="anonymous",s.src=ih(o,e),e.onLoad&&(s.onload=e.onLoad);let{onClose:i}=e;if(i){let c=u=>{if(u.data==="__sentry_reportdialog_closed__")try{i()}finally{A.removeEventListener("message",c)}};A.addEventListener("message",c)}let a=A.document.head||A.document.body;a?a.appendChild(s):U&&E.error("Not injecting report dialog. No injection point found in HTML")};function K0(){}function Y0(e){e()}function J0(e){return Wr(e)()}function oL(){if(typeof A.document=="undefined"){U&&E.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}gs({ignoreDuration:!0}),ys(),Fr(({from:e,to:t})=>{e!==void 0&&e!==t&&(gs({ignoreDuration:!0}),ys())})}function X0(e){let t=M();t&&t.captureUserFeedback(e)}var Wh={};Kp(Wh,{Breadcrumbs:()=>Vl,Dedupe:()=>Wl,GlobalHandlers:()=>Kl,HttpContext:()=>Yl,LinkedErrors:()=>Jl,TryCatch:()=>Xl});var Z0=Object.prototype.toString;function Kh(e){switch(Z0.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return As(e,Error)}}function Yh(e,t){return Z0.call(e)===`[object ${t}]`}function ur(e){return Yh(e,"String")}function ks(e){return Yh(e,"Object")}function Jh(e){return typeof Event!="undefined"&&As(e,Event)}function Xh(e){return typeof Element!="undefined"&&As(e,Element)}function Zh(e){return Yh(e,"RegExp")}function Io(e){return!!(e&&e.then&&typeof e.then=="function")}function Qh(e){return ks(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function eg(e){return typeof e=="number"&&e!==e}function As(e,t){try{return e instanceof t}catch(r){return!1}}function Zl(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function tc(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Q0(e,t,r=!1){return ur(e)?Zh(t)?t.test(e):ur(t)?r?e===t:e.includes(t):!1:!1}function tg(e,t=[],r=!1){return t.some(n=>Q0(e,n,r))}function Ql(e){return e&&e.Math==Math?e:void 0}var te=typeof globalThis=="object"&&Ql(globalThis)||typeof window=="object"&&Ql(window)||typeof self=="object"&&Ql(self)||typeof global=="object"&&Ql(global)||function(){return this}()||{};function xo(){return te}function rc(e,t,r){let n=r||te,o=n.__SENTRY__=n.__SENTRY__||{};return o[e]||(o[e]=t())}var sL=xo(),iL=80;function Ns(e,t={}){if(!e)return"<unknown>";try{let r=e,n=5,o=[],s=0,i=0,a=" > ",c=a.length,u,l=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||iL;for(;r&&s++<n&&(u=aL(r,l),!(u==="html"||s>1&&i+o.length*c+u.length>=f));)o.push(u),i+=u.length,r=r.parentNode;return o.reverse().join(a)}catch(r){return"<unknown>"}}function aL(e,t){let r=e,n=[],o,s,i,a,c;if(!r||!r.tagName)return"";if(sL.HTMLElement&&r instanceof HTMLElement&&r.dataset&&r.dataset.sentryComponent)return r.dataset.sentryComponent;n.push(r.tagName.toLowerCase());let u=t&&t.length?t.filter(f=>r.getAttribute(f)).map(f=>[f,r.getAttribute(f)]):null;if(u&&u.length)u.forEach(f=>{n.push(`[${f[0]}="${f[1]}"]`)});else if(r.id&&n.push(`#${r.id}`),o=r.className,o&&ur(o))for(s=o.split(/\s+/),c=0;c<s.length;c++)n.push(`.${s[c]}`);let l=["aria-label","type","name","title","alt"];for(c=0;c<l.length;c++)i=l[c],a=r.getAttribute(i),a&&n.push(`[${i}="${a}"]`);return n.join("")}var bn=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;var cL="Sentry Logger ",rg=["debug","info","warn","error","log","assert","trace"],ng={};function vn(e){if(!("console"in te))return e();let t=te.console,r={},n=Object.keys(ng);n.forEach(o=>{let s=ng[o];r[o]=t[o],t[o]=s});try{return e()}finally{n.forEach(o=>{t[o]=r[o]})}}function uL(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return bn?rg.forEach(r=>{t[r]=(...n)=>{e&&vn(()=>{te.console[r](`${cL}[${r}]:`,...n)})}}):rg.forEach(r=>{t[r]=()=>{}}),t}var j=uL();function eI(e,t=!1){let{host:r,path:n,pass:o,port:s,projectId:i,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&o?`:${o}`:""}@${r}${s?`:${s}`:""}/${n&&`${n}/`}${i}`}function tt(e,t,r){if(!(t in e))return;let n=e[t],o=r(n);typeof o=="function"&&nI(o,n),e[t]=o}function nc(e,t,r){try{Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}catch(n){bn&&j.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function nI(e,t){try{let r=t.prototype||{};e.prototype=t.prototype=r,nc(e,"__sentry_original__",t)}catch(r){}}function sg(e){if(Kh(e))return d({message:e.message,name:e.name,stack:e.stack},rI(e));if(Jh(e)){let t=d({type:e.type,target:tI(e.target),currentTarget:tI(e.currentTarget)},rI(e));return typeof CustomEvent!="undefined"&&As(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function tI(e){try{return Xh(e)?Ns(e):Object.prototype.toString.call(e)}catch(t){return"<unknown>"}}function rI(e){if(typeof e=="object"&&e!==null){let t={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}else return{}}function Ye(e){return og(e,new Map)}function og(e,t){if(fL(e)){let r=t.get(e);if(r!==void 0)return r;let n={};t.set(e,n);for(let o of Object.keys(e))typeof e[o]!="undefined"&&(n[o]=og(e[o],t));return n}if(Array.isArray(e)){let r=t.get(e);if(r!==void 0)return r;let n=[];return t.set(e,n),e.forEach(o=>{n.push(og(o,t))}),n}return e}function fL(e){if(!ks(e))return!1;try{let t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch(t){return!0}}var ig="<anonymous>";function wo(e){try{return!e||typeof e!="function"?ig:e.name||ig}catch(t){return ig}}var ef={},oI={};function Tn(e,t){ef[e]=ef[e]||[],ef[e].push(t)}function In(e,t){oI[e]||(t(),oI[e]=!0)}function Bt(e,t){let r=e&&ef[e];if(r)for(let n of r)try{n(t)}catch(o){bn&&j.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${wo(n)}
Error:`,o)}}function je(){let e=te,t=e.crypto||e.msCrypto,r=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(r=()=>{let n=new Uint8Array(1);return t.getRandomValues(n),n[0]})}catch(n){}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(r()&15)>>n/4).toString(16))}function dL(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function ag(e,t){let r=dL(e);if(!r)return;let n={type:"generic",handled:!0},o=r.mechanism;if(r.mechanism=d(d(d({},n),o),t),t&&"data"in t){let s=d(d({},o&&o.data),t.data);r.mechanism.data=s}}function cg(e){return Array.isArray(e)?e:[e]}var Ps=te,pL=1e3,sI,ug,lg;function fg(e){let t="dom";Tn(t,e),In(t,mL)}function mL(){if(!Ps.document)return;let e=Bt.bind(null,"dom"),t=iI(e,!0);Ps.document.addEventListener("click",t,!1),Ps.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(r=>{let n=Ps[r]&&Ps[r].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(tt(n,"addEventListener",function(o){return function(s,i,a){if(s==="click"||s=="keypress")try{let c=this,u=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},l=u[s]=u[s]||{refCount:0};if(!l.handler){let f=iI(e);l.handler=f,o.call(this,s,f,a)}l.refCount++}catch(c){}return o.call(this,s,i,a)}}),tt(n,"removeEventListener",function(o){return function(s,i,a){if(s==="click"||s=="keypress")try{let c=this,u=c.__sentry_instrumentation_handlers__||{},l=u[s];l&&(l.refCount--,l.refCount<=0&&(o.call(this,s,l.handler,a),l.handler=void 0,delete u[s]),Object.keys(u).length===0&&delete c.__sentry_instrumentation_handlers__)}catch(c){}return o.call(this,s,i,a)}}))})}function hL(e){if(e.type!==ug)return!1;try{if(!e.target||e.target._sentryId!==lg)return!1}catch(t){}return!0}function gL(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function iI(e,t=!1){return r=>{if(!r||r._sentryCaptured)return;let n=yL(r);if(gL(r.type,n))return;nc(r,"_sentryCaptured",!0),n&&!n._sentryId&&nc(n,"_sentryId",je());let o=r.type==="keypress"?"input":r.type;hL(r)||(e({event:r,name:o,global:t}),ug=r.type,lg=n?n._sentryId:void 0),clearTimeout(sI),sI=Ps.setTimeout(()=>{lg=void 0,ug=void 0},pL)}}function yL(e){try{return e.target}catch(t){return null}}var dg=xo();function _L(){if(!("fetch"in dg))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function aI(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function cI(){if(typeof EdgeRuntime=="string")return!0;if(!_L())return!1;if(aI(dg.fetch))return!0;let e=!1,t=dg.document;if(t&&typeof t.createElement=="function")try{let r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=aI(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){bn&&j.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function mg(e){let t="fetch";Tn(t,e),In(t,SL)}function SL(){cI()&&tt(te,"fetch",function(e){return function(...t){let{method:r,url:n}=EL(t),o={args:t,fetchData:{method:r,url:n},startTimestamp:Date.now()};return Bt("fetch",d({},o)),e.apply(te,t).then(s=>{let i=b(d({},o),{endTimestamp:Date.now(),response:s});return Bt("fetch",i),s},s=>{let i=b(d({},o),{endTimestamp:Date.now(),error:s});throw Bt("fetch",i),s})}})}function pg(e,t){return!!e&&typeof e=="object"&&!!e[t]}function uI(e){return typeof e=="string"?e:e?pg(e,"url")?e.url:e.toString?e.toString():"":""}function EL(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){let[r,n]=e;return{url:uI(r),method:pg(n,"method")?String(n.method).toUpperCase():"GET"}}let t=e[0];return{url:uI(t),method:pg(t,"method")?String(t.method).toUpperCase():"GET"}}var tf=xo();function lI(){let e=tf.chrome,t=e&&e.app&&e.app.runtime,r="history"in tf&&!!tf.history.pushState&&!!tf.history.replaceState;return!t&&r}var oc=te,rf;function hg(e){let t="history";Tn(t,e),In(t,bL)}function bL(){if(!lI())return;let e=oc.onpopstate;oc.onpopstate=function(...r){let n=oc.location.href,o=rf;if(rf=n,Bt("history",{from:o,to:n}),e)try{return e.apply(this,r)}catch(i){}};function t(r){return function(...n){let o=n.length>2?n[2]:void 0;if(o){let s=rf,i=String(o);rf=i,Bt("history",{from:s,to:i})}return r.apply(this,n)}}tt(oc.history,"pushState",t),tt(oc.history,"replaceState",t)}var vL=te,xn="__sentry_xhr_v3__";function gg(e){let t="xhr";Tn(t,e),In(t,TL)}function TL(){if(!vL.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;tt(e,"open",function(t){return function(...r){let n=Date.now(),o=ur(r[0])?r[0].toUpperCase():void 0,s=IL(r[1]);if(!o||!s)return t.apply(this,r);this[xn]={method:o,url:s,request_headers:{}},o==="POST"&&s.match(/sentry_key/)&&(this.__sentry_own_request__=!0);let i=()=>{let a=this[xn];if(a&&this.readyState===4){try{a.status_code=this.status}catch(u){}let c={args:[o,s],endTimestamp:Date.now(),startTimestamp:n,xhr:this};Bt("xhr",c)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?tt(this,"onreadystatechange",function(a){return function(...c){return i(),a.apply(this,c)}}):this.addEventListener("readystatechange",i),tt(this,"setRequestHeader",function(a){return function(...c){let[u,l]=c,f=this[xn];return f&&ur(u)&&ur(l)&&(f.request_headers[u.toLowerCase()]=l),a.apply(this,c)}}),t.apply(this,r)}}),tt(e,"send",function(t){return function(...r){let n=this[xn];if(!n)return t.apply(this,r);r[0]!==void 0&&(n.body=r[0]);let o={args:[n.method,n.url],startTimestamp:Date.now(),xhr:this};return Bt("xhr",o),t.apply(this,r)}})}function IL(e){if(ur(e))return e;try{return e.toString()}catch(t){}}function fI(){return typeof __SENTRY_BROWSER_BUNDLE__!="undefined"&&!!__SENTRY_BROWSER_BUNDLE__}function dI(){return!fI()&&Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]"}function nf(){return typeof window!="undefined"&&(!dI()||xL())}function xL(){return te.process!==void 0&&te.process.type==="renderer"}function pI(){let e=typeof WeakSet=="function",t=e?new WeakSet:[];function r(o){if(e)return t.has(o)?!0:(t.add(o),!1);for(let s=0;s<t.length;s++)if(t[s]===o)return!0;return t.push(o),!1}function n(o){if(e)t.delete(o);else for(let s=0;s<t.length;s++)if(t[s]===o){t.splice(s,1);break}}return[r,n]}function lr(e,t=100,r=1/0){try{return of("",e,t,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function of(e,t,r=1/0,n=1/0,o=pI()){let[s,i]=o;if(t==null||["number","boolean","string"].includes(typeof t)&&!eg(t))return t;let a=wL(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;let c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:r;if(c===0)return a.replace("object ","");if(s(t))return"[Circular ~]";let u=t;if(u&&typeof u.toJSON=="function")try{let m=u.toJSON();return of("",m,c-1,n,o)}catch(m){}let l=Array.isArray(t)?[]:{},f=0,p=sg(t);for(let m in p){if(!Object.prototype.hasOwnProperty.call(p,m))continue;if(f>=n){l[m]="[MaxProperties ~]";break}let h=p[m];l[m]=of(m,h,c-1,n,o),f++}return i(t),l}function wL(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global!="undefined"&&t===global)return"[Global]";if(typeof window!="undefined"&&t===window)return"[Window]";if(typeof document!="undefined"&&t===document)return"[Document]";if(Zl(t))return"[VueViewModel]";if(Qh(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${wo(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;let r=CL(t);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function CL(e){let t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}var Kr;(function(e){e[e.PENDING=0]="PENDING";let r=1;e[e.RESOLVED=r]="RESOLVED";let n=2;e[e.REJECTED=n]="REJECTED"})(Kr||(Kr={}));var sc=class e{constructor(t){e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),this._state=Kr.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(r){this._reject(r)}}then(t,r){return new e((n,o)=>{this._handlers.push([!1,s=>{if(!t)n(s);else try{n(t(s))}catch(i){o(i)}},s=>{if(!r)o(s);else try{n(r(s))}catch(i){o(i)}}]),this._executeHandlers()})}catch(t){return this.then(r=>r,t)}finally(t){return new e((r,n)=>{let o,s;return this.then(i=>{s=!1,o=i,t&&t()},i=>{s=!0,o=i,t&&t()}).then(()=>{if(s){n(o);return}r(o)})})}__init(){this._resolve=t=>{this._setResult(Kr.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(Kr.REJECTED,t)}}__init3(){this._setResult=(t,r)=>{if(this._state===Kr.PENDING){if(Io(r)){r.then(this._resolve,this._reject);return}this._state=t,this._value=r,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Kr.PENDING)return;let t=this._handlers.slice();this._handlers=[],t.forEach(r=>{r[0]||(this._state===Kr.RESOLVED&&r[1](this._value),this._state===Kr.REJECTED&&r[2](this._value),r[0]=!0)})}}};var mI=1e3;function wn(){return Date.now()/mI}function OL(){let{performance:e}=te;if(!e||!e.now)return wn;let t=Date.now()-e.now(),r=e.timeOrigin==null?t:e.timeOrigin;return()=>(r+e.now())/mI}var ac=OL();var ic,yg=(()=>{let{performance:e}=te;if(!e||!e.now){ic="none";return}let t=3600*1e3,r=e.now(),n=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+r-n):t,s=o<t,i=e.timing&&e.timing.navigationStart,c=typeof i=="number"?Math.abs(i+r-n):t,u=c<t;return s||u?o<=c?(ic="timeOrigin",e.timeOrigin):(ic="navigationStart",i):(ic="dateNow",n)})();function _g(e,t=[]){return[e,t]}function Sg(e){if(!e||!e.sdk)return;let{name:t,version:r}=e.sdk;return{name:t,version:r}}function Eg(e,t,r,n){let o=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return d(d(d({event_id:e.event_id,sent_at:new Date().toISOString()},t&&{sdk:t}),!!r&&n&&{dsn:eI(n)}),o&&{trace:Ye(d({},o))})}function hI(e,t=Date.now()){let r=parseInt(`${e}`,10);if(!isNaN(r))return r*1e3;let n=Date.parse(`${e}`);return isNaN(n)?6e4:n-t}function gI(e,t){return e[t]||e.all||0}function bg(e,t,r=Date.now()){return gI(e,t)>r}function vg(e,{statusCode:t,headers:r},n=Date.now()){let o=d({},e),s=r&&r["x-sentry-rate-limits"],i=r&&r["retry-after"];if(s)for(let a of s.trim().split(",")){let[c,u,,,l]=a.split(":",5),f=parseInt(c,10),p=(isNaN(f)?60:f)*1e3;if(!u)o.all=n+p;else for(let m of u.split(";"))m==="metric_bucket"?(!l||l.split(";").includes("custom"))&&(o[m]=n+p):o[m]=n+p}else i?o.all=n+hI(i,n):t===429&&(o.all=n+60*1e3);return o}function Tg(e,t){return e!=null?e:t()}function cc(e){let t,r=e[0],n=1;for(;n<e.length;){let o=e[n],s=e[n+1];if(n+=2,(o==="optionalAccess"||o==="optionalCall")&&r==null)return;o==="access"||o==="optionalAccess"?(t=r,r=s(r)):(o==="call"||o==="optionalCall")&&(r=s((...i)=>r.call(t,...i)),t=void 0)}return r}var $s=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;var Ds="production";function sf(){return rc("globalEventProcessors",()=>[])}function Ms(e,t,r,n=0){return new sc((o,s)=>{let i=e[n];if(t===null||typeof i!="function")o(t);else{let a=i(d({},t),r);$s&&i.id&&a===null&&j.log(`Event processor "${i.id}" dropped event`),Io(a)?a.then(c=>Ms(e,c,r,n+1).then(o)).then(null,s):Ms(e,a,r,n+1).then(o).then(null,s)}})}function yI(e){let t=ac(),r={sid:je(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>RL(r)};return e&&Ls(r,e),r}function Ls(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||ac(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:je()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{let r=e.timestamp-e.started;e.duration=r>=0?r:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function _I(e,t){let r={};t?r={status:t}:e.status==="ok"&&(r={status:"exited"}),Ls(e,r)}function RL(e){return Ye({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}var kL=1;function Ig(e){let{spanId:t,traceId:r}=e.spanContext(),{data:n,op:o,parent_span_id:s,status:i,tags:a,origin:c}=Ut(e);return Ye({data:n,op:o,parent_span_id:s,span_id:t,status:i,tags:a,trace_id:r,origin:c})}function Ut(e){return AL(e)?e.getSpanJSON():typeof e.toJSON=="function"?e.toJSON():{}}function AL(e){return typeof e.getSpanJSON=="function"}function xg(e){let{traceFlags:t}=e.spanContext();return!!(t&kL)}function Cg(e,t,r,n,o,s){let{normalizeDepth:i=3,normalizeMaxBreadth:a=1e3}=e,c=b(d({},t),{event_id:t.event_id||r.event_id||je(),timestamp:t.timestamp||wn()}),u=r.integrations||e.integrations.map(y=>y.name);NL(c,e),DL(c,u),t.type===void 0&&PL(c,e.stackParser);let l=LL(n,r.captureContext);r.mechanism&&ag(c,r.mechanism);let f=o&&o.getEventProcessors?o.getEventProcessors():[],p=bI().getScopeData();if(s){let y=s.getScopeData();wg(p,y)}if(l){let y=l.getScopeData();wg(p,y)}let m=[...r.attachments||[],...p.attachments];m.length&&(r.attachments=m),af(c,p);let h=[...f,...sf(),...p.eventProcessors];return Ms(h,c,r).then(y=>(y&&$L(y),typeof i=="number"&&i>0?ML(y,i,a):y))}function NL(e,t){let{environment:r,release:n,dist:o,maxValueLength:s=250}=t;"environment"in e||(e.environment="environment"in t?r:Ds),e.release===void 0&&n!==void 0&&(e.release=n),e.dist===void 0&&o!==void 0&&(e.dist=o),e.message&&(e.message=tc(e.message,s));let i=e.exception&&e.exception.values&&e.exception.values[0];i&&i.value&&(i.value=tc(i.value,s));let a=e.request;a&&a.url&&(a.url=tc(a.url,s))}var SI=new WeakMap;function PL(e,t){let r=te._sentryDebugIds;if(!r)return;let n,o=SI.get(t);o?n=o:(n=new Map,SI.set(t,n));let s=Object.keys(r).reduce((i,a)=>{let c,u=n.get(a);u?c=u:(c=t(a),n.set(a,c));for(let l=c.length-1;l>=0;l--){let f=c[l];if(f.filename){i[f.filename]=r[a];break}}return i},{});try{e.exception.values.forEach(i=>{i.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=s[a.filename])})})}catch(i){}}function $L(e){let t={};try{e.exception.values.forEach(n=>{n.stacktrace.frames.forEach(o=>{o.debug_id&&(o.abs_path?t[o.abs_path]=o.debug_id:o.filename&&(t[o.filename]=o.debug_id),delete o.debug_id)})})}catch(n){}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let r=e.debug_meta.images;Object.keys(t).forEach(n=>{r.push({type:"sourcemap",code_file:n,debug_id:t[n]})})}function DL(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function ML(e,t,r){if(!e)return null;let n=d(d(d(d(d({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>d(d({},o),o.data&&{data:lr(o.data,t,r)}))}),e.user&&{user:lr(e.user,t,r)}),e.contexts&&{contexts:lr(e.contexts,t,r)}),e.extra&&{extra:lr(e.extra,t,r)});return e.contexts&&e.contexts.trace&&n.contexts&&(n.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(n.contexts.trace.data=lr(e.contexts.trace.data,t,r))),e.spans&&(n.spans=e.spans.map(o=>{let s=Ut(o).data;return s&&(o.data=lr(s,t,r)),o})),n}function LL(e,t){if(!t)return e;let r=e?e.clone():new Yr;return r.update(t),r}function EI(e){if(e)return FL(e)?{captureContext:e}:BL(e)?{captureContext:e}:e}function FL(e){return e instanceof Yr||typeof e=="function"}var jL=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function BL(e){return Object.keys(e).some(t=>jL.includes(t))}function cf(e,t){return Cn().captureException(e,EI(t))}function Og(e,t){Cn().addBreadcrumb(e,t)}function Rg(e,t){Cn().setContext(e,t)}function rt(){return Cn().getClient()}function Co(){return Cn().getScope()}function lf(e){return e.transaction}function HL(e,t,r){let n=t.getOptions(),{publicKey:o}=t.getDsn()||{},{segment:s}=r&&r.getUser()||{},i=Ye({environment:n.environment||Ds,release:n.release,user_segment:s,public_key:o,trace_id:e});return t.emit&&t.emit("createDsc",i),i}function vI(e){let t=rt();if(!t)return{};let r=HL(Ut(e).trace_id||"",t,Co()),n=lf(e);if(!n)return r;let o=n&&n._frozenDynamicSamplingContext;if(o)return o;let{sampleRate:s,source:i}=n.metadata;s!=null&&(r.sample_rate=`${s}`);let a=Ut(n);return i&&i!=="url"&&(r.transaction=a.description),r.sampled=String(xg(n)),t.emit&&t.emit("createDsc",r),r}function af(e,t){let{fingerprint:r,span:n,breadcrumbs:o,sdkProcessingMetadata:s}=t;qL(e,t),n&&VL(e,n),WL(e,r),GL(e,o),zL(e,s)}function wg(e,t){let{extra:r,tags:n,user:o,contexts:s,level:i,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:l,attachments:f,propagationContext:p,transactionName:m,span:h}=t;uc(e,"extra",r),uc(e,"tags",n),uc(e,"user",o),uc(e,"contexts",s),uc(e,"sdkProcessingMetadata",a),i&&(e.level=i),m&&(e.transactionName=m),h&&(e.span=h),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),l.length&&(e.eventProcessors=[...e.eventProcessors,...l]),f.length&&(e.attachments=[...e.attachments,...f]),e.propagationContext=d(d({},e.propagationContext),p)}function uc(e,t,r){if(r&&Object.keys(r).length){e[t]=d({},e[t]);for(let n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[t][n]=r[n])}}function qL(e,t){let{extra:r,tags:n,user:o,contexts:s,level:i,transactionName:a}=t,c=Ye(r);c&&Object.keys(c).length&&(e.extra=d(d({},c),e.extra));let u=Ye(n);u&&Object.keys(u).length&&(e.tags=d(d({},u),e.tags));let l=Ye(o);l&&Object.keys(l).length&&(e.user=d(d({},l),e.user));let f=Ye(s);f&&Object.keys(f).length&&(e.contexts=d(d({},f),e.contexts)),i&&(e.level=i),a&&(e.transaction=a)}function GL(e,t){let r=[...e.breadcrumbs||[],...t];e.breadcrumbs=r.length?r:void 0}function zL(e,t){e.sdkProcessingMetadata=d(d({},e.sdkProcessingMetadata),t)}function VL(e,t){e.contexts=d({trace:Ig(t)},e.contexts);let r=lf(t);if(r){e.sdkProcessingMetadata=d({dynamicSamplingContext:vI(t)},e.sdkProcessingMetadata);let n=Ut(r).description;n&&(e.tags=d({transaction:n},e.tags))}}function WL(e,t){e.fingerprint=e.fingerprint?cg(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}var KL=100,kg,Yr=class e{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=TI()}static clone(t){return t?t.clone():new e}clone(){let t=new e;return t._breadcrumbs=[...this._breadcrumbs],t._tags=d({},this._tags),t._extra=d({},this._extra),t._contexts=d({},this._contexts),t._user=this._user,t._level=this._level,t._span=this._span,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata=d({},this._sdkProcessingMetadata),t._propagationContext=d({},this._propagationContext),t._client=this._client,t}setClient(t){this._client=t}getClient(){return this._client}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&Ls(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags=d(d({},this._tags),t),this._notifyScopeListeners(),this}setTag(t,r){return this._tags=b(d({},this._tags),{[t]:r}),this._notifyScopeListeners(),this}setExtras(t){return this._extra=d(d({},this._extra),t),this._notifyScopeListeners(),this}setExtra(t,r){return this._extra=b(d({},this._extra),{[t]:r}),this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,r){return r===null?delete this._contexts[t]:this._contexts[t]=r,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){let t=this._span;return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;let r=typeof t=="function"?t(this):t;if(r instanceof e){let n=r.getScopeData();this._tags=d(d({},this._tags),n.tags),this._extra=d(d({},this._extra),n.extra),this._contexts=d(d({},this._contexts),n.contexts),n.user&&Object.keys(n.user).length&&(this._user=n.user),n.level&&(this._level=n.level),n.fingerprint.length&&(this._fingerprint=n.fingerprint),r.getRequestSession()&&(this._requestSession=r.getRequestSession()),n.propagationContext&&(this._propagationContext=n.propagationContext)}else if(ks(r)){let n=t;this._tags=d(d({},this._tags),n.tags),this._extra=d(d({},this._extra),n.extra),this._contexts=d(d({},this._contexts),n.contexts),n.user&&(this._user=n.user),n.level&&(this._level=n.level),n.fingerprint&&(this._fingerprint=n.fingerprint),n.requestSession&&(this._requestSession=n.requestSession),n.propagationContext&&(this._propagationContext=n.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=TI(),this}addBreadcrumb(t,r){let n=typeof r=="number"?r:KL;if(n<=0)return this;let o=d({timestamp:wn()},t),s=this._breadcrumbs;return s.push(o),this._breadcrumbs=s.length>n?s.slice(-n):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){let{_breadcrumbs:t,_attachments:r,_contexts:n,_tags:o,_extra:s,_user:i,_level:a,_fingerprint:c,_eventProcessors:u,_propagationContext:l,_sdkProcessingMetadata:f,_transactionName:p,_span:m}=this;return{breadcrumbs:t,attachments:r,contexts:n,tags:o,extra:s,user:i,level:a,fingerprint:c||[],eventProcessors:u,propagationContext:l,sdkProcessingMetadata:f,transactionName:p,span:m}}applyToEvent(t,r={},n=[]){af(t,this.getScopeData());let o=[...n,...sf(),...this._eventProcessors];return Ms(o,t,r)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=d(d({},this._sdkProcessingMetadata),t),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,r){let n=r&&r.event_id?r.event_id:je();if(!this._client)return j.warn("No client configured on scope - will not capture exception!"),n;let o=new Error("Sentry syntheticException");return this._client.captureException(t,b(d({originalException:t,syntheticException:o},r),{event_id:n}),this),n}captureMessage(t,r,n){let o=n&&n.event_id?n.event_id:je();if(!this._client)return j.warn("No client configured on scope - will not capture message!"),o;let s=new Error(t);return this._client.captureMessage(t,r,b(d({originalException:t,syntheticException:s},n),{event_id:o}),this),o}captureEvent(t,r){let n=r&&r.event_id?r.event_id:je();return this._client?(this._client.captureEvent(t,b(d({},r),{event_id:n}),this),n):(j.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}};function bI(){return kg||(kg=new Yr),kg}function TI(){return{traceId:je(),spanId:je().substring(16)}}var II="7.120.2";var xI=parseFloat(II),YL=100,lc=class{constructor(t,r,n,o=xI){this._version=o;let s;r?s=r:(s=new Yr,s.setClient(t));let i;n?i=n:(i=new Yr,i.setClient(t)),this._stack=[{scope:s}],t&&this.bindClient(t),this._isolationScope=i}isOlderThan(t){return this._version<t}bindClient(t){let r=this.getStackTop();r.client=t,r.scope.setClient(t),t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){let t=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){let r=this.pushScope(),n;try{n=t(r)}catch(o){throw this.popScope(),o}return Io(n)?n.then(o=>(this.popScope(),o),o=>{throw this.popScope(),o}):(this.popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,r){let n=this._lastEventId=r&&r.event_id?r.event_id:je(),o=new Error("Sentry syntheticException");return this.getScope().captureException(t,b(d({originalException:t,syntheticException:o},r),{event_id:n})),n}captureMessage(t,r,n){let o=this._lastEventId=n&&n.event_id?n.event_id:je(),s=new Error(t);return this.getScope().captureMessage(t,r,b(d({originalException:t,syntheticException:s},n),{event_id:o})),o}captureEvent(t,r){let n=r&&r.event_id?r.event_id:je();return t.type||(this._lastEventId=n),this.getScope().captureEvent(t,b(d({},r),{event_id:n})),n}lastEventId(){return this._lastEventId}addBreadcrumb(t,r){let{scope:n,client:o}=this.getStackTop();if(!o)return;let{beforeBreadcrumb:s=null,maxBreadcrumbs:i=YL}=o.getOptions&&o.getOptions()||{};if(i<=0)return;let a=wn(),c=d({timestamp:a},t),u=s?vn(()=>s(c,r)):c;u!==null&&(o.emit&&o.emit("beforeAddBreadcrumb",u,r),n.addBreadcrumb(u,i))}setUser(t){this.getScope().setUser(t),this.getIsolationScope().setUser(t)}setTags(t){this.getScope().setTags(t),this.getIsolationScope().setTags(t)}setExtras(t){this.getScope().setExtras(t),this.getIsolationScope().setExtras(t)}setTag(t,r){this.getScope().setTag(t,r),this.getIsolationScope().setTag(t,r)}setExtra(t,r){this.getScope().setExtra(t,r),this.getIsolationScope().setExtra(t,r)}setContext(t,r){this.getScope().setContext(t,r),this.getIsolationScope().setContext(t,r)}configureScope(t){let{scope:r,client:n}=this.getStackTop();n&&t(r)}run(t){let r=Ag(this);try{t(this)}finally{Ag(r)}}getIntegration(t){let r=this.getClient();if(!r)return null;try{return r.getIntegration(t)}catch(n){return $s&&j.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,r){let n=this._callExtensionMethod("startTransaction",t,r);return $s&&!n&&(this.getClient()?j.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):j.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){let r=this.getStackTop().scope,n=r.getSession();n&&_I(n),this._sendSessionUpdate(),r.setSession()}startSession(t){let{scope:r,client:n}=this.getStackTop(),{release:o,environment:s=Ds}=n&&n.getOptions()||{},{userAgent:i}=te.navigator||{},a=yI(d(d({release:o,environment:s,user:r.getUser()},i&&{userAgent:i}),t)),c=r.getSession&&r.getSession();return c&&c.status==="ok"&&Ls(c,{status:"exited"}),this.endSession(),r.setSession(a),a}shouldSendDefaultPii(){let t=this.getClient(),r=t&&t.getOptions();return!!(r&&r.sendDefaultPii)}_sendSessionUpdate(){let{scope:t,client:r}=this.getStackTop(),n=t.getSession();n&&r&&r.captureSession&&r.captureSession(n)}_callExtensionMethod(t,...r){let o=fc().__SENTRY__;if(o&&o.extensions&&typeof o.extensions[t]=="function")return o.extensions[t].apply(this,r);$s&&j.warn(`Extension method ${t} couldn't be found, doing nothing.`)}};function fc(){return te.__SENTRY__=te.__SENTRY__||{extensions:{},hub:void 0},te}function Ag(e){let t=fc(),r=ff(t);return Ng(t,e),r}function Cn(){let e=fc();if(e.__SENTRY__&&e.__SENTRY__.acs){let t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return JL(e)}function uf(){return Cn().getIsolationScope()}function JL(e=fc()){return(!XL(e)||ff(e).isOlderThan(xI))&&Ng(e,new lc),ff(e)}function XL(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function ff(e){return rc("hub",()=>new lc,e)}function Ng(e,t){if(!e)return!1;let r=e.__SENTRY__=e.__SENTRY__||{};return r.hub=t,!0}var Pg="sentry.source";function $g(e){let t=rt();!t||!t.addEventProcessor||t.addEventProcessor(e)}function Dg(e,t){let r=t&&eF(t)?t.getClient():t,n=r&&r.getDsn(),o=r&&r.getOptions().tunnel;return QL(e,n)||ZL(e,o)}function ZL(e,t){return t?wI(e)===wI(t):!1}function QL(e,t){return t?e.includes(t.host):!1}function wI(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function eF(e){return e.getClient!==void 0}var CI=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;var Ue=te;var OI=(e,t,r)=>{let n,o;return s=>{t.value>=0&&(s||r)&&(o=t.value-(n||0),(o||n===void 0)&&(n=t.value,t.delta=o,e(t)))}};var RI=()=>`v3-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`;var tF=()=>{let e=Ue.performance.timing,t=Ue.performance.navigation.type,r={entryType:"navigation",startTime:0,type:t==2?"back_forward":t===1?"reload":"navigate"};for(let n in e)n!=="navigationStart"&&n!=="toJSON"&&(r[n]=Math.max(e[n]-e.navigationStart,0));return r},df=()=>Ue.__WEB_VITALS_POLYFILL__?Ue.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||tF()):Ue.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];var pf=()=>{let e=df();return e&&e.activationStart||0};var kI=(e,t)=>{let r=df(),n="navigate";return r&&(Ue.document&&Ue.document.prerendering||pf()>0?n="prerender":n=r.type.replace(/_/g,"-")),{name:e,value:typeof t=="undefined"?-1:t,rating:"good",delta:0,entries:[],id:RI(),navigationType:n}};var mf=(e,t,r)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let n=new PerformanceObserver(o=>{t(o.getEntries())});return n.observe(Object.assign({type:e,buffered:!0},r||{})),n}}catch(n){}};var hf=(e,t)=>{let r=n=>{(n.type==="pagehide"||Ue.document.visibilityState==="hidden")&&(e(n),t&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))};Ue.document&&(addEventListener("visibilitychange",r,!0),addEventListener("pagehide",r,!0))};var gf=-1,rF=()=>{Ue.document&&Ue.document.visibilityState&&(gf=Ue.document.visibilityState==="hidden"&&!Ue.document.prerendering?0:1/0)},nF=()=>{hf(({timeStamp:e})=>{gf=e},!0)},AI=()=>(gf<0&&(rF(),nF()),{get firstHiddenTime(){return gf}});var NI={},PI=e=>{let t=AI(),r=kI("LCP"),n,o=i=>{let a=i[i.length-1];if(a){let c=Math.max(a.startTime-pf(),0);c<t.firstHiddenTime&&(r.value=c,r.entries=[a],n())}},s=mf("largest-contentful-paint",o);if(s){n=OI(e,r);let i=()=>{NI[r.id]||(o(s.takeRecords()),s.disconnect(),NI[r.id]=!0,n(!0))};return["keydown","click"].forEach(a=>{Ue.document&&addEventListener(a,i,{once:!0,capture:!0})}),hf(i,!0),i}};var dc={},yf={};var $I;function Mg(e,t=!1){return sF("lcp",e,oF,$I,t)}function Lg(e,t){return MI(e,t),yf[e]||(iF(e),yf[e]=!0),LI(e,t)}function DI(e,t){let r=dc[e];if(!(!r||!r.length))for(let n of r)try{n(t)}catch(o){CI&&j.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${wo(n)}
Error:`,o)}}function oF(){return PI(e=>{DI("lcp",{metric:e}),$I=e})}function sF(e,t,r,n,o=!1){MI(e,t);let s;return yf[e]||(s=r(),yf[e]=!0),n&&t({metric:n}),LI(e,t,o?s:void 0)}function iF(e){let t={};e==="event"&&(t.durationThreshold=0),mf(e,r=>{DI(e,{entries:r})},t)}function MI(e,t){dc[e]=dc[e]||[],dc[e].push(t)}function LI(e,t,r){return()=>{r&&r();let n=dc[e];if(!n)return;let o=n.indexOf(t);o!==-1&&n.splice(o,1)}}var be=te,cy="sentryReplaySession",aF="replay_event",uy="Unable to send Replay",cF=3e5,uF=9e5,lF=5e3,fF=5500,dF=6e4,pF=5e3,mF=3,FI=15e4,_f=5e3,hF=3e3,gF=300,ly=2e7,yF=4999,_F=15e3,jI=36e5;function SF(e,t){return e!=null?e:t()}function bf(e){let t,r=e[0],n=1;for(;n<e.length;){let o=e[n],s=e[n+1];if(n+=2,(o==="optionalAccess"||o==="optionalCall")&&r==null)return;o==="access"||o==="optionalAccess"?(t=r,r=s(r)):(o==="call"||o==="optionalCall")&&(r=s((...i)=>r.call(t,...i)),t=void 0)}return r}var He;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(He||(He={}));function EF(e){return e.nodeType===e.ELEMENT_NODE}function mc(e){let t=bf([e,"optionalAccess",r=>r.host]);return bf([t,"optionalAccess",r=>r.shadowRoot])===e}function hc(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function bF(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),e}function vF(e){let{cssText:t}=e;if(t.split('"').length<3)return t;let r=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?r.push("layer"):e.layerName&&r.push(`layer(${e.layerName})`),e.supportsText&&r.push(`supports(${e.supportsText})`),e.media.length&&r.push(e.media.mediaText),r.join(" ")+";"}function vf(e){try{let t=e.rules||e.cssRules;return t?bF(Array.from(t,ix).join("")):null}catch(t){return null}}function ix(e){let t;if(IF(e))try{t=vf(e.styleSheet)||vF(e)}catch(r){}else if(xF(e)&&e.selectorText.includes(":"))return TF(e.cssText);return t||e.cssText}function TF(e){let t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function IF(e){return"styleSheet"in e}function xF(e){return"selectorText"in e}var Tf=class{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){if(!t)return-1;let r=bf([this,"access",n=>n.getMeta,"call",n=>n(t),"optionalAccess",n=>n.id]);return SF(r,()=>-1)}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){let r=this.getId(t);this.idNodeMap.delete(r),t.childNodes&&t.childNodes.forEach(n=>this.removeNodeFromMap(n))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,r){let n=r.id;this.idNodeMap.set(n,t),this.nodeMetaMap.set(t,r)}replace(t,r){let n=this.getNode(t);if(n){let o=this.nodeMetaMap.get(n);o&&this.nodeMetaMap.set(r,o)}this.idNodeMap.set(t,r)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function wF(){return new Tf}function Mf({maskInputOptions:e,tagName:t,type:r}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||r&&e[r]||r==="password"||t==="INPUT"&&!r&&e.text)}function yc({isMasked:e,element:t,value:r,maskInputFn:n}){let o=r||"";return e?(n&&(o=n(o,t)),"*".repeat(o.length)):o}function zs(e){return e.toLowerCase()}function Ug(e){return e.toUpperCase()}var BI="__rrweb_original__";function CF(e){let t=e.getContext("2d");if(!t)return!0;let r=50;for(let n=0;n<e.width;n+=r)for(let o=0;o<e.height;o+=r){let s=t.getImageData,i=BI in s?s[BI]:s;if(new Uint32Array(i.call(t,n,o,Math.min(r,e.width-n),Math.min(r,e.height-o)).data.buffer).some(c=>c!==0))return!1}return!0}function fy(e){let t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?zs(t):null}function If(e,t,r){return t==="INPUT"&&(r==="radio"||r==="checkbox")?e.getAttribute("value")||"":e.value}var OF=1,RF=new RegExp("[^a-z0-9-_:]"),_c=-2;function dy(){return OF++}function kF(e){if(e instanceof HTMLFormElement)return"form";let t=zs(e.tagName);return RF.test(t)?"div":t}function AF(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}var Fs,UI,NF=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,PF=/^(?:[a-z+]+:)?\/\//i,$F=/^www\..*/i,DF=/^(data:)([^,]*),(.*)/i;function xf(e,t){return(e||"").replace(NF,(r,n,o,s,i,a)=>{let c=o||i||a,u=n||s||"";if(!c)return r;if(PF.test(c)||$F.test(c))return`url(${u}${c}${u})`;if(DF.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${AF(t)+c}${u})`;let l=t.split("/"),f=c.split("/");l.pop();for(let p of f)p!=="."&&(p===".."?l.pop():l.push(p));return`url(${u}${l.join("/")}${u})`})}var MF=/^[^ \t\n\r\u000c]+/,LF=/^[, \t\n\r\u000c]+/;function FF(e,t){if(t.trim()==="")return t;let r=0;function n(s){let i,a=s.exec(t.substring(r));return a?(i=a[0],r+=i.length,i):""}let o=[];for(;n(LF),!(r>=t.length);){let s=n(MF);if(s.slice(-1)===",")s=Bs(e,s.substring(0,s.length-1)),o.push(s);else{let i="";s=Bs(e,s);let a=!1;for(;;){let c=t.charAt(r);if(c===""){o.push((s+i).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){r+=1,o.push((s+i).trim());break}else c==="("&&(a=!0);i+=c,r+=1}}}return o.join(", ")}function Bs(e,t){if(!t||t.trim()==="")return t;let r=e.createElement("a");return r.href=t,r.href}function jF(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function py(){let e=document.createElement("a");return e.href="",e.href}function ax(e,t,r,n,o,s){return n&&(r==="src"||r==="href"&&!(t==="use"&&n[0]==="#")||r==="xlink:href"&&n[0]!=="#"||r==="background"&&(t==="table"||t==="td"||t==="th")?Bs(e,n):r==="srcset"?FF(e,n):r==="style"?xf(n,py()):t==="object"&&r==="data"?Bs(e,n):typeof s=="function"?s(r,n,o):n)}function cx(e,t,r){return(e==="video"||e==="audio")&&t==="autoplay"}function BF(e,t,r,n){try{if(n&&e.matches(n))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let o=e.classList.length;o--;){let s=e.classList[o];if(t.test(s))return!0}if(r)return e.matches(r)}catch(o){}return!1}function UF(e,t){for(let r=e.classList.length;r--;){let n=e.classList[r];if(t.test(n))return!0}return!1}function Oo(e,t,r=1/0,n=0){return!e||e.nodeType!==e.ELEMENT_NODE||n>r?-1:t(e)?n:Oo(e.parentNode,t,r,n+1)}function Us(e,t){return r=>{let n=r;if(n===null)return!1;try{if(e){if(typeof e=="string"){if(n.matches(`.${e}`))return!0}else if(UF(n,e))return!0}return!!(t&&n.matches(t))}catch(o){return!1}}}function Vs(e,t,r,n,o,s){try{let i=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(i===null)return!1;if(i.tagName==="INPUT"){let u=i.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(s){if(c=Oo(i,Us(n,o)),c<0)return!0;a=Oo(i,Us(t,r),c>=0?c:1/0)}else{if(a=Oo(i,Us(t,r)),a<0)return!1;c=Oo(i,Us(n,o),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!s}catch(i){}return!!s}function HF(e,t,r){let n=e.contentWindow;if(!n)return;let o=!1,s;try{s=n.document.readyState}catch(a){return}if(s!=="complete"){let a=setTimeout(()=>{o||(t(),o=!0)},r);e.addEventListener("load",()=>{clearTimeout(a),o=!0,t()});return}let i="about:blank";if(n.location.href!==i||e.src===i||e.src==="")return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function qF(e,t,r){let n=!1,o;try{o=e.sheet}catch(i){return}if(o)return;let s=setTimeout(()=>{n||(t(),n=!0)},r);e.addEventListener("load",()=>{clearTimeout(s),n=!0,t()})}function GF(e,t){let{doc:r,mirror:n,blockClass:o,blockSelector:s,unblockSelector:i,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:m,maskInputOptions:h={},maskTextFn:_,maskInputFn:y,dataURLOptions:g={},inlineImages:S,recordCanvas:T,keepIframeSrcFn:x,newlyAddedElement:I=!1}=t,C=zF(r,n);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:He.Document,childNodes:[],compatMode:e.compatMode}:{type:He.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:He.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:C};case e.ELEMENT_NODE:return WF(e,{doc:r,blockClass:o,blockSelector:s,unblockSelector:i,inlineStylesheet:m,maskAttributeFn:c,maskInputOptions:h,maskInputFn:y,dataURLOptions:g,inlineImages:S,recordCanvas:T,keepIframeSrcFn:x,newlyAddedElement:I,rootId:C,maskAllText:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p});case e.TEXT_NODE:return VF(e,{maskAllText:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,maskTextFn:_,maskInputOptions:h,maskInputFn:y,rootId:C});case e.CDATA_SECTION_NODE:return{type:He.CDATA,textContent:"",rootId:C};case e.COMMENT_NODE:return{type:He.Comment,textContent:e.textContent||"",rootId:C};default:return!1}}function zF(e,t){if(!t.hasNode(e))return;let r=t.getId(e);return r===1?void 0:r}function VF(e,t){let{maskAllText:r,maskTextClass:n,unmaskTextClass:o,maskTextSelector:s,unmaskTextSelector:i,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:l}=t,f=e.parentNode&&e.parentNode.tagName,p=e.textContent,m=f==="STYLE"?!0:void 0,h=f==="SCRIPT"?!0:void 0,_=f==="TEXTAREA"?!0:void 0;if(m&&p){try{e.nextSibling||e.previousSibling||bf([e,"access",g=>g.parentNode,"access",g=>g.sheet,"optionalAccess",g=>g.cssRules])&&(p=vf(e.parentNode.sheet))}catch(g){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${g}`,e)}p=xf(p,py())}h&&(p="SCRIPT_PLACEHOLDER");let y=Vs(e,n,s,o,i,r);if(!m&&!h&&!_&&p&&y&&(p=a?a(p,e.parentElement):p.replace(/[\S]/g,"*")),_&&p&&(c.textarea||y)&&(p=u?u(p,e.parentNode):p.replace(/[\S]/g,"*")),f==="OPTION"&&p){let g=Mf({type:null,tagName:f,maskInputOptions:c});p=yc({isMasked:Vs(e,n,s,o,i,g),element:e,value:p,maskInputFn:u})}return{type:He.Text,textContent:p||"",isStyle:m,rootId:l}}function WF(e,t){let{doc:r,blockClass:n,blockSelector:o,unblockSelector:s,inlineStylesheet:i,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:l={},inlineImages:f,recordCanvas:p,keepIframeSrcFn:m,newlyAddedElement:h=!1,rootId:_,maskAllText:y,maskTextClass:g,unmaskTextClass:S,maskTextSelector:T,unmaskTextSelector:x}=t,I=BF(e,n,o,s),C=kF(e),w={},B=e.attributes.length;for(let R=0;R<B;R++){let $=e.attributes[R];$.name&&!cx(C,$.name,$.value)&&(w[$.name]=ax(r,C,zs($.name),$.value,e,c))}if(C==="link"&&i){let R=Array.from(r.styleSheets).find(ie=>ie.href===e.href),$=null;R&&($=vf(R)),$&&(delete w.rel,delete w.href,w._cssText=xf($,R.href))}if(C==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){let R=vf(e.sheet);R&&(w._cssText=xf(R,py()))}if(C==="input"||C==="textarea"||C==="select"||C==="option"){let R=e,$=fy(R),ie=If(R,Ug(C),$),ve=R.checked;if($!=="submit"&&$!=="button"&&ie){let Me=Vs(R,g,T,S,x,Mf({type:$,tagName:Ug(C),maskInputOptions:a}));w.value=yc({isMasked:Me,element:R,value:ie,maskInputFn:u})}ve&&(w.checked=ve)}if(C==="option"&&(e.selected&&!a.select?w.selected=!0:delete w.selected),C==="canvas"&&p){if(e.__context==="2d")CF(e)||(w.rr_dataURL=e.toDataURL(l.type,l.quality));else if(!("__context"in e)){let R=e.toDataURL(l.type,l.quality),$=document.createElement("canvas");$.width=e.width,$.height=e.height;let ie=$.toDataURL(l.type,l.quality);R!==ie&&(w.rr_dataURL=R)}}if(C==="img"&&f){Fs||(Fs=r.createElement("canvas"),UI=Fs.getContext("2d"));let R=e,$=R.crossOrigin;R.crossOrigin="anonymous";let ie=()=>{R.removeEventListener("load",ie);try{Fs.width=R.naturalWidth,Fs.height=R.naturalHeight,UI.drawImage(R,0,0),w.rr_dataURL=Fs.toDataURL(l.type,l.quality)}catch(ve){console.warn(`Cannot inline img src=${R.currentSrc}! Error: ${ve}`)}$?w.crossOrigin=$:R.removeAttribute("crossorigin")};R.complete&&R.naturalWidth!==0?ie():R.addEventListener("load",ie)}if((C==="audio"||C==="video")&&(w.rr_mediaState=e.paused?"paused":"played",w.rr_mediaCurrentTime=e.currentTime),h||(e.scrollLeft&&(w.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(w.rr_scrollTop=e.scrollTop)),I){let{width:R,height:$}=e.getBoundingClientRect();w={class:w.class,rr_width:`${R}px`,rr_height:`${$}px`}}C==="iframe"&&!m(w.src)&&(e.contentDocument||(w.rr_src=w.src),delete w.src);let fe;try{customElements.get(C)&&(fe=!0)}catch(R){}return{type:He.Element,tagName:C,attributes:w,childNodes:[],isSVG:jF(e)||void 0,needBlock:I,rootId:_,isCustom:fe}}function Ee(e){return e==null?"":e.toLowerCase()}function KF(e,t){if(t.comment&&e.type===He.Comment)return!0;if(e.type===He.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")&&e.attributes.as==="script"||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&e.attributes.href.endsWith(".js")))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(Ee(e.attributes.name).match(/^msapplication-tile(image|color)$/)||Ee(e.attributes.name)==="application-name"||Ee(e.attributes.rel)==="icon"||Ee(e.attributes.rel)==="apple-touch-icon"||Ee(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&Ee(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(Ee(e.attributes.property).match(/^(og|twitter|fb):/)||Ee(e.attributes.name).match(/^(og|twitter):/)||Ee(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(Ee(e.attributes.name)==="robots"||Ee(e.attributes.name)==="googlebot"||Ee(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(Ee(e.attributes.name)==="author"||Ee(e.attributes.name)==="generator"||Ee(e.attributes.name)==="framework"||Ee(e.attributes.name)==="publisher"||Ee(e.attributes.name)==="progid"||Ee(e.attributes.property).match(/^article:/)||Ee(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(Ee(e.attributes.name)==="google-site-verification"||Ee(e.attributes.name)==="yandex-verification"||Ee(e.attributes.name)==="csrf-token"||Ee(e.attributes.name)==="p:domain_verify"||Ee(e.attributes.name)==="verify-v1"||Ee(e.attributes.name)==="verification"||Ee(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Hs(e,t){let{doc:r,mirror:n,blockClass:o,blockSelector:s,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:f,skipChild:p=!1,inlineStylesheet:m=!0,maskInputOptions:h={},maskAttributeFn:_,maskTextFn:y,maskInputFn:g,slimDOMOptions:S,dataURLOptions:T={},inlineImages:x=!1,recordCanvas:I=!1,onSerialize:C,onIframeLoad:w,iframeLoadTimeout:B=5e3,onStylesheetLoad:fe,stylesheetLoadTimeout:R=5e3,keepIframeSrcFn:$=()=>!1,newlyAddedElement:ie=!1}=t,{preserveWhiteSpace:ve=!0}=t,Me=GF(e,{doc:r,mirror:n,blockClass:o,blockSelector:s,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:f,inlineStylesheet:m,maskInputOptions:h,maskAttributeFn:_,maskTextFn:y,maskInputFn:g,dataURLOptions:T,inlineImages:x,recordCanvas:I,keepIframeSrcFn:$,newlyAddedElement:ie});if(!Me)return console.warn(e,"not serialized"),null;let xt;n.hasNode(e)?xt=n.getId(e):KF(Me,S)||!ve&&Me.type===He.Text&&!Me.isStyle&&!Me.textContent.replace(/^\s+|\s+$/gm,"").length?xt=_c:xt=dy();let me=Object.assign(Me,{id:xt});if(n.add(e,me),xt===_c)return null;C&&C(e);let Rt=!p;if(me.type===He.Element){Rt=Rt&&!me.needBlock,delete me.needBlock;let Le=e.shadowRoot;Le&&hc(Le)&&(me.isShadowHost=!0)}if((me.type===He.Document||me.type===He.Element)&&Rt){S.headWhitespace&&me.type===He.Element&&me.tagName==="head"&&(ve=!1);let Le={doc:r,mirror:n,blockClass:o,blockSelector:s,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:f,skipChild:p,inlineStylesheet:m,maskInputOptions:h,maskAttributeFn:_,maskTextFn:y,maskInputFn:g,slimDOMOptions:S,dataURLOptions:T,inlineImages:x,recordCanvas:I,preserveWhiteSpace:ve,onSerialize:C,onIframeLoad:w,iframeLoadTimeout:B,onStylesheetLoad:fe,stylesheetLoadTimeout:R,keepIframeSrcFn:$};for(let mt of Array.from(e.childNodes)){let Xt=Hs(mt,Le);Xt&&me.childNodes.push(Xt)}if(EF(e)&&e.shadowRoot)for(let mt of Array.from(e.shadowRoot.childNodes)){let Xt=Hs(mt,Le);Xt&&(hc(e.shadowRoot)&&(Xt.isShadow=!0),me.childNodes.push(Xt))}}return e.parentNode&&mc(e.parentNode)&&hc(e.parentNode)&&(me.isShadow=!0),me.type===He.Element&&me.tagName==="iframe"&&HF(e,()=>{let Le=e.contentDocument;if(Le&&w){let mt=Hs(Le,{doc:Le,mirror:n,blockClass:o,blockSelector:s,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:f,skipChild:!1,inlineStylesheet:m,maskInputOptions:h,maskAttributeFn:_,maskTextFn:y,maskInputFn:g,slimDOMOptions:S,dataURLOptions:T,inlineImages:x,recordCanvas:I,preserveWhiteSpace:ve,onSerialize:C,onIframeLoad:w,iframeLoadTimeout:B,onStylesheetLoad:fe,stylesheetLoadTimeout:R,keepIframeSrcFn:$});mt&&w(e,mt)}},B),me.type===He.Element&&me.tagName==="link"&&me.attributes.rel==="stylesheet"&&qF(e,()=>{if(fe){let Le=Hs(e,{doc:r,mirror:n,blockClass:o,blockSelector:s,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:f,skipChild:!1,inlineStylesheet:m,maskInputOptions:h,maskAttributeFn:_,maskTextFn:y,maskInputFn:g,slimDOMOptions:S,dataURLOptions:T,inlineImages:x,recordCanvas:I,preserveWhiteSpace:ve,onSerialize:C,onIframeLoad:w,iframeLoadTimeout:B,onStylesheetLoad:fe,stylesheetLoadTimeout:R,keepIframeSrcFn:$});Le&&fe(e,Le)}},R),me}function YF(e,t){let{mirror:r=new Tf,blockClass:n="rr-block",blockSelector:o=null,unblockSelector:s=null,maskAllText:i=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:l=null,inlineStylesheet:f=!0,inlineImages:p=!1,recordCanvas:m=!1,maskAllInputs:h=!1,maskAttributeFn:_,maskTextFn:y,maskInputFn:g,slimDOM:S=!1,dataURLOptions:T,preserveWhiteSpace:x,onSerialize:I,onIframeLoad:C,iframeLoadTimeout:w,onStylesheetLoad:B,stylesheetLoadTimeout:fe,keepIframeSrcFn:R=()=>!1}=t||{};return Hs(e,{doc:e,mirror:r,blockClass:n,blockSelector:o,unblockSelector:s,maskAllText:i,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:f,maskInputOptions:h===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:h===!1?{}:h,maskAttributeFn:_,maskTextFn:y,maskInputFn:g,slimDOMOptions:S===!0||S==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:S==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:S===!1?{}:S,dataURLOptions:T,inlineImages:p,recordCanvas:m,preserveWhiteSpace:x,onSerialize:I,onIframeLoad:C,iframeLoadTimeout:w,onStylesheetLoad:B,stylesheetLoadTimeout:fe,keepIframeSrcFn:R,newlyAddedElement:!1})}function On(e){let t,r=e[0],n=1;for(;n<e.length;){let o=e[n],s=e[n+1];if(n+=2,(o==="optionalAccess"||o==="optionalCall")&&r==null)return;o==="access"||o==="optionalAccess"?(t=r,r=s(r)):(o==="call"||o==="optionalCall")&&(r=s((...i)=>r.call(t,...i)),t=void 0)}return r}function ft(e,t,r=document){let n={capture:!0,passive:!0};return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}var js=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,HI={map:{},getId(){return console.error(js),-1},getNode(){return console.error(js),null},removeNodeFromMap(){console.error(js)},has(){return console.error(js),!1},reset(){console.error(js)}};typeof window!="undefined"&&window.Proxy&&window.Reflect&&(HI=new Proxy(HI,{get(e,t,r){return t==="map"&&console.error(js),Reflect.get(e,t,r)}}));function Sc(e,t,r={}){let n=null,o=0;return function(...s){let i=Date.now();!o&&r.leading===!1&&(o=i);let a=t-(i-o),c=this;a<=0||a>t?(n&&(tj(n),n=null),o=i,e.apply(c,s)):!n&&r.trailing!==!1&&(n=Lf(()=>{o=r.leading===!1?0:Date.now(),n=null,e.apply(c,s)},a))}}function ux(e,t,r,n,o=window){let s=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,n?r:{set(i){Lf(()=>{r.set.call(this,i)},0),s&&s.set&&s.set.call(this,i)}}),()=>ux(e,t,s||{},!0)}function my(e,t,r){try{if(!(t in e))return()=>{};let n=e[t],o=r(n);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:n}})),e[t]=o,()=>{e[t]=n}}catch(n){return()=>{}}}var wf=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(wf=()=>new Date().getTime());function lx(e){let t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:On([t,"optionalAccess",r=>r.documentElement,"access",r=>r.scrollLeft])||On([t,"optionalAccess",r=>r.body,"optionalAccess",r=>r.parentElement,"optionalAccess",r=>r.scrollLeft])||On([t,"optionalAccess",r=>r.body,"optionalAccess",r=>r.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:On([t,"optionalAccess",r=>r.documentElement,"access",r=>r.scrollTop])||On([t,"optionalAccess",r=>r.body,"optionalAccess",r=>r.parentElement,"optionalAccess",r=>r.scrollTop])||On([t,"optionalAccess",r=>r.body,"optionalAccess",r=>r.scrollTop])||0}}function fx(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function dx(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function px(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function dr(e,t,r,n,o){if(!e)return!1;let s=px(e);if(!s)return!1;let i=Us(t,r);if(!o){let u=n&&s.matches(n);return i(s)&&!u}let a=Oo(s,i),c=-1;return a<0?!1:(n&&(c=Oo(s,Us(null,n))),a>-1&&c<0?!0:a<c)}function JF(e,t){return t.getId(e)!==-1}function Fg(e,t){return t.getId(e)===_c}function mx(e,t){if(mc(e))return!1;let r=t.getId(e);return t.has(r)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?mx(e.parentNode,t):!0:!0}function Hg(e){return!!e.changedTouches}function XF(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let r=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===r)return!0;while(r=r&&r.parentNode);return!1})}function hx(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function gx(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function qg(e){return!!On([e,"optionalAccess",t=>t.shadowRoot])}var Gg=class{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return Tg(this.styleIDMap.get(t),()=>-1)}has(t){return this.styleIDMap.has(t)}add(t,r){if(this.has(t))return this.getId(t);let n;return r===void 0?n=this.id++:n=r,this.styleIDMap.set(t,n),this.idStyleMap.set(n,t),n}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}};function yx(e){let t=null;return On([e,"access",r=>r.getRootNode,"optionalCall",r=>r(),"optionalAccess",r=>r.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function ZF(e){let t=e,r;for(;r=yx(t);)t=r;return t}function QF(e){let t=e.ownerDocument;if(!t)return!1;let r=ZF(e);return t.contains(r)}function _x(e){let t=e.ownerDocument;return t?t.contains(e)||QF(e):!1}var qI={};function hy(e){let t=qI[e];if(t)return t;let r=window.document,n=window[e];if(r&&typeof r.createElement=="function")try{let o=r.createElement("iframe");o.hidden=!0,r.head.appendChild(o);let s=o.contentWindow;s&&s[e]&&(n=s[e]),r.head.removeChild(o)}catch(o){}return qI[e]=n.bind(window)}function ej(...e){return hy("requestAnimationFrame")(...e)}function Lf(...e){return hy("setTimeout")(...e)}function tj(...e){return hy("clearTimeout")(...e)}var W=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(W||{}),K=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(K||{}),ut=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(ut||{}),Jr=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Jr||{});function rj(e){let t,r=e[0],n=1;for(;n<e.length;){let o=e[n],s=e[n+1];if(n+=2,(o==="optionalAccess"||o==="optionalCall")&&r==null)return;o==="access"||o==="optionalAccess"?(t=r,r=s(r)):(o==="call"||o==="optionalCall")&&(r=s((...i)=>r.call(t,...i)),t=void 0)}return r}function GI(e){return"__ln"in e}var zg=class{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let r=this.head;for(let n=0;n<t;n++)r=rj([r,"optionalAccess",o=>o.next])||null;return r}addNode(t){let r={value:t,previous:null,next:null};if(t.__ln=r,t.previousSibling&&GI(t.previousSibling)){let n=t.previousSibling.__ln.next;r.next=n,r.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=r,n&&(n.previous=r)}else if(t.nextSibling&&GI(t.nextSibling)&&t.nextSibling.__ln.previous){let n=t.nextSibling.__ln.previous;r.previous=n,r.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=r,n&&(n.next=r)}else this.head&&(this.head.previous=r),r.next=this.head,this.head=r;r.next===null&&(this.tail=r),this.length++}removeNode(t){let r=t.__ln;this.head&&(r.previous?(r.previous.next=r.next,r.next?r.next.previous=r.previous:this.tail=r.previous):(this.head=r.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}},zI=(e,t)=>`${e}@${t}`,Vg=class{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;let t=[],r=new Set,n=new zg,o=c=>{let u=c,l=_c;for(;l===_c;)u=u&&u.nextSibling,l=u&&this.mirror.getId(u);return l},s=c=>{if(!c.parentNode||!_x(c))return;let u=mc(c.parentNode)?this.mirror.getId(yx(c)):this.mirror.getId(c.parentNode),l=o(c);if(u===-1||l===-1)return n.addNode(c);let f=Hs(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:p=>{hx(p,this.mirror)&&this.iframeManager.addIframe(p),gx(p,this.mirror)&&this.stylesheetManager.trackLinkElement(p),qg(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(p,m)=>{this.iframeManager.attachIframe(p,m),this.shadowDomManager.observeAttachShadow(p)},onStylesheetLoad:(p,m)=>{this.stylesheetManager.attachLinkElement(p,m)}});f&&(t.push({parentId:u,nextId:l,node:f}),r.add(f.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let c of this.movedSet)VI(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||s(c);for(let c of this.addedSet)!WI(this.droppedSet,c)&&!VI(this.removes,c,this.mirror)||WI(this.movedSet,c)?s(c):this.droppedSet.add(c);let i=null;for(;n.length;){let c=null;if(i){let u=this.mirror.getId(i.value.parentNode),l=o(i.value);u!==-1&&l!==-1&&(c=i)}if(!c){let u=n.tail;for(;u;){let l=u;if(u=u.previous,l){let f=this.mirror.getId(l.value.parentNode);if(o(l.value)===-1)continue;if(f!==-1){c=l;break}else{let m=l.value;if(m.parentNode&&m.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let h=m.parentNode.host;if(this.mirror.getId(h)!==-1){c=l;break}}}}}}if(!c){for(;n.head;)n.removeNode(n.head.value);break}i=c.previous,n.removeNode(c.value),s(c.value)}let a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!r.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{let{attributes:u}=c;if(typeof u.style=="string"){let l=JSON.stringify(c.styleDiff),f=JSON.stringify(c._unchangedStyles);l.length<u.style.length&&(l+f).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!r.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!Fg(t.target,this.mirror))switch(t.type){case"characterData":{let r=t.target.textContent;!dr(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&r!==t.oldValue&&this.texts.push({value:Vs(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&r?this.maskTextFn?this.maskTextFn(r,px(t.target)):r.replace(/[\S]/g,"*"):r,node:t.target});break}case"attributes":{let r=t.target,n=t.attributeName,o=t.target.getAttribute(n);if(n==="value"){let i=fy(r),a=r.tagName;o=If(r,a,i);let c=Mf({maskInputOptions:this.maskInputOptions,tagName:a,type:i}),u=Vs(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);o=yc({isMasked:u,element:r,value:o,maskInputFn:this.maskInputFn})}if(dr(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||o===t.oldValue)return;let s=this.attributeMap.get(t.target);if(r.tagName==="IFRAME"&&n==="src"&&!this.keepIframeSrcFn(o))if(!r.contentDocument)n="rr_src";else return;if(s||(s={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(s),this.attributeMap.set(t.target,s)),n==="type"&&r.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&r.setAttribute("data-rr-is-password","true"),!cx(r.tagName,n)&&(s.attributes[n]=ax(this.doc,zs(r.tagName),zs(n),o,r,this.maskAttributeFn),n==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(a){this.unattachedDoc=this.doc}let i=this.unattachedDoc.createElement("span");t.oldValue&&i.setAttribute("style",t.oldValue);for(let a of Array.from(r.style)){let c=r.style.getPropertyValue(a),u=r.style.getPropertyPriority(a);c!==i.style.getPropertyValue(a)||u!==i.style.getPropertyPriority(a)?u===""?s.styleDiff[a]=c:s.styleDiff[a]=[c,u]:s._unchangedStyles[a]=[c,u]}for(let a of Array.from(i.style))r.style.getPropertyValue(a)===""&&(s.styleDiff[a]=!1)}break}case"childList":{if(dr(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(r=>this.genAdds(r,t.target)),t.removedNodes.forEach(r=>{let n=this.mirror.getId(r),o=mc(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);dr(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Fg(r,this.mirror)||!JF(r,this.mirror)||(this.addedSet.has(r)?(Wg(this.addedSet,r),this.droppedSet.add(r)):this.addedSet.has(t.target)&&n===-1||mx(t.target,this.mirror)||(this.movedSet.has(r)&&this.movedMap[zI(n,o)]?Wg(this.movedSet,r):this.removes.push({parentId:o,id:n,isShadow:mc(t.target)&&hc(t.target)?!0:void 0})),this.mapRemoves.push(r))});break}}},this.genAdds=(t,r)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(Fg(t,this.mirror))return;this.movedSet.add(t);let n=null;r&&this.mirror.hasNode(r)&&(n=this.mirror.getId(r)),n&&n!==-1&&(this.movedMap[zI(this.mirror.getId(t),n)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);dr(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(n=>this.genAdds(n)),qg(t)&&t.shadowRoot.childNodes.forEach(n=>{this.processedNodeManager.add(n,this),this.genAdds(n,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(r=>{this[r]=t[r]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}};function Wg(e,t){e.delete(t),t.childNodes.forEach(r=>Wg(e,r))}function VI(e,t,r){return e.length===0?!1:Sx(e,t,r)}function Sx(e,t,r){let{parentNode:n}=t;if(!n)return!1;let o=r.getId(n);return e.some(s=>s.id===o)?!0:Sx(e,n,r)}function WI(e,t){return e.size===0?!1:Ex(e,t)}function Ex(e,t){let{parentNode:r}=t;return r?e.has(r)?!0:Ex(e,r):!1}var gc;function nj(e){gc=e}function oj(){gc=void 0}var oe=e=>gc?(...r)=>{try{return e(...r)}catch(n){if(gc&&gc(n)===!0)return()=>{};throw n}}:e;function Cr(e){let t,r=e[0],n=1;for(;n<e.length;){let o=e[n],s=e[n+1];if(n+=2,(o==="optionalAccess"||o==="optionalCall")&&r==null)return;o==="access"||o==="optionalAccess"?(t=r,r=s(r)):(o==="call"||o==="optionalCall")&&(r=s((...i)=>r.call(t,...i)),t=void 0)}return r}var qs=[];function Tc(e){try{if("composedPath"in e){let t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(t){}return e&&e.target}function bx(e,t){let r=new Vg;qs.push(r),r.init(e);let n=window.MutationObserver||window.__rrMutationObserver,o=Cr([window,"optionalAccess",i=>i.Zone,"optionalAccess",i=>i.__symbol__,"optionalCall",i=>i("MutationObserver")]);o&&window[o]&&(n=window[o]);let s=new n(oe(i=>{e.onMutation&&e.onMutation(i)===!1||r.processMutations.bind(r)(i)}));return s.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),s}function sj({mousemoveCb:e,sampling:t,doc:r,mirror:n}){if(t.mousemove===!1)return()=>{};let o=typeof t.mousemove=="number"?t.mousemove:50,s=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500,i=[],a,c=Sc(oe(f=>{let p=Date.now()-a;e(i.map(m=>(m.timeOffset-=p,m)),f),i=[],a=null}),s),u=oe(Sc(oe(f=>{let p=Tc(f),{clientX:m,clientY:h}=Hg(f)?f.changedTouches[0]:f;a||(a=wf()),i.push({x:m,y:h,id:n.getId(p),timeOffset:wf()-a}),c(typeof DragEvent!="undefined"&&f instanceof DragEvent?K.Drag:f instanceof MouseEvent?K.MouseMove:K.TouchMove)}),o,{trailing:!1})),l=[ft("mousemove",u,r),ft("touchmove",u,r),ft("drag",u,r)];return oe(()=>{l.forEach(f=>f())})}function ij({mouseInteractionCb:e,doc:t,mirror:r,blockClass:n,blockSelector:o,unblockSelector:s,sampling:i}){if(i.mouseInteraction===!1)return()=>{};let a=i.mouseInteraction===!0||i.mouseInteraction===void 0?{}:i.mouseInteraction,c=[],u=null,l=f=>p=>{let m=Tc(p);if(dr(m,n,o,s,!0))return;let h=null,_=f;if("pointerType"in p){switch(p.pointerType){case"mouse":h=Jr.Mouse;break;case"touch":h=Jr.Touch;break;case"pen":h=Jr.Pen;break}h===Jr.Touch?ut[f]===ut.MouseDown?_="TouchStart":ut[f]===ut.MouseUp&&(_="TouchEnd"):Jr.Pen}else Hg(p)&&(h=Jr.Touch);h!==null?(u=h,(_.startsWith("Touch")&&h===Jr.Touch||_.startsWith("Mouse")&&h===Jr.Mouse)&&(h=null)):ut[f]===ut.Click&&(h=u,u=null);let y=Hg(p)?p.changedTouches[0]:p;if(!y)return;let g=r.getId(m),{clientX:S,clientY:T}=y;oe(e)(d({type:ut[_],id:g,x:S,y:T},h!==null&&{pointerType:h}))};return Object.keys(ut).filter(f=>Number.isNaN(Number(f))&&!f.endsWith("_Departed")&&a[f]!==!1).forEach(f=>{let p=zs(f),m=l(f);if(window.PointerEvent)switch(ut[f]){case ut.MouseDown:case ut.MouseUp:p=p.replace("mouse","pointer");break;case ut.TouchStart:case ut.TouchEnd:return}c.push(ft(p,m,t))}),oe(()=>{c.forEach(f=>f())})}function vx({scrollCb:e,doc:t,mirror:r,blockClass:n,blockSelector:o,unblockSelector:s,sampling:i}){let a=oe(Sc(oe(c=>{let u=Tc(c);if(!u||dr(u,n,o,s,!0))return;let l=r.getId(u);if(u===t&&t.defaultView){let f=lx(t.defaultView);e({id:l,x:f.left,y:f.top})}else e({id:l,x:u.scrollLeft,y:u.scrollTop})}),i.scroll||100));return ft("scroll",a,t)}function aj({viewportResizeCb:e},{win:t}){let r=-1,n=-1,o=oe(Sc(oe(()=>{let s=fx(),i=dx();(r!==s||n!==i)&&(e({width:Number(i),height:Number(s)}),r=s,n=i)}),200));return ft("resize",o,t)}var cj=["INPUT","TEXTAREA","SELECT"],KI=new WeakMap;function uj({inputCb:e,doc:t,mirror:r,blockClass:n,blockSelector:o,unblockSelector:s,ignoreClass:i,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:l,userTriggeredOnInput:f,maskTextClass:p,unmaskTextClass:m,maskTextSelector:h,unmaskTextSelector:_}){function y(w){let B=Tc(w),fe=w.isTrusted,R=B&&Ug(B.tagName);if(R==="OPTION"&&(B=B.parentElement),!B||!R||cj.indexOf(R)<0||dr(B,n,o,s,!0))return;let $=B;if($.classList.contains(i)||a&&$.matches(a))return;let ie=fy(B),ve=If($,R,ie),Me=!1,xt=Mf({maskInputOptions:c,tagName:R,type:ie}),me=Vs(B,p,h,m,_,xt);(ie==="radio"||ie==="checkbox")&&(Me=B.checked),ve=yc({isMasked:me,element:B,value:ve,maskInputFn:u}),g(B,f?{text:ve,isChecked:Me,userTriggered:fe}:{text:ve,isChecked:Me});let Rt=B.name;ie==="radio"&&Rt&&Me&&t.querySelectorAll(`input[type="radio"][name="${Rt}"]`).forEach(Le=>{if(Le!==B){let mt=yc({isMasked:me,element:Le,value:If(Le,R,ie),maskInputFn:u});g(Le,f?{text:mt,isChecked:!Me,userTriggered:!1}:{text:mt,isChecked:!Me})}})}function g(w,B){let fe=KI.get(w);if(!fe||fe.text!==B.text||fe.isChecked!==B.isChecked){KI.set(w,B);let R=r.getId(w);oe(e)(b(d({},B),{id:R}))}}let T=(l.input==="last"?["change"]:["input","change"]).map(w=>ft(w,oe(y),t)),x=t.defaultView;if(!x)return()=>{T.forEach(w=>w())};let I=x.Object.getOwnPropertyDescriptor(x.HTMLInputElement.prototype,"value"),C=[[x.HTMLInputElement.prototype,"value"],[x.HTMLInputElement.prototype,"checked"],[x.HTMLSelectElement.prototype,"value"],[x.HTMLTextAreaElement.prototype,"value"],[x.HTMLSelectElement.prototype,"selectedIndex"],[x.HTMLOptionElement.prototype,"selected"]];return I&&I.set&&T.push(...C.map(w=>ux(w[0],w[1],{set(){oe(y)({target:this,isTrusted:!1})}},!1,x))),oe(()=>{T.forEach(w=>w())})}function Cf(e){let t=[];function r(n,o){if(Sf("CSSGroupingRule")&&n.parentRule instanceof CSSGroupingRule||Sf("CSSMediaRule")&&n.parentRule instanceof CSSMediaRule||Sf("CSSSupportsRule")&&n.parentRule instanceof CSSSupportsRule||Sf("CSSConditionRule")&&n.parentRule instanceof CSSConditionRule){let i=Array.from(n.parentRule.cssRules).indexOf(n);o.unshift(i)}else if(n.parentStyleSheet){let i=Array.from(n.parentStyleSheet.cssRules).indexOf(n);o.unshift(i)}return o}return r(e,t)}function Rn(e,t,r){let n,o;return e?(e.ownerNode?n=t.getId(e.ownerNode):o=r.getId(e),{styleId:o,id:n}):{}}function lj({styleSheetRuleCb:e,mirror:t,stylesheetManager:r},{win:n}){if(!n.CSSStyleSheet||!n.CSSStyleSheet.prototype)return()=>{};let o=n.CSSStyleSheet.prototype.insertRule;n.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:oe((l,f,p)=>{let[m,h]=p,{id:_,styleId:y}=Rn(f,t,r.styleMirror);return(_&&_!==-1||y&&y!==-1)&&e({id:_,styleId:y,adds:[{rule:m,index:h}]}),l.apply(f,p)})});let s=n.CSSStyleSheet.prototype.deleteRule;n.CSSStyleSheet.prototype.deleteRule=new Proxy(s,{apply:oe((l,f,p)=>{let[m]=p,{id:h,styleId:_}=Rn(f,t,r.styleMirror);return(h&&h!==-1||_&&_!==-1)&&e({id:h,styleId:_,removes:[{index:m}]}),l.apply(f,p)})});let i;n.CSSStyleSheet.prototype.replace&&(i=n.CSSStyleSheet.prototype.replace,n.CSSStyleSheet.prototype.replace=new Proxy(i,{apply:oe((l,f,p)=>{let[m]=p,{id:h,styleId:_}=Rn(f,t,r.styleMirror);return(h&&h!==-1||_&&_!==-1)&&e({id:h,styleId:_,replace:m}),l.apply(f,p)})}));let a;n.CSSStyleSheet.prototype.replaceSync&&(a=n.CSSStyleSheet.prototype.replaceSync,n.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:oe((l,f,p)=>{let[m]=p,{id:h,styleId:_}=Rn(f,t,r.styleMirror);return(h&&h!==-1||_&&_!==-1)&&e({id:h,styleId:_,replaceSync:m}),l.apply(f,p)})}));let c={};Ef("CSSGroupingRule")?c.CSSGroupingRule=n.CSSGroupingRule:(Ef("CSSMediaRule")&&(c.CSSMediaRule=n.CSSMediaRule),Ef("CSSConditionRule")&&(c.CSSConditionRule=n.CSSConditionRule),Ef("CSSSupportsRule")&&(c.CSSSupportsRule=n.CSSSupportsRule));let u={};return Object.entries(c).forEach(([l,f])=>{u[l]={insertRule:f.prototype.insertRule,deleteRule:f.prototype.deleteRule},f.prototype.insertRule=new Proxy(u[l].insertRule,{apply:oe((p,m,h)=>{let[_,y]=h,{id:g,styleId:S}=Rn(m.parentStyleSheet,t,r.styleMirror);return(g&&g!==-1||S&&S!==-1)&&e({id:g,styleId:S,adds:[{rule:_,index:[...Cf(m),y||0]}]}),p.apply(m,h)})}),f.prototype.deleteRule=new Proxy(u[l].deleteRule,{apply:oe((p,m,h)=>{let[_]=h,{id:y,styleId:g}=Rn(m.parentStyleSheet,t,r.styleMirror);return(y&&y!==-1||g&&g!==-1)&&e({id:y,styleId:g,removes:[{index:[...Cf(m),_]}]}),p.apply(m,h)})})}),oe(()=>{n.CSSStyleSheet.prototype.insertRule=o,n.CSSStyleSheet.prototype.deleteRule=s,i&&(n.CSSStyleSheet.prototype.replace=i),a&&(n.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([l,f])=>{f.prototype.insertRule=u[l].insertRule,f.prototype.deleteRule=u[l].deleteRule})})}function Tx({mirror:e,stylesheetManager:t},r){let n=null;r.nodeName==="#document"?n=e.getId(r):n=e.getId(r.host);let o=r.nodeName==="#document"?Cr([r,"access",i=>i.defaultView,"optionalAccess",i=>i.Document]):Cr([r,"access",i=>i.ownerDocument,"optionalAccess",i=>i.defaultView,"optionalAccess",i=>i.ShadowRoot]),s=Cr([o,"optionalAccess",i=>i.prototype])?Object.getOwnPropertyDescriptor(Cr([o,"optionalAccess",i=>i.prototype]),"adoptedStyleSheets"):void 0;return n===null||n===-1||!o||!s?()=>{}:(Object.defineProperty(r,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get(){return Cr([s,"access",i=>i.get,"optionalAccess",i=>i.call,"call",i=>i(this)])},set(i){let a=Cr([s,"access",c=>c.set,"optionalAccess",c=>c.call,"call",c=>c(this,i)]);if(n!==null&&n!==-1)try{t.adoptStyleSheets(i,n)}catch(c){}return a}}),oe(()=>{Object.defineProperty(r,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get:s.get,set:s.set})}))}function fj({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:r,stylesheetManager:n},{win:o}){let s=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:oe((a,c,u)=>{let[l,f,p]=u;if(r.has(l))return s.apply(c,[l,f,p]);let{id:m,styleId:h}=Rn(Cr([c,"access",_=>_.parentRule,"optionalAccess",_=>_.parentStyleSheet]),t,n.styleMirror);return(m&&m!==-1||h&&h!==-1)&&e({id:m,styleId:h,set:{property:l,value:f,priority:p},index:Cf(c.parentRule)}),a.apply(c,u)})});let i=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(i,{apply:oe((a,c,u)=>{let[l]=u;if(r.has(l))return i.apply(c,[l]);let{id:f,styleId:p}=Rn(Cr([c,"access",m=>m.parentRule,"optionalAccess",m=>m.parentStyleSheet]),t,n.styleMirror);return(f&&f!==-1||p&&p!==-1)&&e({id:f,styleId:p,remove:{property:l},index:Cf(c.parentRule)}),a.apply(c,u)})}),oe(()=>{o.CSSStyleDeclaration.prototype.setProperty=s,o.CSSStyleDeclaration.prototype.removeProperty=i})}function dj({mediaInteractionCb:e,blockClass:t,blockSelector:r,unblockSelector:n,mirror:o,sampling:s,doc:i}){let a=oe(u=>Sc(oe(l=>{let f=Tc(l);if(!f||dr(f,t,r,n,!0))return;let{currentTime:p,volume:m,muted:h,playbackRate:_}=f;e({type:u,id:o.getId(f),currentTime:p,volume:m,muted:h,playbackRate:_})}),s.media||500)),c=[ft("play",a(0),i),ft("pause",a(1),i),ft("seeked",a(2),i),ft("volumechange",a(3),i),ft("ratechange",a(4),i)];return oe(()=>{c.forEach(u=>u())})}function pj({fontCb:e,doc:t}){let r=t.defaultView;if(!r)return()=>{};let n=[],o=new WeakMap,s=r.FontFace;r.FontFace=function(c,u,l){let f=new s(c,u,l);return o.set(f,{family:c,buffer:typeof u!="string",descriptors:l,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),f};let i=my(t.fonts,"add",function(a){return function(c){return Lf(oe(()=>{let u=o.get(c);u&&(e(u),o.delete(c))}),0),a.apply(this,[c])}});return n.push(()=>{r.FontFace=s}),n.push(i),oe(()=>{n.forEach(a=>a())})}function mj(e){let{doc:t,mirror:r,blockClass:n,blockSelector:o,unblockSelector:s,selectionCb:i}=e,a=!0,c=oe(()=>{let u=t.getSelection();if(!u||a&&Cr([u,"optionalAccess",p=>p.isCollapsed]))return;a=u.isCollapsed||!1;let l=[],f=u.rangeCount||0;for(let p=0;p<f;p++){let m=u.getRangeAt(p),{startContainer:h,startOffset:_,endContainer:y,endOffset:g}=m;dr(h,n,o,s,!0)||dr(y,n,o,s,!0)||l.push({start:r.getId(h),startOffset:_,end:r.getId(y),endOffset:g})}i({ranges:l})});return c(),ft("selectionchange",c)}function hj({doc:e,customElementCb:t}){let r=e.defaultView;return!r||!r.customElements?()=>{}:my(r.customElements,"define",function(o){return function(s,i,a){try{t({define:{name:s}})}catch(c){}return o.apply(this,[s,i,a])}})}function gj(e,t={}){let r=e.doc.defaultView;if(!r)return()=>{};let n=bx(e,e.doc),o=sj(e),s=ij(e),i=vx(e),a=aj(e,{win:r}),c=uj(e),u=dj(e),l=lj(e,{win:r}),f=Tx(e,e.doc),p=fj(e,{win:r}),m=e.collectFonts?pj(e):()=>{},h=mj(e),_=hj(e),y=[];for(let g of e.plugins)y.push(g.observer(g.callback,r,g.options));return oe(()=>{qs.forEach(g=>g.reset()),n.disconnect(),o(),s(),i(),a(),c(),u(),l(),f(),p(),m(),h(),_(),y.forEach(g=>g())})}function Sf(e){return typeof window[e]!="undefined"}function Ef(e){return!!(typeof window[e]!="undefined"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}var Ec=class{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,r,n,o){let s=n||this.getIdToRemoteIdMap(t),i=o||this.getRemoteIdToIdMap(t),a=s.get(r);return a||(a=this.generateIdFn(),s.set(r,a),i.set(a,r)),a}getIds(t,r){let n=this.getIdToRemoteIdMap(t),o=this.getRemoteIdToIdMap(t);return r.map(s=>this.getId(t,s,n,o))}getRemoteId(t,r,n){let o=n||this.getRemoteIdToIdMap(t);if(typeof r!="number")return r;let s=o.get(r);return s||-1}getRemoteIds(t,r){let n=this.getRemoteIdToIdMap(t);return r.map(o=>this.getRemoteId(t,o,n))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let r=this.iframeIdToRemoteIdMap.get(t);return r||(r=new Map,this.iframeIdToRemoteIdMap.set(t,r)),r}getRemoteIdToIdMap(t){let r=this.iframeRemoteIdToIdMap.get(t);return r||(r=new Map,this.iframeRemoteIdToIdMap.set(t,r)),r}};function YI(e){let t,r=e[0],n=1;for(;n<e.length;){let o=e[n],s=e[n+1];if(n+=2,(o==="optionalAccess"||o==="optionalCall")&&r==null)return;o==="access"||o==="optionalAccess"?(t=r,r=s(r)):(o==="call"||o==="optionalCall")&&(r=s((...i)=>r.call(t,...i)),t=void 0)}return r}var Kg=class{constructor(){this.crossOriginIframeMirror=new Ec(dy),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}},Yg=class{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Ec(dy),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Ec(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,r){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:r}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),YI([this,"access",n=>n.loadListener,"optionalCall",n=>n(t)]),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}handleMessage(t){let r=t;if(r.data.type!=="rrweb"||r.origin!==r.data.origin||!t.source)return;let o=this.crossOriginIframeMap.get(t.source);if(!o)return;let s=this.transformCrossOriginEvent(o,r.data.event);s&&this.wrappedEmit(s,r.data.isCheckout)}transformCrossOriginEvent(t,r){switch(r.type){case W.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(r.data.node,t);let n=r.data.node.id;return this.crossOriginIframeRootIdMap.set(t,n),this.patchRootIdOnNode(r.data.node,n),{timestamp:r.timestamp,type:W.IncrementalSnapshot,data:{source:K.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:r.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case W.Meta:case W.Load:case W.DomContentLoaded:return!1;case W.Plugin:return r;case W.Custom:return this.replaceIds(r.data.payload,t,["id","parentId","previousId","nextId"]),r;case W.IncrementalSnapshot:switch(r.data.source){case K.Mutation:return r.data.adds.forEach(n=>{this.replaceIds(n,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(n.node,t);let o=this.crossOriginIframeRootIdMap.get(t);o&&this.patchRootIdOnNode(n.node,o)}),r.data.removes.forEach(n=>{this.replaceIds(n,t,["parentId","id"])}),r.data.attributes.forEach(n=>{this.replaceIds(n,t,["id"])}),r.data.texts.forEach(n=>{this.replaceIds(n,t,["id"])}),r;case K.Drag:case K.TouchMove:case K.MouseMove:return r.data.positions.forEach(n=>{this.replaceIds(n,t,["id"])}),r;case K.ViewportResize:return!1;case K.MediaInteraction:case K.MouseInteraction:case K.Scroll:case K.CanvasMutation:case K.Input:return this.replaceIds(r.data,t,["id"]),r;case K.StyleSheetRule:case K.StyleDeclaration:return this.replaceIds(r.data,t,["id"]),this.replaceStyleIds(r.data,t,["styleId"]),r;case K.Font:return r;case K.Selection:return r.data.ranges.forEach(n=>{this.replaceIds(n,t,["start","end"])}),r;case K.AdoptedStyleSheet:return this.replaceIds(r.data,t,["id"]),this.replaceStyleIds(r.data,t,["styleIds"]),YI([r,"access",n=>n.data,"access",n=>n.styles,"optionalAccess",n=>n.forEach,"call",n=>n(o=>{this.replaceStyleIds(o,t,["styleId"])})]),r}}return!1}replace(t,r,n,o){for(let s of o)!Array.isArray(r[s])&&typeof r[s]!="number"||(Array.isArray(r[s])?r[s]=t.getIds(n,r[s]):r[s]=t.getId(n,r[s]));return r}replaceIds(t,r,n){return this.replace(this.crossOriginIframeMirror,t,r,n)}replaceStyleIds(t,r,n){return this.replace(this.crossOriginIframeStyleMirror,t,r,n)}replaceIdOnNode(t,r){this.replaceIds(t,r,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(n=>{this.replaceIdOnNode(n,r)})}patchRootIdOnNode(t,r){t.type!==He.Document&&!t.rootId&&(t.rootId=r),"childNodes"in t&&t.childNodes.forEach(n=>{this.patchRootIdOnNode(n,r)})}},Jg=class{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}},Xg=class{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,r){if(!hc(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t);let n=bx(b(d({},this.bypassOptions),{doc:r,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),t);this.restoreHandlers.push(()=>n.disconnect()),this.restoreHandlers.push(vx(b(d({},this.bypassOptions),{scrollCb:this.scrollCb,doc:t,mirror:this.mirror}))),Lf(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(Tx({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){!t.contentWindow||!t.contentDocument||this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)}patchAttachShadow(t,r){let n=this;this.restoreHandlers.push(my(t.prototype,"attachShadow",function(o){return function(s){let i=o.call(this,s);return this.shadowRoot&&_x(this)&&n.addShadowRoot(this.shadowRoot,r),i}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch(r){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}},Of=class{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}},Zg=class{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new Gg,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,r){"_cssText"in r.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:r.id,attributes:r.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,r){if(t.length===0)return;let n={id:r,styleIds:[]},o=[];for(let s of t){let i;this.styleMirror.has(s)?i=this.styleMirror.getId(s):(i=this.styleMirror.add(s),o.push({styleId:i,rules:Array.from(s.rules||CSSRule,(a,c)=>({rule:ix(a),index:c}))})),n.styleIds.push(i)}o.length>0&&(n.styles=o),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}},Qg=class{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){ej(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(t,r){let n=this.nodeMap.get(t);return n&&Array.from(n).some(o=>o!==r)}add(t,r){this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(r))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}},De,Rf,fr=wF();function An(e={}){let{emit:t,checkoutEveryNms:r,checkoutEveryNth:n,blockClass:o="rr-block",blockSelector:s=null,unblockSelector:i=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:l="rr-mask",unmaskTextClass:f=null,maskTextSelector:p=null,unmaskTextSelector:m=null,inlineStylesheet:h=!0,maskAllInputs:_,maskInputOptions:y,slimDOMOptions:g,maskAttributeFn:S,maskInputFn:T,maskTextFn:x,maxCanvasSize:I=null,packFn:C,sampling:w={},dataURLOptions:B={},mousemoveWait:fe,recordCanvas:R=!1,recordCrossOriginIframes:$=!1,recordAfter:ie=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:ve=!1,collectFonts:Me=!1,inlineImages:xt=!1,plugins:me,keepIframeSrcFn:Rt=()=>!1,ignoreCSSAttributes:Le=new Set([]),errorHandler:mt,onMutation:Xt,getCanvasManager:Hp}=e;nj(mt);let ts=$?window.parent===window:!0,fn=!1;if(!ts)try{window.parent.document&&(fn=!1)}catch(ue){fn=!0}if(ts&&!t)throw new Error("emit function is required");fe!==void 0&&w.mousemove===void 0&&(w.mousemove=fe),fr.reset();let rs=_===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:y!==void 0?y:{},ia=g===!0||g==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:g==="all",headMetaDescKeywords:g==="all"}:g||{};XF();let qp,Gp=0,av=ue=>{for(let Zt of me||[])Zt.eventProcessor&&(ue=Zt.eventProcessor(ue));return C&&!fn&&(ue=C(ue)),ue};De=(ue,Zt)=>{let ce=ue;if(ce.timestamp=wf(),cc([qs,"access",Ae=>Ae[0],"optionalAccess",Ae=>Ae.isFrozen,"call",Ae=>Ae()])&&ce.type!==W.FullSnapshot&&!(ce.type===W.IncrementalSnapshot&&ce.data.source===K.Mutation)&&qs.forEach(Ae=>Ae.unfreeze()),ts)cc([t,"optionalCall",Ae=>Ae(av(ce),Zt)]);else if(fn){let Ae={type:"rrweb",event:av(ce),origin:window.location.origin,isCheckout:Zt};window.parent.postMessage(Ae,"*")}if(ce.type===W.FullSnapshot)qp=ce,Gp=0;else if(ce.type===W.IncrementalSnapshot){if(ce.data.source===K.Mutation&&ce.data.isAttachIframe)return;Gp++;let Ae=n&&Gp>=n,le=r&&qp&&ce.timestamp-qp.timestamp>r;(Ae||le)&&Vp(!0)}};let Lu=ue=>{De({type:W.IncrementalSnapshot,data:d({source:K.Mutation},ue)})},cv=ue=>De({type:W.IncrementalSnapshot,data:d({source:K.Scroll},ue)}),oP=ue=>De({type:W.IncrementalSnapshot,data:d({source:K.CanvasMutation},ue)}),sP=ue=>De({type:W.IncrementalSnapshot,data:d({source:K.AdoptedStyleSheet},ue)}),to=new Zg({mutationCb:Lu,adoptedStyleSheetCb:sP}),ro=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new Kg:new Yg({mirror:fr,mutationCb:Lu,stylesheetManager:to,recordCrossOriginIframes:$,wrappedEmit:De});for(let ue of me||[])ue.getMirror&&ue.getMirror({nodeMirror:fr,crossOriginIframeMirror:ro.crossOriginIframeMirror,crossOriginIframeStyleMirror:ro.crossOriginIframeStyleMirror});let zp=new Qg,uv=_j(Hp,{mirror:fr,win:window,mutationCb:ue=>De({type:W.IncrementalSnapshot,data:d({source:K.CanvasMutation},ue)}),recordCanvas:R,blockClass:o,blockSelector:s,unblockSelector:i,maxCanvasSize:I,sampling:w.canvas,dataURLOptions:B,errorHandler:mt}),Fu=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new Jg:new Xg({mutationCb:Lu,scrollCb:cv,bypassOptions:{onMutation:Xt,blockClass:o,blockSelector:s,unblockSelector:i,maskAllText:u,maskTextClass:l,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:m,inlineStylesheet:h,maskInputOptions:rs,dataURLOptions:B,maskAttributeFn:S,maskTextFn:x,maskInputFn:T,recordCanvas:R,inlineImages:xt,sampling:w,slimDOMOptions:ia,iframeManager:ro,stylesheetManager:to,canvasManager:uv,keepIframeSrcFn:Rt,processedNodeManager:zp},mirror:fr}),Vp=(ue=!1)=>{De({type:W.Meta,data:{href:window.location.href,width:dx(),height:fx()}},ue),to.reset(),Fu.init(),qs.forEach(ce=>ce.lock());let Zt=YF(document,{mirror:fr,blockClass:o,blockSelector:s,unblockSelector:i,maskAllText:u,maskTextClass:l,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:m,inlineStylesheet:h,maskAllInputs:rs,maskAttributeFn:S,maskInputFn:T,maskTextFn:x,slimDOM:ia,dataURLOptions:B,recordCanvas:R,inlineImages:xt,onSerialize:ce=>{hx(ce,fr)&&ro.addIframe(ce),gx(ce,fr)&&to.trackLinkElement(ce),qg(ce)&&Fu.addShadowRoot(ce.shadowRoot,document)},onIframeLoad:(ce,Ae)=>{ro.attachIframe(ce,Ae),Fu.observeAttachShadow(ce)},onStylesheetLoad:(ce,Ae)=>{to.attachLinkElement(ce,Ae)},keepIframeSrcFn:Rt});if(!Zt)return console.warn("Failed to snapshot the document");De({type:W.FullSnapshot,data:{node:Zt,initialOffset:lx(window)}}),qs.forEach(ce=>ce.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&to.adoptStyleSheets(document.adoptedStyleSheets,fr.getId(document))};Rf=Vp;try{let ue=[],Zt=Ae=>oe(gj)({onMutation:Xt,mutationCb:Lu,mousemoveCb:(le,no)=>De({type:W.IncrementalSnapshot,data:{source:no,positions:le}}),mouseInteractionCb:le=>De({type:W.IncrementalSnapshot,data:d({source:K.MouseInteraction},le)}),scrollCb:cv,viewportResizeCb:le=>De({type:W.IncrementalSnapshot,data:d({source:K.ViewportResize},le)}),inputCb:le=>De({type:W.IncrementalSnapshot,data:d({source:K.Input},le)}),mediaInteractionCb:le=>De({type:W.IncrementalSnapshot,data:d({source:K.MediaInteraction},le)}),styleSheetRuleCb:le=>De({type:W.IncrementalSnapshot,data:d({source:K.StyleSheetRule},le)}),styleDeclarationCb:le=>De({type:W.IncrementalSnapshot,data:d({source:K.StyleDeclaration},le)}),canvasMutationCb:oP,fontCb:le=>De({type:W.IncrementalSnapshot,data:d({source:K.Font},le)}),selectionCb:le=>{De({type:W.IncrementalSnapshot,data:d({source:K.Selection},le)})},customElementCb:le=>{De({type:W.IncrementalSnapshot,data:d({source:K.CustomElement},le)})},blockClass:o,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:l,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:m,maskInputOptions:rs,inlineStylesheet:h,sampling:w,recordCanvas:R,inlineImages:xt,userTriggeredOnInput:ve,collectFonts:Me,doc:Ae,maskAttributeFn:S,maskInputFn:T,maskTextFn:x,keepIframeSrcFn:Rt,blockSelector:s,unblockSelector:i,slimDOMOptions:ia,dataURLOptions:B,mirror:fr,iframeManager:ro,stylesheetManager:to,shadowDomManager:Fu,processedNodeManager:zp,canvasManager:uv,ignoreCSSAttributes:Le,plugins:cc([me,"optionalAccess",le=>le.filter,"call",le=>le(no=>no.observer),"optionalAccess",le=>le.map,"call",le=>le(no=>({observer:no.observer,options:no.options,callback:iP=>De({type:W.Plugin,data:{plugin:no.name,payload:iP}})}))])||[]},{});ro.addLoadListener(Ae=>{try{ue.push(Zt(Ae.contentDocument))}catch(le){console.warn(le)}});let ce=()=>{Vp(),ue.push(Zt(document))};return document.readyState==="interactive"||document.readyState==="complete"?ce():(ue.push(ft("DOMContentLoaded",()=>{De({type:W.DomContentLoaded,data:{}}),ie==="DOMContentLoaded"&&ce()})),ue.push(ft("load",()=>{De({type:W.Load,data:{}}),ie==="load"&&ce()},window))),()=>{ue.forEach(Ae=>Ae()),zp.destroy(),Rf=void 0,oj()}}catch(ue){console.warn(ue)}}function yj(e){if(!Rf)throw new Error("please take full snapshot after start recording");Rf(e)}An.mirror=fr;An.takeFullSnapshot=yj;function _j(e,t){try{return e?e(t):new Of}catch(r){return console.warn("Unable to initialize CanvasManager"),new Of}}var Sj=3,Ej=5;function gy(e){return e>9999999999?e:e*1e3}function jg(e){return e>9999999999?e/1e3:e}function Ic(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:W.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:lr(t,10,1e3)}}),t.category==="console")))}var bj="button,a";function Ix(e){return e.closest(bj)||e}function xx(e){let t=wx(e);return!t||!(t instanceof Element)?t:Ix(t)}function wx(e){return vj(e)?e.target:e}function vj(e){return typeof e=="object"&&!!e&&"target"in e}var kn;function Tj(e){return kn||(kn=[],Ij()),kn.push(e),()=>{let t=kn?kn.indexOf(e):-1;t>-1&&kn.splice(t,1)}}function Ij(){tt(be,"open",function(e){return function(...t){if(kn)try{kn.forEach(r=>r())}catch(r){}return e.apply(be,t)}})}function xj(e,t,r){e.handleClick(t,r)}var ey=class{constructor(t,r,n=Ic){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=r.timeout/1e3,this._threshold=r.threshold/1e3,this._scollTimeout=r.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=r.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){let t=Tj(()=>{this._lastMutation=JI()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,r){if(Cj(r,this._ignoreSelector)||!Oj(t))return;let n={timestamp:jg(t.timestamp),clickBreadcrumb:t,clickCount:0,node:r};this._clicks.some(o=>o.node===n.node&&Math.abs(o.timestamp-n.timestamp)<1)||(this._clicks.push(n),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=jg(t)}registerScroll(t=Date.now()){this._lastScroll=jg(t)}registerClick(t){let r=Ix(t);this._handleMultiClick(r)}_handleMultiClick(t){this._getClicks(t).forEach(r=>{r.clickCount++})}_getClicks(t){return this._clicks.filter(r=>r.node===t)}_checkClicks(){let t=[],r=JI();this._clicks.forEach(n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=r&&t.push(n)});for(let n of t){let o=this._clicks.indexOf(n);o>-1&&(this._generateBreadcrumbs(n),this._clicks.splice(o,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){let r=this._replay,n=t.scrollAfter&&t.scrollAfter<=this._scollTimeout,o=t.mutationAfter&&t.mutationAfter<=this._threshold,s=!n&&!o,{clickCount:i,clickBreadcrumb:a}=t;if(s){let c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",l={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:b(d({},a.data),{url:be.location.href,route:r.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:i||1})};this._addBreadcrumbEvent(r,l);return}if(i>1){let c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:b(d({},a.data),{url:be.location.href,route:r.getCurrentRoute(),clickCount:i,metric:!0})};this._addBreadcrumbEvent(r,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout(()=>this._checkClicks(),1e3)}},wj=["A","BUTTON","INPUT"];function Cj(e,t){return!!(!wj.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function Oj(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function JI(){return Date.now()/1e3}function Rj(e,t){try{if(!kj(t))return;let{source:r}=t.data;if(r===K.Mutation&&e.registerMutation(t.timestamp),r===K.Scroll&&e.registerScroll(t.timestamp),Aj(t)){let{type:n,id:o}=t.data,s=An.mirror.getNode(o);s instanceof HTMLElement&&n===ut.Click&&e.registerClick(s)}}catch(r){}}function kj(e){return e.type===Sj}function Aj(e){return e.data.source===K.MouseInteraction}function Or(e){return d({timestamp:Date.now()/1e3,type:"default"},e)}var kf;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(kf||(kf={}));var Nj=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function Pj(e){let t={};for(let r in e)if(Nj.has(r)){let n=r;(r==="data-testid"||r==="data-test-id")&&(n="testId"),t[n]=e[r]}return t}var $j=e=>t=>{if(!e.isEnabled())return;let r=Dj(t);if(!r)return;let n=t.name==="click",o=n?t.event:void 0;n&&e.clickDetector&&o&&o.target&&!o.altKey&&!o.metaKey&&!o.ctrlKey&&!o.shiftKey&&xj(e.clickDetector,r,xx(t.event)),Ic(e,r)};function Cx(e,t){let r=An.mirror.getId(e),n=r&&An.mirror.getNode(r),o=n&&An.mirror.getMeta(n),s=o&&Lj(o)?o:null;return{message:t,data:s?{nodeId:r,node:{id:r,tagName:s.tagName,textContent:Array.from(s.childNodes).map(i=>i.type===kf.Text&&i.textContent).filter(Boolean).map(i=>i.trim()).join(""),attributes:Pj(s.attributes)}}:{}}}function Dj(e){let{target:t,message:r}=Mj(e);return Or(d({category:`ui.${e.name}`},Cx(t,r)))}function Mj(e){let t=e.name==="click",r,n=null;try{n=t?xx(e.event):wx(e.event),r=Ns(n,{maxStringLength:200})||"<unknown>"}catch(o){r="<unknown>"}return{target:n,message:r}}function Lj(e){return e.type===kf.Element}function Fj(e,t){if(!e.isEnabled())return;e.updateUserActivity();let r=jj(t);r&&Ic(e,r)}function jj(e){let{metaKey:t,shiftKey:r,ctrlKey:n,altKey:o,key:s,target:i}=e;if(!i||Bj(i)||!s)return null;let a=t||n||o,c=s.length===1;if(!a&&c)return null;let u=Ns(i,{maxStringLength:200})||"<unknown>",l=Cx(i,u);return Or({category:"ui.keyDown",message:u,data:b(d({},l.data),{metaKey:t,shiftKey:r,ctrlKey:n,altKey:o,key:s})})}function Bj(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}var XI={resource:zj,paint:qj,navigation:Gj};function Uj(e){return e.map(Hj).filter(Boolean)}function Hj(e){return XI[e.entryType]?XI[e.entryType](e):null}function Ws(e){return((yg||be.performance.timeOrigin)+e)/1e3}function qj(e){let{duration:t,entryType:r,name:n,startTime:o}=e,s=Ws(o);return{type:r,name:n,start:s,end:s+t,data:void 0}}function Gj(e){let{entryType:t,name:r,decodedBodySize:n,duration:o,domComplete:s,encodedBodySize:i,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:l,loadEventEnd:f,redirectCount:p,startTime:m,transferSize:h,type:_}=e;return o===0?null:{type:`${t}.${_}`,start:Ws(m),end:Ws(s),name:r,data:{size:h,decodedBodySize:n,encodedBodySize:i,duration:o,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:l,loadEventEnd:f,domComplete:s,redirectCount:p}}}function zj(e){let{entryType:t,initiatorType:r,name:n,responseEnd:o,startTime:s,decodedBodySize:i,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(r)?null:{type:`${t}.${r}`,start:Ws(s),end:Ws(o),name:n,data:{size:u,statusCode:c,decodedBodySize:i,encodedBodySize:a}}}function Vj(e){let t=e.entries,r=t[t.length-1],n=r?r.element:void 0,o=e.value,s=Ws(o);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:s,end:s,data:{value:o,size:o,nodeId:n?An.mirror.getId(n):void 0}}}function Wj(e){function t(o){e.performanceEntries.includes(o)||e.performanceEntries.push(o)}function r({entries:o}){o.forEach(t)}let n=[];return["navigation","paint","resource"].forEach(o=>{n.push(Lg(o,r))}),n.push(Mg(({metric:o})=>{e.replayPerformanceEntries.push(Vj(o))})),()=>{n.forEach(o=>o())}}var ye=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__,Kj='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function Yj(){let e=new Blob([Kj]);return URL.createObjectURL(e)}function lt(e,t){ye&&(j.info(e),t&&Ox(e))}function Gs(e,t){ye&&(j.info(e),t&&setTimeout(()=>{Ox(e)},0))}function Ox(e){Og({category:"console",data:{logger:"replay"},level:"info",message:e},{level:"info"})}var bc=class extends Error{constructor(){super(`Event buffer exceeded maximum size of ${ly}.`)}},Af=class{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}addEvent(t){return P(this,null,function*(){let r=JSON.stringify(t).length;if(this._totalSize+=r,this._totalSize>ly)throw new bc;this.events.push(t)})}finish(){return new Promise(t=>{let r=this.events;this.clear(),t(JSON.stringify(r))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){let t=this.events.map(r=>r.timestamp).sort()[0];return t?gy(t):null}},ty=class{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,r)=>{this._worker.addEventListener("message",({data:n})=>{n.success?t():r()},{once:!0}),this._worker.addEventListener("error",n=>{r(n)},{once:!0})}),this._ensureReadyPromise)}destroy(){lt("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(t,r){let n=this._getAndIncrementId();return new Promise((o,s)=>{let i=({data:a})=>{let c=a;if(c.method===t&&c.id===n){if(this._worker.removeEventListener("message",i),!c.success){ye&&j.error("[Replay]",c.response),s(new Error("Error in compression worker"));return}o(c.response)}};this._worker.addEventListener("message",i),this._worker.postMessage({id:n,method:t,arg:r})})}_getAndIncrementId(){return this._id++}},ry=class{constructor(t){this._worker=new ty(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){let r=gy(t.timestamp);(!this._earliestTimestamp||r<this._earliestTimestamp)&&(this._earliestTimestamp=r);let n=JSON.stringify(t);return this._totalSize+=n.length,this._totalSize>ly?Promise.reject(new bc):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{ye&&j.warn('[Replay] Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}_finishRequest(){return P(this,null,function*(){let t=yield this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t})}},ny=class{constructor(t){this._fallback=new Af,this._compression=new ry(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}finish(){return P(this,null,function*(){return yield this.ensureWorkerIsLoaded(),this._used.finish()})}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}_ensureWorkerIsLoaded(){return P(this,null,function*(){try{yield this._compression.ensureReady()}catch(t){lt("[Replay] Failed to load the compression worker, falling back to simple buffer");return}yield this._switchToCompressionWorker()})}_switchToCompressionWorker(){return P(this,null,function*(){let{events:t,hasCheckout:r}=this._fallback,n=[];for(let o of t)n.push(this._compression.addEvent(o));this._compression.hasCheckout=r,this._used=this._compression;try{yield Promise.all(n)}catch(o){ye&&j.warn("[Replay] Failed to add events when switching buffers.",o)}})}};function Jj({useCompression:e,workerUrl:t}){if(e&&window.Worker){let r=Xj(t);if(r)return r}return lt("[Replay] Using simple buffer"),new Af}function Xj(e){try{let t=e||Zj();if(!t)return;lt(`[Replay] Using compression worker${e?` from ${e}`:""}`);let r=new Worker(t);return new ny(r)}catch(t){lt("[Replay] Failed to create compression worker")}}function Zj(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__=="undefined"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?Yj():""}function yy(){try{return"sessionStorage"in be&&!!be.sessionStorage}catch(e){return!1}}function Qj(e){eB(),e.session=void 0}function eB(){if(yy())try{be.sessionStorage.removeItem(cy)}catch(e){}}function Rx(e){return e===void 0?!1:Math.random()<e}function kx(e){let t=Date.now(),r=e.id||je(),n=e.started||t,o=e.lastActivity||t,s=e.segmentId||0,i=e.sampled,a=e.previousSessionId;return{id:r,started:n,lastActivity:o,segmentId:s,sampled:i,previousSessionId:a}}function _y(e){if(yy())try{be.sessionStorage.setItem(cy,JSON.stringify(e))}catch(t){}}function tB(e,t){return Rx(e)?"session":t?"buffer":!1}function ZI({sessionSampleRate:e,allowBuffering:t,stickySession:r=!1},{previousSessionId:n}={}){let o=tB(e,t),s=kx({sampled:o,previousSessionId:n});return r&&_y(s),s}function rB(e){if(!yy())return null;try{let t=be.sessionStorage.getItem(cy);if(!t)return null;let r=JSON.parse(t);return Gs("[Replay] Loading existing session",e),kx(r)}catch(t){return null}}function oy(e,t,r=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=r}function Ax(e,{maxReplayDuration:t,sessionIdleExpire:r,targetTime:n=Date.now()}){return oy(e.started,t,n)||oy(e.lastActivity,r,n)}function Nx(e,{sessionIdleExpire:t,maxReplayDuration:r}){return!(!Ax(e,{sessionIdleExpire:t,maxReplayDuration:r})||e.sampled==="buffer"&&e.segmentId===0)}function Bg({traceInternals:e,sessionIdleExpire:t,maxReplayDuration:r,previousSessionId:n},o){let s=o.stickySession&&rB(e);return s?Nx(s,{sessionIdleExpire:t,maxReplayDuration:r})?(Gs("[Replay] Session in sessionStorage is expired, creating new one..."),ZI(o,{previousSessionId:s.id})):s:(Gs("[Replay] Creating new session",e),ZI(o,{previousSessionId:n}))}function nB(e){return e.type===W.Custom}function Sy(e,t,r){return $x(e,t)?(Px(e,t,r),!0):!1}function oB(e,t,r){return $x(e,t)?Px(e,t,r):Promise.resolve(null)}function Px(e,t,r){return P(this,null,function*(){if(!e.eventBuffer)return null;try{r&&e.recordingMode==="buffer"&&e.eventBuffer.clear(),r&&(e.eventBuffer.hasCheckout=!0);let n=e.getOptions(),o=sB(t,n.beforeAddRecordingEvent);return o?yield e.eventBuffer.addEvent(o):void 0}catch(n){let o=n&&n instanceof bc?"addEventSizeExceeded":"addEvent";ye&&j.error(n),yield e.stop({reason:o});let s=rt();s&&s.recordDroppedEvent("internal_sdk_error","replay")}})}function $x(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;let r=gy(t.timestamp);return r+e.timeouts.sessionIdlePause<Date.now()?!1:r>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(lt(`[Replay] Skipping event with timestamp ${r} because it is after maxReplayDuration`,e.getOptions()._experiments.traceInternals),!1):!0}function sB(e,t){try{if(typeof t=="function"&&nB(e))return t(e)}catch(r){return ye&&j.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",r),null}return e}function Ey(e){return!e.type}function sy(e){return e.type==="transaction"}function iB(e){return e.type==="replay_event"}function QI(e){return e.type==="feedback"}function Dx(e){let t=uB();return(r,n)=>{if(!e.isEnabled()||!Ey(r)&&!sy(r))return;let o=n&&n.statusCode;if(!(t&&(!o||o<200||o>=300))){if(sy(r)){aB(e,r);return}cB(e,r)}}}function aB(e,t){let r=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&r.traceIds.size<100&&r.traceIds.add(t.contexts.trace.trace_id)}function cB(e,t){let r=e.getContext();if(t.event_id&&r.errorIds.size<100&&r.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;let{beforeErrorSampling:n}=e.getOptions();typeof n=="function"&&!n(t)||setTimeout(()=>{e.sendBufferedReplayOrFlush()})}function uB(){let e=rt();if(!e)return!1;let t=e.getTransport();return t&&t.send.__sentry__baseTransport__||!1}function lB(e){return t=>{!e.isEnabled()||!Ey(t)||fB(e,t)}}function fB(e,t){let r=t.exception&&t.exception.values&&t.exception.values[0].value;if(typeof r=="string"&&(r.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||r.match(/(does not match server-rendered HTML|Hydration failed because)/i))){let n=Or({category:"replay.hydrate-error"});Ic(e,n)}}function dB(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!(t.originalException&&t.originalException.__rrweb__)}function pB(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:W.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function mB(e,t){return e.recordingMode!=="buffer"||t.message===uy||!t.exception||t.type?!1:Rx(e.getOptions().errorSampleRate)}function hB(e,t=!1){let r=t?Dx(e):void 0;return Object.assign((n,o)=>e.isEnabled()?iB(n)?(delete n.breadcrumbs,n):!Ey(n)&&!sy(n)&&!QI(n)||!e.checkAndHandleExpiredSession()?n:QI(n)?(e.flush(),n.contexts.feedback.replay_id=e.getSessionId(),pB(e,n),n):dB(n,o)&&!e.getOptions()._experiments.captureExceptions?(ye&&j.log("[Replay] Ignoring error from rrweb internals",n),null):((mB(e,n)||e.recordingMode==="session")&&(n.tags=b(d({},n.tags),{replayId:e.getSessionId()})),r&&r(n,{statusCode:200}),n):n,{id:"Replay"})}function Ff(e,t){return t.map(({type:r,start:n,end:o,name:s,data:i})=>{let a=e.throttledAddEvent({type:W.Custom,timestamp:n,data:{tag:"performanceSpan",payload:{op:r,description:s,startTimestamp:n,endTimestamp:o,data:i}}});return typeof a=="string"?Promise.resolve(null):a})}function gB(e){let{from:t,to:r}=e,n=Date.now()/1e3;return{type:"navigation.push",start:n,end:n,name:r,data:{previous:t}}}function yB(e){return t=>{if(!e.isEnabled())return;let r=gB(t);r!==null&&(e.getContext().urls.push(r.name),e.triggerUserActivity(),e.addUpdate(()=>(Ff(e,[r]),!1)))}}function _B(e,t){return ye&&e.getOptions()._experiments.traceInternals?!1:Dg(t,rt())}function jf(e,t){e.isEnabled()&&t!==null&&(_B(e,t.name)||e.addUpdate(()=>(Ff(e,[t]),!0)))}function SB(e){let{startTimestamp:t,endTimestamp:r,fetchData:n,response:o}=e;if(!r)return null;let{method:s,url:i}=n;return{type:"resource.fetch",start:t/1e3,end:r/1e3,name:i,data:{method:s,statusCode:o?o.status:void 0}}}function EB(e){return t=>{if(!e.isEnabled())return;let r=SB(t);jf(e,r)}}function bB(e){let{startTimestamp:t,endTimestamp:r,xhr:n}=e,o=n[xn];if(!t||!r||!o)return null;let{method:s,url:i,status_code:a}=o;return i===void 0?null:{type:"resource.xhr",name:i,start:t/1e3,end:r/1e3,data:{method:s,statusCode:a}}}function vB(e){return t=>{if(!e.isEnabled())return;let r=bB(t);jf(e,r)}}function Bf(e,t){if(e)try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){let r=jx(e);return t.encode(r).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch(r){}}function Mx(e){if(!e)return;let t=parseInt(e,10);return isNaN(t)?void 0:t}function Lx(e){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[jx(e)];if(!e)return[void 0]}catch(t){return ye&&j.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return ye&&j.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Nf(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};let r=d({},e._meta),n=r.warnings||[];return r.warnings=[...n,t],e._meta=r,e}function Fx(e,t){if(!t)return null;let{startTimestamp:r,endTimestamp:n,url:o,method:s,statusCode:i,request:a,response:c}=t;return{type:e,start:r/1e3,end:n/1e3,name:o,data:Ye({method:s,statusCode:i,request:a,response:c})}}function vc(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Nn(e,t,r){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!r)return{headers:e,size:t};let n={headers:e,size:t},{body:o,warnings:s}=TB(r);return n.body=o,s&&s.length>0&&(n._meta={warnings:s}),n}function iy(e,t){return Object.keys(e).reduce((r,n)=>{let o=n.toLowerCase();return t.includes(o)&&e[n]&&(r[o]=e[n]),r},{})}function jx(e){return new URLSearchParams(e).toString()}function TB(e){if(!e||typeof e!="string")return{body:e};let t=e.length>FI,r=IB(e);if(t){let n=e.slice(0,FI);return r?{body:n,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${n}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(r)try{return{body:JSON.parse(e)}}catch(n){}return{body:e}}function IB(e){let t=e[0],r=e[e.length-1];return t==="["&&r==="]"||t==="{"&&r==="}"}function Pf(e,t){let r=xB(e);return tg(r,t)}function xB(e,t=be.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(be.location.origin))return e;let r=new URL(e,t);if(r.origin!==new URL(t).origin)return e;let n=r.href;return!e.endsWith("/")&&n.endsWith("/")?n.slice(0,-1):n}function wB(e,t,r){return P(this,null,function*(){try{let n=yield OB(e,t,r),o=Fx("resource.fetch",n);jf(r.replay,o)}catch(n){ye&&j.error("[Replay] Failed to capture fetch breadcrumb",n)}})}function CB(e,t,r){let{input:n,response:o}=t,s=n?Bx(n):void 0,i=Bf(s,r.textEncoder),a=o?Mx(o.headers.get("content-length")):void 0;i!==void 0&&(e.data.request_body_size=i),a!==void 0&&(e.data.response_body_size=a)}function OB(e,t,r){return P(this,null,function*(){let n=Date.now(),{startTimestamp:o=n,endTimestamp:s=n}=t,{url:i,method:a,status_code:c=0,request_body_size:u,response_body_size:l}=e.data,f=Pf(i,r.networkDetailAllowUrls)&&!Pf(i,r.networkDetailDenyUrls),p=f?RB(r,t.input,u):vc(u),m=yield kB(f,r,t.response,l);return{startTimestamp:o,endTimestamp:s,url:i,method:a,statusCode:c,request:p,response:m}})}function RB({networkCaptureBodies:e,networkRequestHeaders:t},r,n){let o=r?PB(r,t):{};if(!e)return Nn(o,n,void 0);let s=Bx(r),[i,a]=Lx(s),c=Nn(o,n,i);return a?Nf(c,a):c}function kB(i,a,c,u){return P(this,arguments,function*(e,{networkCaptureBodies:t,textEncoder:r,networkResponseHeaders:n},o,s){if(!e&&s!==void 0)return vc(s);let l=o?Ux(o.headers,n):{};if(!o||!t&&s!==void 0)return Nn(l,s,void 0);let[f,p]=yield NB(o),m=AB(f,{networkCaptureBodies:t,textEncoder:r,responseBodySize:s,captureDetails:e,headers:l});return p?Nf(m,p):m})}function AB(e,{networkCaptureBodies:t,textEncoder:r,responseBodySize:n,captureDetails:o,headers:s}){try{let i=e&&e.length&&n===void 0?Bf(e,r):n;return o?t?Nn(s,i,e):Nn(s,i,void 0):vc(i)}catch(i){return ye&&j.warn("[Replay] Failed to serialize response body",i),Nn(s,n,void 0)}}function NB(e){return P(this,null,function*(){let t=$B(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[yield DB(t)]}catch(r){return ye&&j.warn("[Replay] Failed to get text body from response",r),[void 0,"BODY_PARSE_ERROR"]}})}function Bx(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function Ux(e,t){let r={};return t.forEach(n=>{e.get(n)&&(r[n]=e.get(n))}),r}function PB(e,t){return e.length===1&&typeof e[0]!="string"?ex(e[0],t):e.length===2?ex(e[1],t):{}}function ex(e,t){if(!e)return{};let r=e.headers;return r?r instanceof Headers?Ux(r,t):Array.isArray(r)?{}:iy(r,t):{}}function $B(e){try{return e.clone()}catch(t){ye&&j.warn("[Replay] Failed to clone response body",t)}}function DB(e){return new Promise((t,r)=>{let n=setTimeout(()=>r(new Error("Timeout while trying to read response body")),500);MB(e).then(o=>t(o),o=>r(o)).finally(()=>clearTimeout(n))})}function MB(e){return P(this,null,function*(){return yield e.text()})}function LB(e,t,r){return P(this,null,function*(){try{let n=jB(e,t,r),o=Fx("resource.xhr",n);jf(r.replay,o)}catch(n){ye&&j.error("[Replay] Failed to capture xhr breadcrumb",n)}})}function FB(e,t,r){let{xhr:n,input:o}=t;if(!n)return;let s=Bf(o,r.textEncoder),i=n.getResponseHeader("content-length")?Mx(n.getResponseHeader("content-length")):qB(n.response,n.responseType,r.textEncoder);s!==void 0&&(e.data.request_body_size=s),i!==void 0&&(e.data.response_body_size=i)}function jB(e,t,r){let n=Date.now(),{startTimestamp:o=n,endTimestamp:s=n,input:i,xhr:a}=t,{url:c,method:u,status_code:l=0,request_body_size:f,response_body_size:p}=e.data;if(!c)return null;if(!a||!Pf(c,r.networkDetailAllowUrls)||Pf(c,r.networkDetailDenyUrls)){let C=vc(f),w=vc(p);return{startTimestamp:o,endTimestamp:s,url:c,method:u,statusCode:l,request:C,response:w}}let m=a[xn],h=m?iy(m.request_headers,r.networkRequestHeaders):{},_=iy(BB(a),r.networkResponseHeaders),[y,g]=r.networkCaptureBodies?Lx(i):[void 0],[S,T]=r.networkCaptureBodies?UB(a):[void 0],x=Nn(h,f,y),I=Nn(_,p,S);return{startTimestamp:o,endTimestamp:s,url:c,method:u,statusCode:l,request:g?Nf(x,g):x,response:T?Nf(I,T):I}}function BB(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((r,n)=>{let[o,s]=n.split(": ");return r[o.toLowerCase()]=s,r},{}):{}}function UB(e){let t=[];try{return[e.responseText]}catch(r){t.push(r)}try{return HB(e.response,e.responseType)}catch(r){t.push(r)}return ye&&j.warn("[Replay] Failed to get xhr response body",...t),[void 0]}function HB(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(r){return ye&&j.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return ye&&j.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function qB(e,t,r){try{let n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return Bf(n,r)}catch(n){return}}function GB(e){let t=rt();try{let r=new TextEncoder,{networkDetailAllowUrls:n,networkDetailDenyUrls:o,networkCaptureBodies:s,networkRequestHeaders:i,networkResponseHeaders:a}=e.getOptions(),c={replay:e,textEncoder:r,networkDetailAllowUrls:n,networkDetailDenyUrls:o,networkCaptureBodies:s,networkRequestHeaders:i,networkResponseHeaders:a};t&&t.on?t.on("beforeAddBreadcrumb",(u,l)=>zB(c,u,l)):(mg(EB(e)),gg(vB(e)))}catch(r){}}function zB(e,t,r){if(t.data)try{VB(t)&&KB(r)&&(FB(t,r,e),LB(t,r,e)),WB(t)&&YB(r)&&(CB(t,r,e),wB(t,r,e))}catch(n){ye&&j.warn("Error when enriching network breadcrumb")}}function VB(e){return e.category==="xhr"}function WB(e){return e.category==="fetch"}function KB(e){return e&&e.xhr}function YB(e){return e&&e.response}var tx=null;function JB(e){return!!e.category}var XB=e=>t=>{if(!e.isEnabled())return;let r=ZB(t);r&&Ic(e,r)};function ZB(e){let t=e.getLastBreadcrumb&&e.getLastBreadcrumb();return tx===t||!t||(tx=t,!JB(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui."))?null:t.category==="console"?QB(t):Or(t)}function QB(e){let t=e.data&&e.data.arguments;if(!Array.isArray(t)||t.length===0)return Or(e);let r=!1,n=t.map(o=>{if(!o)return o;if(typeof o=="string")return o.length>_f?(r=!0,`${o.slice(0,_f)}\u2026`):o;if(typeof o=="object")try{let s=lr(o,7);return JSON.stringify(s).length>_f?(r=!0,`${JSON.stringify(s,null,2).slice(0,_f)}\u2026`):s}catch(s){}return o});return Or(b(d({},e),{data:d(b(d({},e.data),{arguments:n}),r?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{})}))}function eU(e){let t=Co(),r=rt();t.addScopeListener(XB(e)),fg($j(e)),hg(yB(e)),GB(e);let n=hB(e,!rx(r));r&&r.addEventProcessor?r.addEventProcessor(n):$g(n),rx(r)&&(r.on("beforeSendEvent",lB(e)),r.on("afterSendEvent",Dx(e)),r.on("createDsc",o=>{let s=e.getSessionId();s&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(o.replay_id=s)}),r.on("startTransaction",o=>{e.lastTransaction=o}),r.on("finishTransaction",o=>{e.lastTransaction=o}),r.on("beforeSendFeedback",(o,s)=>{let i=e.getSessionId();s&&s.includeReplay&&e.isEnabled()&&i&&o.contexts&&o.contexts.feedback&&(o.contexts.feedback.replay_id=i)}))}function rx(e){return!!(e&&e.on)}function tU(e){return P(this,null,function*(){try{return Promise.all(Ff(e,[rU(be.performance.memory)]))}catch(t){return[]}})}function rU(e){let{jsHeapSizeLimit:t,totalJSHeapSize:r,usedJSHeapSize:n}=e,o=Date.now()/1e3;return{type:"memory",name:"memory",start:o,end:o,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:r,usedJSHeapSize:n}}}}function nU(e,t,r){let n,o,s,i=r&&r.maxWait?Math.max(r.maxWait,t):0;function a(){return c(),n=e(),n}function c(){o!==void 0&&clearTimeout(o),s!==void 0&&clearTimeout(s),o=s=void 0}function u(){return o!==void 0||s!==void 0?a():n}function l(){return o&&clearTimeout(o),o=setTimeout(a,t),i&&s===void 0&&(s=setTimeout(a,i)),n}return l.cancel=c,l.flush=u,l}function oU(e){let t=!1;return(r,n)=>{if(!e.checkAndHandleExpiredSession()){ye&&j.warn("[Replay] Received replay event after session expired.");return}let o=n||!t;t=!0,e.clickDetector&&Rj(e.clickDetector,r),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&o&&e.setInitialState(),!Sy(e,r,o))return!0;if(!o)return!1;if(iU(e,o),e.session&&e.session.previousSessionId)return!0;if(e.recordingMode==="buffer"&&e.session&&e.eventBuffer){let s=e.eventBuffer.getEarliestTimestamp();s&&(lt(`[Replay] Updating session start time to earliest event in buffer to ${new Date(s)}`,e.getOptions()._experiments.traceInternals),e.session.started=s,e.getOptions().stickySession&&_y(e.session))}return e.recordingMode==="session"&&e.flush(),!0})}}function sU(e){let t=e.getOptions();return{type:W.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function iU(e,t){!t||!e.session||e.session.segmentId!==0||Sy(e,sU(e),!1)}function aU(e,t,r,n){return _g(Eg(e,Sg(e),n,r),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function cU({recordingData:e,headers:t}){let r,n=`${JSON.stringify(t)}
`;if(typeof e=="string")r=`${n}${e}`;else{let s=new TextEncoder().encode(n);r=new Uint8Array(s.length+e.length),r.set(s),r.set(e,s.length)}return r}function uU(o){return P(this,arguments,function*({client:e,scope:t,replayId:r,event:n}){let s=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,i={event_id:r,integrations:s};e.emit&&e.emit("preprocessEvent",n,i);let a=yield Cg(e.getOptions(),n,i,t,e,uf());if(!a)return null;a.platform=a.platform||"javascript";let c=e.getSdkMetadata&&e.getSdkMetadata(),{name:u,version:l}=c&&c.sdk||{};return a.sdk=b(d({},a.sdk),{name:u||"sentry.javascript.unknown",version:l||"0.0.0"}),a})}function lU(i){return P(this,arguments,function*({recordingData:e,replayId:t,segmentId:r,eventContext:n,timestamp:o,session:s}){let a=cU({recordingData:e,headers:{segment_id:r}}),{urls:c,errorIds:u,traceIds:l,initialTimestamp:f}=n,p=rt(),m=Co(),h=p&&p.getTransport(),_=p&&p.getDsn();if(!p||!h||!_||!s.sampled)return;let y={type:aF,replay_start_timestamp:f/1e3,timestamp:o/1e3,error_ids:u,trace_ids:l,urls:c,replay_id:t,segment_id:r,replay_type:s.sampled},g=yield uU({scope:m,client:p,replayId:t,event:y});if(!g){p.recordDroppedEvent("event_processor","replay",y),lt("An event processor returned `null`, will not send event.");return}delete g.sdkProcessingMetadata;let S=aU(g,a,_,p.getOptions().tunnel),T;try{T=yield h.send(S)}catch(I){let C=new Error(uy);try{C.cause=I}catch(w){}throw C}if(!T)return T;if(typeof T.statusCode=="number"&&(T.statusCode<200||T.statusCode>=300))throw new $f(T.statusCode);let x=vg({},T);if(bg(x,"replay"))throw new Df(x);return T})}var $f=class extends Error{constructor(t){super(`Transport returned status code ${t}`)}},Df=class extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}};function Hx(r){return P(this,arguments,function*(e,t={count:0,interval:pF}){let{recordingData:n,options:o}=e;if(n.length)try{return yield lU(e),!0}catch(s){if(s instanceof $f||s instanceof Df)throw s;if(Rg("Replays",{_retryCount:t.count}),ye&&o._experiments&&o._experiments.captureExceptions&&cf(s),t.count>=mF){let i=new Error(`${uy} - max retries exceeded`);try{i.cause=s}catch(a){}throw i}return t.interval*=++t.count,new Promise((i,a)=>{setTimeout(()=>P(this,null,function*(){try{yield Hx(e,t),i(!0)}catch(c){a(c)}}),t.interval)})}})}var qx="__THROTTLED",fU="__SKIPPED";function dU(e,t,r){let n=new Map,o=a=>{let c=a-r;n.forEach((u,l)=>{l<c&&n.delete(l)})},s=()=>[...n.values()].reduce((a,c)=>a+c,0),i=!1;return(...a)=>{let c=Math.floor(Date.now()/1e3);if(o(c),s()>=t){let l=i;return i=!0,l?fU:qx}i=!1;let u=n.get(c)||0;return n.set(c,u+1),e(...a)}}var ay=class e{constructor({options:t,recordingOptions:r}){e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),e.prototype.__init5.call(this),e.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:cF,sessionIdleExpire:uF},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=r,this._options=t,this._debouncedFlush=nU(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=dU((i,a)=>oB(this,i,a),300,5);let{slowClickTimeout:n,slowClickIgnoreSelectors:o}=this.getOptions(),s=n?{threshold:Math.min(hF,n),timeout:n,scrollTimeout:gF,ignoreSelector:o?o.join(","):""}:void 0;s&&(this.clickDetector=new ey(this,s))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}initializeSampling(t){let{errorSampleRate:r,sessionSampleRate:n}=this._options;if(!(r<=0&&n<=0)){if(this._initializeSessionForSampling(t),!this.session){this._handleException(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",Gs(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session")throw new Error("Replay recording is already in progress");if(this._isEnabled&&this.recordingMode==="buffer")throw new Error("Replay buffering is in progress, call `flush()` to save the replay");Gs("[Replay] Starting replay in session mode",this._options._experiments.traceInternals),this._updateUserActivity();let t=Bg({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");Gs("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);let t=Bg({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{let t=this._canvas;this._stopRecording=An(d(b(d(d({},this._recordingOptions),this.recordingMode==="buffer"&&{checkoutEveryNms:dF}),{emit:oU(this),onMutation:this._onMutationHandler}),t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}))}catch(t){this._handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this._handleException(t),!1}}stop(){return P(this,arguments,function*({forceFlush:t=!1,reason:r}={}){if(this._isEnabled){this._isEnabled=!1;try{lt(`[Replay] Stopping Replay${r?` triggered by ${r}`:""}`,this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&(yield this._flush({force:!0})),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,Qj(this)}catch(n){this._handleException(n)}}})}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),lt("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),lt("[Replay] Resuming replay",this._options._experiments.traceInternals))}sendBufferedReplayOrFlush(){return P(this,arguments,function*({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();let r=Date.now();lt("[Replay] Converting buffer to session",this._options._experiments.traceInternals),yield this.flushImmediate();let n=this.stopRecording();!t||!n||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(r),this._updateSessionActivity(r),this._maybeSaveSession()),this.startRecording())})}addUpdate(t){let r=t();this.recordingMode!=="buffer"&&r!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&oy(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){let t=`${be.location.pathname}${be.location.hash}${be.location.search}`,r=`${be.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=r,this._context.initialTimestamp=Date.now(),this._context.urls.push(r)}throttledAddEvent(t,r){let n=this._throttledAddEvent(t,r);if(n===qx){let o=Or({category:"replay.throttled"});this.addUpdate(()=>!Sy(this,{type:Ej,timestamp:o.timestamp||0,data:{tag:"breadcrumb",payload:o,metric:!0}}))}return n}getCurrentRoute(){let t=this.lastTransaction||Co().getTransaction(),n=(t&&Ut(t).data||{})[Pg];if(!(!t||!n||!["route","custom"].includes(n)))return Ut(t).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=Jj({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(t){ye&&j.error("[Replay]",t),ye&&this._options._experiments&&this._options._experiments.captureExceptions&&cf(t)}_initializeSessionForSampling(t){let r=this._options.errorSampleRate>0,n=Bg({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:r});this.session=n}_checkSession(){if(!this.session)return!1;let t=this.session;return Nx(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}_refreshSession(t){return P(this,null,function*(){this._isEnabled&&(yield this.stop({reason:"refresh session"}),this.initializeSampling(t.id))})}_addListeners(){try{be.document.addEventListener("visibilitychange",this._handleVisibilityChange),be.addEventListener("blur",this._handleWindowBlur),be.addEventListener("focus",this._handleWindowFocus),be.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(eU(this),this._hasInitializedCoreListeners=!0)}catch(t){this._handleException(t)}this._performanceCleanupCallback=Wj(this)}_removeListeners(){try{be.document.removeEventListener("visibilitychange",this._handleVisibilityChange),be.removeEventListener("blur",this._handleWindowBlur),be.removeEventListener("focus",this._handleWindowFocus),be.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this._handleException(t)}}__init(){this._handleVisibilityChange=()=>{be.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{let t=Or({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{let t=Or({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{Fj(this,t)}}_doChangeToBackgroundTasks(t){!this.session||Ax(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){lt("[Replay] Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:W.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=Uj(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(Ff(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){let{session:t,eventBuffer:r}=this;if(!t||!r||t.segmentId)return;let n=r.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){let t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}_runFlush(){return P(this,null,function*(){let t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){ye&&j.error("[Replay] No session or eventBuffer found to flush.");return}if(yield this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(yield tU(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();let r=Date.now();if(r-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");let n=this._popEventContext(),o=this.session.segmentId++;this._maybeSaveSession();let s=yield this.eventBuffer.finish();yield Hx({replayId:t,recordingData:s,segmentId:o,eventContext:n,session:this.session,options:this.getOptions(),timestamp:r})}catch(r){this._handleException(r),this.stop({reason:"sendReplay"});let n=rt();n&&n.recordDroppedEvent("send_error","replay")}})}__init5(){this._flush=(...r)=>P(this,[...r],function*({force:t=!1}={}){if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){ye&&j.error("[Replay] Attempting to finish replay event after session expired.");return}if(!this.session)return;let n=this.session.started,s=Date.now()-n;this._debouncedFlush.cancel();let i=s<this._options.minReplayDuration,a=s>this._options.maxReplayDuration+5e3;if(i||a){lt(`[Replay] Session duration (${Math.floor(s/1e3)}s) is too ${i?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),i&&this._debouncedFlush();return}let c=this.eventBuffer;if(c&&this.session.segmentId===0&&!c.hasCheckout&&lt("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock){this._flushLock=this._runFlush(),yield this._flushLock,this._flushLock=void 0;return}try{yield this._flushLock}catch(u){ye&&j.error(u)}finally{this._debouncedFlush()}})}_maybeSaveSession(){this.session&&this._options.stickySession&&_y(this.session)}__init6(){this._onMutationHandler=t=>{let r=t.length,n=this._options.mutationLimit,o=this._options.mutationBreadcrumbLimit,s=n&&r>n;if(r>o||s){let i=Or({category:"replay.mutations",data:{count:r,limit:s}});this._createCustomBreadcrumb(i)}return s?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}};function pc(e,t,r,n){let o=typeof n=="string"?n.split(","):[],s=[...e,...o,...t];return typeof r!="undefined"&&(typeof r=="string"&&s.push(`.${r}`),vn(()=>{console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")})),s.join(",")}function pU({mask:e,unmask:t,block:r,unblock:n,ignore:o,blockClass:s,blockSelector:i,maskTextClass:a,maskTextSelector:c,ignoreClass:u}){let l=['base[href="/"]'],f=pc(e,[".sentry-mask","[data-sentry-mask]"],a,c),p=pc(t,[".sentry-unmask","[data-sentry-unmask]"]),m={maskTextSelector:f,unmaskTextSelector:p,blockSelector:pc(r,[".sentry-block","[data-sentry-block]",...l],s,i),unblockSelector:pc(n,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:pc(o,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],u)};return s instanceof RegExp&&(m.blockClass=s),a instanceof RegExp&&(m.maskTextClass=a),m}function mU({el:e,key:t,maskAttributes:r,maskAllText:n,privacyOptions:o,value:s}){return!n||o.unmaskTextSelector&&e.matches(o.unmaskTextSelector)?s:r.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?s.replace(/[\S]/g,"*"):s}var nx='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',hU=["content-length","content-type","accept"],ox=!1,Gx=e=>new Ks(e),Ks=class e{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=lF,flushMaxDelay:r=fF,minReplayDuration:n=yF,maxReplayDuration:o=jI,stickySession:s=!0,useCompression:i=!0,workerUrl:a,_experiments:c={},sessionSampleRate:u,errorSampleRate:l,maskAllText:f=!0,maskAllInputs:p=!0,blockAllMedia:m=!0,mutationBreadcrumbLimit:h=750,mutationLimit:_=1e4,slowClickTimeout:y=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:S=[],networkDetailDenyUrls:T=[],networkCaptureBodies:x=!0,networkRequestHeaders:I=[],networkResponseHeaders:C=[],mask:w=[],maskAttributes:B=["title","placeholder"],unmask:fe=[],block:R=[],unblock:$=[],ignore:ie=[],maskFn:ve,beforeAddRecordingEvent:Me,beforeErrorSampling:xt,blockClass:me,blockSelector:Rt,maskInputOptions:Le,maskTextClass:mt,maskTextSelector:Xt,ignoreClass:Hp}={}){this.name=e.id;let ts=pU({mask:w,unmask:fe,block:R,unblock:$,ignore:ie,blockClass:me,blockSelector:Rt,maskTextClass:mt,maskTextSelector:Xt,ignoreClass:Hp});if(this._recordingOptions=b(d({maskAllInputs:p,maskAllText:f,maskInputOptions:b(d({},Le||{}),{password:!0}),maskTextFn:ve,maskInputFn:ve,maskAttributeFn:(fn,rs,ia)=>mU({maskAttributes:B,maskAllText:f,privacyOptions:ts,key:fn,value:rs,el:ia})},ts),{slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:fn=>{try{fn.__rrweb__=!0}catch(rs){}}}),this._initialOptions={flushMinDelay:t,flushMaxDelay:r,minReplayDuration:Math.min(n,_F),maxReplayDuration:Math.min(o,jI),stickySession:s,sessionSampleRate:u,errorSampleRate:l,useCompression:i,workerUrl:a,blockAllMedia:m,maskAllInputs:p,maskAllText:f,mutationBreadcrumbLimit:h,mutationLimit:_,slowClickTimeout:y,slowClickIgnoreSelectors:g,networkDetailAllowUrls:S,networkDetailDenyUrls:T,networkCaptureBodies:x,networkRequestHeaders:sx(I),networkResponseHeaders:sx(C),beforeAddRecordingEvent:Me,beforeErrorSampling:xt,_experiments:c},typeof u=="number"&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysSessionSampleRate: ${u} })`),this._initialOptions.sessionSampleRate=u),typeof l=="number"&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysOnErrorSampleRate: ${l} })`),this._initialOptions.errorSampleRate=l),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${nx}`:nx),this._isInitialized&&nf())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return ox}set _isInitialized(t){ox=t}setupOnce(){nf()&&(this._setup(),setTimeout(()=>this._initialize()))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return!this._replay||!this._replay.isEnabled()?Promise.resolve():this._replay.sendBufferedReplayOrFlush(t)}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}_initialize(){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(),this._replay.initializeSampling())}_setup(){let t=gU(this._initialOptions);this._replay=new ay({options:t,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(){try{let r=rt().getIntegrationByName("ReplayCanvas");if(!r)return;this._replay._canvas=r.getOptions()}catch(t){}}};Ks.__initStatic();function gU(e){let t=rt(),r=t&&t.getOptions(),n=d({sessionSampleRate:0,errorSampleRate:0},Ye(e));return r?(e.sessionSampleRate==null&&e.errorSampleRate==null&&r.replaysSessionSampleRate==null&&r.replaysOnErrorSampleRate==null&&vn(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),typeof r.replaysSessionSampleRate=="number"&&(n.sessionSampleRate=r.replaysSessionSampleRate),typeof r.replaysOnErrorSampleRate=="number"&&(n.errorSampleRate=r.replaysOnErrorSampleRate),n):(vn(()=>{console.warn("SDK client is not available.")}),n)}function sx(e){return[...hU,...e.map(t=>t.toLowerCase())]}function zx(){let e=rt();return e&&e.getIntegrationByName&&e.getIntegrationByName("Replay")}function by(e){let t,r=e[0],n=1;for(;n<e.length;){let o=e[n],s=e[n+1];if(n+=2,(o==="optionalAccess"||o==="optionalCall")&&r==null)return;o==="access"||o==="optionalAccess"?(t=r,r=s(r)):(o==="call"||o==="optionalCall")&&(r=s((...i)=>r.call(t,...i)),t=void 0)}return r}function vy(e,t){return Object.assign(function(...n){return t(...n)},{id:e})}var Vx;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(Vx||(Vx={}));function _U(e,t){for(let r=e.classList.length;r--;){let n=e.classList[r];if(t.test(n))return!0}return!1}function Ty(e,t,r=1/0,n=0){return!e||e.nodeType!==e.ELEMENT_NODE||n>r?-1:t(e)?n:Ty(e.parentNode,t,r,n+1)}function Wx(e,t){return r=>{let n=r;if(n===null)return!1;try{if(e){if(typeof e=="string"){if(n.matches(`.${e}`))return!0}else if(_U(n,e))return!0}return!!(t&&n.matches(t))}catch(o){return!1}}}var Ys=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,Kx={map:{},getId(){return console.error(Ys),-1},getNode(){return console.error(Ys),null},removeNodeFromMap(){console.error(Ys)},has(){return console.error(Ys),!1},reset(){console.error(Ys)}};typeof window!="undefined"&&window.Proxy&&window.Reflect&&(Kx=new Proxy(Kx,{get(e,t,r){return t==="map"&&console.error(Ys),Reflect.get(e,t,r)}}));function xy(e,t,r,n,o=window){let s=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,n?r:{set(i){rw(()=>{r.set.call(this,i)},0),s&&s.set&&s.set.call(this,i)}}),()=>xy(e,t,s||{},!0)}function wy(e,t,r){try{if(!(t in e))return()=>{};let n=e[t],o=r(n);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:n}})),e[t]=o,()=>{e[t]=n}}catch(n){return()=>{}}}/[1-9][0-9]{12}/.test(Date.now().toString());function SU(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function Gf(e,t,r,n,o){if(!e)return!1;let s=SU(e);if(!s)return!1;let i=Wx(t,r);if(!o){let u=n&&s.matches(n);return i(s)&&!u}let a=Ty(s,i),c=-1;return a<0?!1:(n&&(c=Ty(s,Wx(null,n))),a>-1&&c<0?!0:a<c)}var Yx={};function tw(e){let t=Yx[e];if(t)return t;let r=window.document,n=window[e];if(r&&typeof r.createElement=="function")try{let o=r.createElement("iframe");o.hidden=!0,r.head.appendChild(o);let s=o.contentWindow;s&&s[e]&&(n=s[e]),r.head.removeChild(o)}catch(o){}return Yx[e]=n.bind(window)}function Ro(...e){return tw("requestAnimationFrame")(...e)}function rw(...e){return tw("setTimeout")(...e)}var Xs=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(Xs||{}),Hf;function EU(e){Hf=e}var Jx=e=>Hf?(...r)=>{try{return e(...r)}catch(n){if(Hf&&Hf(n)===!0)return()=>{};throw n}}:e,Js="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bU=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(xc=0;xc<Js.length;xc++)bU[Js.charCodeAt(xc)]=xc;var xc,vU=function(e){var t=new Uint8Array(e),r,n=t.length,o="";for(r=0;r<n;r+=3)o+=Js[t[r]>>2],o+=Js[(t[r]&3)<<4|t[r+1]>>4],o+=Js[(t[r+1]&15)<<2|t[r+2]>>6],o+=Js[t[r+2]&63];return n%3===2?o=o.substring(0,o.length-1)+"=":n%3===1&&(o=o.substring(0,o.length-2)+"=="),o},Xx=new Map;function TU(e,t){let r=Xx.get(e);return r||(r=new Map,Xx.set(e,r)),r.has(t)||r.set(t,[]),r.get(t)}var nw=(e,t,r)=>{if(!e||!(sw(e,t)||typeof e=="object"))return;let n=e.constructor.name,o=TU(r,n),s=o.indexOf(e);return s===-1&&(s=o.length,o.push(e)),s};function qf(e,t,r){if(e instanceof Array)return e.map(n=>qf(n,t,r));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){let n=e.constructor.name,o=vU(e);return{rr_type:n,base64:o}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[qf(e.buffer,t,r),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){let n=e.constructor.name,{src:o}=e;return{rr_type:n,src:o}}else if(e instanceof HTMLCanvasElement){let n="HTMLImageElement",o=e.toDataURL();return{rr_type:n,src:o}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[qf(e.data,t,r),e.width,e.height]};if(sw(e,t)||typeof e=="object"){let n=e.constructor.name,o=nw(e,t,r);return{rr_type:n,index:o}}}}return e}var ow=(e,t,r)=>e.map(n=>qf(n,t,r)),sw=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(o=>typeof t[o]=="function").find(o=>e instanceof t[o]);function IU(e,t,r,n,o){let s=[],i=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(let a of i)try{if(typeof t.CanvasRenderingContext2D.prototype[a]!="function")continue;let c=wy(t.CanvasRenderingContext2D.prototype,a,function(u){return function(...l){return Gf(this.canvas,r,n,o,!0)||rw(()=>{let f=ow(l,t,this);e(this.canvas,{type:Xs["2D"],property:a,args:f})},0),u.apply(this,l)}});s.push(c)}catch(c){let u=xy(t.CanvasRenderingContext2D.prototype,a,{set(l){e(this.canvas,{type:Xs["2D"],property:a,args:[l],setter:!0})}});s.push(u)}return()=>{s.forEach(a=>a())}}function xU(e){return e==="experimental-webgl"?"webgl":e}function Zx(e,t,r,n,o){let s=[];try{let i=wy(e.HTMLCanvasElement.prototype,"getContext",function(a){return function(c,...u){if(!Gf(this,t,r,n,!0)){let l=xU(c);if("__context"in this||(this.__context=l),o&&["webgl","webgl2"].includes(l))if(u[0]&&typeof u[0]=="object"){let f=u[0];f.preserveDrawingBuffer||(f.preserveDrawingBuffer=!0)}else u.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[c,...u])}});s.push(i)}catch(i){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{s.forEach(i=>i())}}function Qx(e,t,r,n,o,s,i,a){let c=[],u=Object.getOwnPropertyNames(e);for(let l of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(l))try{if(typeof e[l]!="function")continue;let f=wy(e,l,function(p){return function(...m){let h=p.apply(this,m);if(nw(h,a,this),"tagName"in this.canvas&&!Gf(this.canvas,n,o,s,!0)){let _=ow(m,a,this),y={type:t,property:l,args:_};r(this.canvas,y)}return h}});c.push(f)}catch(f){let p=xy(e,l,{set(m){r(this.canvas,{type:t,property:l,args:[m],setter:!0})}});c.push(p)}return c}function wU(e,t,r,n,o,s){let i=[];return i.push(...Qx(t.WebGLRenderingContext.prototype,Xs.WebGL,e,r,n,o,s,t)),typeof t.WebGL2RenderingContext!="undefined"&&i.push(...Qx(t.WebGL2RenderingContext.prototype,Xs.WebGL2,e,r,n,o,s,t)),()=>{i.forEach(a=>a())}}var CU='for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};';function OU(){let e=new Blob([CU]);return URL.createObjectURL(e)}var Iy=class{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(f,p)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(f)||this.pendingCanvasMutations.set(f,[]),this.pendingCanvasMutations.get(f).push(p)};let{sampling:r="all",win:n,blockClass:o,blockSelector:s,unblockSelector:i,maxCanvasSize:a,recordCanvas:c,dataURLOptions:u,errorHandler:l}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,this.options=t,l&&EU(l),!t.enableManualSnapshot&&Jx(()=>{c&&r==="all"&&this.initCanvasMutationObserver(n,o,s,i),c&&typeof r=="number"&&this.initCanvasFPSObserver(r,n,o,s,i,a,{dataURLOptions:u})})()}initCanvasFPSObserver(t,r,n,o,s,i,a){let c=Zx(r,n,o,s,!0),u=this.takeSnapshot(!1,t,r,n,o,s,i,a.dataURLOptions);this.resetObservers=()=>{c(),cancelAnimationFrame(u)}}initCanvasMutationObserver(t,r,n,o){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();let s=Zx(t,r,n,o,!1),i=IU(this.processMutation.bind(this),t,r,n,o),a=wU(this.processMutation.bind(this),t,r,n,o,this.mirror);this.resetObservers=()=>{s(),i(),a()}}snapshot(t){let{options:r}=this,n=this.takeSnapshot(!0,r.sampling==="all"?2:r.sampling||2,r.win,r.blockClass,r.blockSelector,r.unblockSelector,r.maxCanvasSize,r.dataURLOptions,t);this.resetObservers=()=>{cancelAnimationFrame(n)}}takeSnapshot(t,r,n,o,s,i,a,c,u){let l=new Map,f=new Worker(OU());f.onmessage=g=>{let S=g.data,{id:T}=S;if(l.set(T,!1),!("base64"in S))return;let{base64:x,type:I,width:C,height:w}=S;this.mutationCb({id:T,type:Xs["2D"],commands:[{property:"clearRect",args:[0,0,C,w]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:x}],type:I}]},0,0,C,w]}]})};let p=1e3/r,m=0,h,_=g=>{if(g)return[g];let S=[];return n.document.querySelectorAll("canvas").forEach(T=>{Gf(T,o,s,i,!0)||S.push(T)}),S},y=g=>{if(m&&g-m<p){h=Ro(y);return}m=g,_(u).forEach(S=>{let T=this.mirror.getId(S);if(!l.get(T)&&!(!S.width||!S.height)){if(l.set(T,!0),!t&&["webgl","webgl2"].includes(S.__context)){let x=S.getContext(S.__context);by([x,"optionalAccess",I=>I.getContextAttributes,"call",I=>I(),"optionalAccess",I=>I.preserveDrawingBuffer])===!1&&x.clear(x.COLOR_BUFFER_BIT)}createImageBitmap(S).then(x=>{f.postMessage({id:T,bitmap:x,width:S.width,height:S.height,dataURLOptions:c,maxCanvasSize:a},[x])}).catch(x=>{Jx(()=>{throw x})()})}}),h=Ro(y)};return h=Ro(y),h}startPendingCanvasMutationFlusher(){Ro(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){let t=r=>{this.rafStamps.latestId=r,Ro(t)};Ro(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,r)=>{let n=this.mirror.getId(r);this.flushPendingCanvasMutationFor(r,n)}),Ro(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,r){if(this.frozen||this.locked)return;let n=this.pendingCanvasMutations.get(t);if(!n||r===-1)return;let o=n.map(i=>{let u=i,{type:a}=u;return oo(u,["type"])}),{type:s}=n[0];this.mutationCb({id:r,type:s,commands:o}),this.pendingCanvasMutations.delete(t)}},ew={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},iw="ReplayCanvas",Uf=1280,RU=(e={})=>{let[t,r]=e.maxCanvasSize||[],n={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,Uf):Uf,r?Math.min(r,Uf):Uf]},o,s=new Promise(a=>o=a);return{name:iw,setupOnce(){},getOptions(){let{quality:a,enableManualSnapshot:c,maxCanvasSize:u}=n;return d({enableManualSnapshot:c,recordCanvas:!0,getCanvasManager:l=>{let f=new Iy(b(d({},l),{enableManualSnapshot:c,maxCanvasSize:u,errorHandler:p=>{try{typeof p=="object"&&(p.__rrweb__=!0)}catch(m){}}}));return o(f),f}},ew[a||"medium"]||ew.medium)},snapshot(a){return P(this,null,function*(){(yield s).snapshot(a)})}}},Cy=RU,aw=vy(iw,Cy);var cw=Object.prototype.toString;function Oy(e){switch(cw.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Qs(e,Error)}}function uw(e,t){return cw.call(e)===`[object ${t}]`}function Ry(e){return uw(e,"String")}function Zs(e){return uw(e,"Object")}function ky(e){return typeof Event!="undefined"&&Qs(e,Event)}function Ay(e){return typeof Element!="undefined"&&Qs(e,Element)}function ko(e){return!!(e&&e.then&&typeof e.then=="function")}function Ny(e){return Zs(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function Py(e){return typeof e=="number"&&e!==e}function Qs(e,t){try{return e instanceof t}catch(r){return!1}}function $y(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function wc(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function zf(e){return e&&e.Math==Math?e:void 0}var Re=typeof globalThis=="object"&&zf(globalThis)||typeof window=="object"&&zf(window)||typeof self=="object"&&zf(self)||typeof global=="object"&&zf(global)||function(){return this}()||{};function Dy(){return Re}function Cc(e,t,r){let n=r||Re,o=n.__SENTRY__=n.__SENTRY__||{};return o[e]||(o[e]=t())}var lw=Dy(),kU=80;function My(e,t={}){if(!e)return"<unknown>";try{let r=e,n=5,o=[],s=0,i=0,a=" > ",c=a.length,u,l=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||kU;for(;r&&s++<n&&(u=AU(r,l),!(u==="html"||s>1&&i+o.length*c+u.length>=f));)o.push(u),i+=u.length,r=r.parentNode;return o.reverse().join(a)}catch(r){return"<unknown>"}}function AU(e,t){let r=e,n=[],o,s,i,a,c;if(!r||!r.tagName)return"";if(lw.HTMLElement&&r instanceof HTMLElement&&r.dataset&&r.dataset.sentryComponent)return r.dataset.sentryComponent;n.push(r.tagName.toLowerCase());let u=t&&t.length?t.filter(f=>r.getAttribute(f)).map(f=>[f,r.getAttribute(f)]):null;if(u&&u.length)u.forEach(f=>{n.push(`[${f[0]}="${f[1]}"]`)});else if(r.id&&n.push(`#${r.id}`),o=r.className,o&&Ry(o))for(s=o.split(/\s+/),c=0;c<s.length;c++)n.push(`.${s[c]}`);let l=["aria-label","type","name","title","alt"];for(c=0;c<l.length;c++)i=l[c],a=r.getAttribute(i),a&&n.push(`[${i}="${a}"]`);return n.join("")}function Ly(){try{return lw.document.location.href}catch(e){return""}}var fw=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;var NU="Sentry Logger ",Fy=["debug","info","warn","error","log","assert","trace"],jy={};function Vf(e){if(!("console"in Re))return e();let t=Re.console,r={},n=Object.keys(jy);n.forEach(o=>{let s=jy[o];r[o]=t[o],t[o]=s});try{return e()}finally{n.forEach(o=>{t[o]=r[o]})}}function PU(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return fw?Fy.forEach(r=>{t[r]=(...n)=>{e&&Vf(()=>{Re.console[r](`${NU}[${r}]:`,...n)})}}):Fy.forEach(r=>{t[r]=()=>{}}),t}var Ne=PU();function By(e,t=!1){let{host:r,path:n,pass:o,port:s,projectId:i,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&o?`:${o}`:""}@${r}${s?`:${s}`:""}/${n&&`${n}/`}${i}`}function Hy(e){if(Oy(e))return d({message:e.message,name:e.name,stack:e.stack},pw(e));if(ky(e)){let t=d({type:e.type,target:dw(e.target),currentTarget:dw(e.currentTarget)},pw(e));return typeof CustomEvent!="undefined"&&Qs(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function dw(e){try{return Ay(e)?My(e):Object.prototype.toString.call(e)}catch(t){return"<unknown>"}}function pw(e){if(typeof e=="object"&&e!==null){let t={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}else return{}}function St(e){return Uy(e,new Map)}function Uy(e,t){if(DU(e)){let r=t.get(e);if(r!==void 0)return r;let n={};t.set(e,n);for(let o of Object.keys(e))typeof e[o]!="undefined"&&(n[o]=Uy(e[o],t));return n}if(Array.isArray(e)){let r=t.get(e);if(r!==void 0)return r;let n=[];return t.set(e,n),e.forEach(o=>{n.push(Uy(o,t))}),n}return e}function DU(e){if(!Zs(e))return!1;try{let t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch(t){return!0}}var qy="<anonymous>";function mw(e){try{return!e||typeof e!="function"?qy:e.name||qy}catch(t){return qy}}function nt(){let e=Re,t=e.crypto||e.msCrypto,r=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(r=()=>{let n=new Uint8Array(1);return t.getRandomValues(n),n[0]})}catch(n){}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(r()&15)>>n/4).toString(16))}function MU(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Gy(e,t){let r=MU(e);if(!r)return;let n={type:"generic",handled:!0},o=r.mechanism;if(r.mechanism=d(d(d({},n),o),t),t&&"data"in t){let s=d(d({},o&&o.data),t.data);r.mechanism.data=s}}function zy(e){return Array.isArray(e)?e:[e]}function hw(){return typeof __SENTRY_BROWSER_BUNDLE__!="undefined"&&!!__SENTRY_BROWSER_BUNDLE__}function gw(){return!hw()&&Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]"}function Vy(){return typeof window!="undefined"&&(!gw()||LU())}function LU(){return Re.process!==void 0&&Re.process.type==="renderer"}function yw(){let e=typeof WeakSet=="function",t=e?new WeakSet:[];function r(o){if(e)return t.has(o)?!0:(t.add(o),!1);for(let s=0;s<t.length;s++)if(t[s]===o)return!0;return t.push(o),!1}function n(o){if(e)t.delete(o);else for(let s=0;s<t.length;s++)if(t[s]===o){t.splice(s,1);break}}return[r,n]}function Pn(e,t=100,r=1/0){try{return Wf("",e,t,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function Wf(e,t,r=1/0,n=1/0,o=yw()){let[s,i]=o;if(t==null||["number","boolean","string"].includes(typeof t)&&!Py(t))return t;let a=FU(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;let c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:r;if(c===0)return a.replace("object ","");if(s(t))return"[Circular ~]";let u=t;if(u&&typeof u.toJSON=="function")try{let m=u.toJSON();return Wf("",m,c-1,n,o)}catch(m){}let l=Array.isArray(t)?[]:{},f=0,p=Hy(t);for(let m in p){if(!Object.prototype.hasOwnProperty.call(p,m))continue;if(f>=n){l[m]="[MaxProperties ~]";break}let h=p[m];l[m]=Wf(m,h,c-1,n,o),f++}return i(t),l}function FU(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global!="undefined"&&t===global)return"[Global]";if(typeof window!="undefined"&&t===window)return"[Window]";if(typeof document!="undefined"&&t===document)return"[Document]";if($y(t))return"[VueViewModel]";if(Ny(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${mw(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;let r=jU(t);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function jU(e){let t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}var Xr;(function(e){e[e.PENDING=0]="PENDING";let r=1;e[e.RESOLVED=r]="RESOLVED";let n=2;e[e.REJECTED=n]="REJECTED"})(Xr||(Xr={}));var Oc=class e{constructor(t){e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),this._state=Xr.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(r){this._reject(r)}}then(t,r){return new e((n,o)=>{this._handlers.push([!1,s=>{if(!t)n(s);else try{n(t(s))}catch(i){o(i)}},s=>{if(!r)o(s);else try{n(r(s))}catch(i){o(i)}}]),this._executeHandlers()})}catch(t){return this.then(r=>r,t)}finally(t){return new e((r,n)=>{let o,s;return this.then(i=>{s=!1,o=i,t&&t()},i=>{s=!0,o=i,t&&t()}).then(()=>{if(s){n(o);return}r(o)})})}__init(){this._resolve=t=>{this._setResult(Xr.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(Xr.REJECTED,t)}}__init3(){this._setResult=(t,r)=>{if(this._state===Xr.PENDING){if(ko(r)){r.then(this._resolve,this._reject);return}this._state=t,this._value=r,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Xr.PENDING)return;let t=this._handlers.slice();this._handlers=[],t.forEach(r=>{r[0]||(this._state===Xr.RESOLVED&&r[1](this._value),this._state===Xr.REJECTED&&r[2](this._value),r[0]=!0)})}}};var _w=1e3;function $n(){return Date.now()/_w}function BU(){let{performance:e}=Re;if(!e||!e.now)return $n;let t=Date.now()-e.now(),r=e.timeOrigin==null?t:e.timeOrigin;return()=>(r+e.now())/_w}var kc=BU();var Rc,UU=(()=>{let{performance:e}=Re;if(!e||!e.now){Rc="none";return}let t=3600*1e3,r=e.now(),n=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+r-n):t,s=o<t,i=e.timing&&e.timing.navigationStart,c=typeof i=="number"?Math.abs(i+r-n):t,u=c<t;return s||u?o<=c?(Rc="timeOrigin",e.timeOrigin):(Rc="navigationStart",i):(Rc="dateNow",n)})();function Wy(e,t=[]){return[e,t]}function Ky(e){if(!e||!e.sdk)return;let{name:t,version:r}=e.sdk;return{name:t,version:r}}function Yy(e,t,r,n){let o=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return d(d(d({event_id:e.event_id,sent_at:new Date().toISOString()},t&&{sdk:t}),!!r&&n&&{dsn:By(n)}),o&&{trace:St(d({},o))})}var ei=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;var ti="production";function Kf(){return Cc("globalEventProcessors",()=>[])}function ri(e,t,r,n=0){return new Oc((o,s)=>{let i=e[n];if(t===null||typeof i!="function")o(t);else{let a=i(d({},t),r);ei&&i.id&&a===null&&Ne.log(`Event processor "${i.id}" dropped event`),ko(a)?a.then(c=>ri(e,c,r,n+1).then(o)).then(null,s):ri(e,a,r,n+1).then(o).then(null,s)}})}function Sw(e){let t=kc(),r={sid:nt(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>HU(r)};return e&&ni(r,e),r}function ni(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||kc(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:nt()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{let r=e.timestamp-e.started;e.duration=r>=0?r:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Ew(e,t){let r={};t?r={status:t}:e.status==="ok"&&(r={status:"exited"}),ni(e,r)}function HU(e){return St({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}var qU=1;function bw(e){let{spanId:t,traceId:r}=e.spanContext(),{data:n,op:o,parent_span_id:s,status:i,tags:a,origin:c}=Dn(e);return St({data:n,op:o,parent_span_id:s,span_id:t,status:i,tags:a,trace_id:r,origin:c})}function Dn(e){return GU(e)?e.getSpanJSON():typeof e.toJSON=="function"?e.toJSON():{}}function GU(e){return typeof e.getSpanJSON=="function"}function vw(e){let{traceFlags:t}=e.spanContext();return!!(t&qU)}function Xy(e,t,r,n,o,s){let{normalizeDepth:i=3,normalizeMaxBreadth:a=1e3}=e,c=b(d({},t),{event_id:t.event_id||r.event_id||nt(),timestamp:t.timestamp||$n()}),u=r.integrations||e.integrations.map(y=>y.name);zU(c,e),KU(c,u),t.type===void 0&&VU(c,e.stackParser);let l=JU(n,r.captureContext);r.mechanism&&Gy(c,r.mechanism);let f=o&&o.getEventProcessors?o.getEventProcessors():[],p=Iw().getScopeData();if(s){let y=s.getScopeData();Jy(p,y)}if(l){let y=l.getScopeData();Jy(p,y)}let m=[...r.attachments||[],...p.attachments];m.length&&(r.attachments=m),Yf(c,p);let h=[...f,...Kf(),...p.eventProcessors];return ri(h,c,r).then(y=>(y&&WU(y),typeof i=="number"&&i>0?YU(y,i,a):y))}function zU(e,t){let{environment:r,release:n,dist:o,maxValueLength:s=250}=t;"environment"in e||(e.environment="environment"in t?r:ti),e.release===void 0&&n!==void 0&&(e.release=n),e.dist===void 0&&o!==void 0&&(e.dist=o),e.message&&(e.message=wc(e.message,s));let i=e.exception&&e.exception.values&&e.exception.values[0];i&&i.value&&(i.value=wc(i.value,s));let a=e.request;a&&a.url&&(a.url=wc(a.url,s))}var Tw=new WeakMap;function VU(e,t){let r=Re._sentryDebugIds;if(!r)return;let n,o=Tw.get(t);o?n=o:(n=new Map,Tw.set(t,n));let s=Object.keys(r).reduce((i,a)=>{let c,u=n.get(a);u?c=u:(c=t(a),n.set(a,c));for(let l=c.length-1;l>=0;l--){let f=c[l];if(f.filename){i[f.filename]=r[a];break}}return i},{});try{e.exception.values.forEach(i=>{i.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=s[a.filename])})})}catch(i){}}function WU(e){let t={};try{e.exception.values.forEach(n=>{n.stacktrace.frames.forEach(o=>{o.debug_id&&(o.abs_path?t[o.abs_path]=o.debug_id:o.filename&&(t[o.filename]=o.debug_id),delete o.debug_id)})})}catch(n){}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let r=e.debug_meta.images;Object.keys(t).forEach(n=>{r.push({type:"sourcemap",code_file:n,debug_id:t[n]})})}function KU(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function YU(e,t,r){if(!e)return null;let n=d(d(d(d(d({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>d(d({},o),o.data&&{data:Pn(o.data,t,r)}))}),e.user&&{user:Pn(e.user,t,r)}),e.contexts&&{contexts:Pn(e.contexts,t,r)}),e.extra&&{extra:Pn(e.extra,t,r)});return e.contexts&&e.contexts.trace&&n.contexts&&(n.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(n.contexts.trace.data=Pn(e.contexts.trace.data,t,r))),e.spans&&(n.spans=e.spans.map(o=>{let s=Dn(o).data;return s&&(o.data=Pn(s,t,r)),o})),n}function JU(e,t){if(!t)return e;let r=e?e.clone():new Mn;return r.update(t),r}function Zy(...e){let t=si();if(e.length===2){let[r,n]=e;return r?t.withScope(()=>(t.getStackTop().scope=r,n(r))):t.withScope(n)}return t.withScope(e[0])}function oi(){return si().getClient()}function Ac(){return si().getScope()}function Xf(e){return e.transaction}function ZU(e,t,r){let n=t.getOptions(),{publicKey:o}=t.getDsn()||{},{segment:s}=r&&r.getUser()||{},i=St({environment:n.environment||ti,release:n.release,user_segment:s,public_key:o,trace_id:e});return t.emit&&t.emit("createDsc",i),i}function xw(e){let t=oi();if(!t)return{};let r=ZU(Dn(e).trace_id||"",t,Ac()),n=Xf(e);if(!n)return r;let o=n&&n._frozenDynamicSamplingContext;if(o)return o;let{sampleRate:s,source:i}=n.metadata;s!=null&&(r.sample_rate=`${s}`);let a=Dn(n);return i&&i!=="url"&&(r.transaction=a.description),r.sampled=String(vw(n)),t.emit&&t.emit("createDsc",r),r}function Yf(e,t){let{fingerprint:r,span:n,breadcrumbs:o,sdkProcessingMetadata:s}=t;QU(e,t),n&&r2(e,n),n2(e,r),e2(e,o),t2(e,s)}function Jy(e,t){let{extra:r,tags:n,user:o,contexts:s,level:i,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:l,attachments:f,propagationContext:p,transactionName:m,span:h}=t;Nc(e,"extra",r),Nc(e,"tags",n),Nc(e,"user",o),Nc(e,"contexts",s),Nc(e,"sdkProcessingMetadata",a),i&&(e.level=i),m&&(e.transactionName=m),h&&(e.span=h),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),l.length&&(e.eventProcessors=[...e.eventProcessors,...l]),f.length&&(e.attachments=[...e.attachments,...f]),e.propagationContext=d(d({},e.propagationContext),p)}function Nc(e,t,r){if(r&&Object.keys(r).length){e[t]=d({},e[t]);for(let n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[t][n]=r[n])}}function QU(e,t){let{extra:r,tags:n,user:o,contexts:s,level:i,transactionName:a}=t,c=St(r);c&&Object.keys(c).length&&(e.extra=d(d({},c),e.extra));let u=St(n);u&&Object.keys(u).length&&(e.tags=d(d({},u),e.tags));let l=St(o);l&&Object.keys(l).length&&(e.user=d(d({},l),e.user));let f=St(s);f&&Object.keys(f).length&&(e.contexts=d(d({},f),e.contexts)),i&&(e.level=i),a&&(e.transaction=a)}function e2(e,t){let r=[...e.breadcrumbs||[],...t];e.breadcrumbs=r.length?r:void 0}function t2(e,t){e.sdkProcessingMetadata=d(d({},e.sdkProcessingMetadata),t)}function r2(e,t){e.contexts=d({trace:bw(t)},e.contexts);let r=Xf(t);if(r){e.sdkProcessingMetadata=d({dynamicSamplingContext:xw(t)},e.sdkProcessingMetadata);let n=Dn(r).description;n&&(e.tags=d({transaction:n},e.tags))}}function n2(e,t){e.fingerprint=e.fingerprint?zy(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}var o2=100,Qy,Mn=class e{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=ww()}static clone(t){return t?t.clone():new e}clone(){let t=new e;return t._breadcrumbs=[...this._breadcrumbs],t._tags=d({},this._tags),t._extra=d({},this._extra),t._contexts=d({},this._contexts),t._user=this._user,t._level=this._level,t._span=this._span,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata=d({},this._sdkProcessingMetadata),t._propagationContext=d({},this._propagationContext),t._client=this._client,t}setClient(t){this._client=t}getClient(){return this._client}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&ni(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags=d(d({},this._tags),t),this._notifyScopeListeners(),this}setTag(t,r){return this._tags=b(d({},this._tags),{[t]:r}),this._notifyScopeListeners(),this}setExtras(t){return this._extra=d(d({},this._extra),t),this._notifyScopeListeners(),this}setExtra(t,r){return this._extra=b(d({},this._extra),{[t]:r}),this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,r){return r===null?delete this._contexts[t]:this._contexts[t]=r,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){let t=this._span;return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;let r=typeof t=="function"?t(this):t;if(r instanceof e){let n=r.getScopeData();this._tags=d(d({},this._tags),n.tags),this._extra=d(d({},this._extra),n.extra),this._contexts=d(d({},this._contexts),n.contexts),n.user&&Object.keys(n.user).length&&(this._user=n.user),n.level&&(this._level=n.level),n.fingerprint.length&&(this._fingerprint=n.fingerprint),r.getRequestSession()&&(this._requestSession=r.getRequestSession()),n.propagationContext&&(this._propagationContext=n.propagationContext)}else if(Zs(r)){let n=t;this._tags=d(d({},this._tags),n.tags),this._extra=d(d({},this._extra),n.extra),this._contexts=d(d({},this._contexts),n.contexts),n.user&&(this._user=n.user),n.level&&(this._level=n.level),n.fingerprint&&(this._fingerprint=n.fingerprint),n.requestSession&&(this._requestSession=n.requestSession),n.propagationContext&&(this._propagationContext=n.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=ww(),this}addBreadcrumb(t,r){let n=typeof r=="number"?r:o2;if(n<=0)return this;let o=d({timestamp:$n()},t),s=this._breadcrumbs;return s.push(o),this._breadcrumbs=s.length>n?s.slice(-n):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){let{_breadcrumbs:t,_attachments:r,_contexts:n,_tags:o,_extra:s,_user:i,_level:a,_fingerprint:c,_eventProcessors:u,_propagationContext:l,_sdkProcessingMetadata:f,_transactionName:p,_span:m}=this;return{breadcrumbs:t,attachments:r,contexts:n,tags:o,extra:s,user:i,level:a,fingerprint:c||[],eventProcessors:u,propagationContext:l,sdkProcessingMetadata:f,transactionName:p,span:m}}applyToEvent(t,r={},n=[]){Yf(t,this.getScopeData());let o=[...n,...Kf(),...this._eventProcessors];return ri(o,t,r)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=d(d({},this._sdkProcessingMetadata),t),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,r){let n=r&&r.event_id?r.event_id:nt();if(!this._client)return Ne.warn("No client configured on scope - will not capture exception!"),n;let o=new Error("Sentry syntheticException");return this._client.captureException(t,b(d({originalException:t,syntheticException:o},r),{event_id:n}),this),n}captureMessage(t,r,n){let o=n&&n.event_id?n.event_id:nt();if(!this._client)return Ne.warn("No client configured on scope - will not capture message!"),o;let s=new Error(t);return this._client.captureMessage(t,r,b(d({originalException:t,syntheticException:s},n),{event_id:o}),this),o}captureEvent(t,r){let n=r&&r.event_id?r.event_id:nt();return this._client?(this._client.captureEvent(t,b(d({},r),{event_id:n}),this),n):(Ne.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}};function Iw(){return Qy||(Qy=new Mn),Qy}function ww(){return{traceId:nt(),spanId:nt().substring(16)}}var Cw="7.120.2";var Ow=parseFloat(Cw),s2=100,Pc=class{constructor(t,r,n,o=Ow){this._version=o;let s;r?s=r:(s=new Mn,s.setClient(t));let i;n?i=n:(i=new Mn,i.setClient(t)),this._stack=[{scope:s}],t&&this.bindClient(t),this._isolationScope=i}isOlderThan(t){return this._version<t}bindClient(t){let r=this.getStackTop();r.client=t,r.scope.setClient(t),t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){let t=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){let r=this.pushScope(),n;try{n=t(r)}catch(o){throw this.popScope(),o}return ko(n)?n.then(o=>(this.popScope(),o),o=>{throw this.popScope(),o}):(this.popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,r){let n=this._lastEventId=r&&r.event_id?r.event_id:nt(),o=new Error("Sentry syntheticException");return this.getScope().captureException(t,b(d({originalException:t,syntheticException:o},r),{event_id:n})),n}captureMessage(t,r,n){let o=this._lastEventId=n&&n.event_id?n.event_id:nt(),s=new Error(t);return this.getScope().captureMessage(t,r,b(d({originalException:t,syntheticException:s},n),{event_id:o})),o}captureEvent(t,r){let n=r&&r.event_id?r.event_id:nt();return t.type||(this._lastEventId=n),this.getScope().captureEvent(t,b(d({},r),{event_id:n})),n}lastEventId(){return this._lastEventId}addBreadcrumb(t,r){let{scope:n,client:o}=this.getStackTop();if(!o)return;let{beforeBreadcrumb:s=null,maxBreadcrumbs:i=s2}=o.getOptions&&o.getOptions()||{};if(i<=0)return;let a=$n(),c=d({timestamp:a},t),u=s?Vf(()=>s(c,r)):c;u!==null&&(o.emit&&o.emit("beforeAddBreadcrumb",u,r),n.addBreadcrumb(u,i))}setUser(t){this.getScope().setUser(t),this.getIsolationScope().setUser(t)}setTags(t){this.getScope().setTags(t),this.getIsolationScope().setTags(t)}setExtras(t){this.getScope().setExtras(t),this.getIsolationScope().setExtras(t)}setTag(t,r){this.getScope().setTag(t,r),this.getIsolationScope().setTag(t,r)}setExtra(t,r){this.getScope().setExtra(t,r),this.getIsolationScope().setExtra(t,r)}setContext(t,r){this.getScope().setContext(t,r),this.getIsolationScope().setContext(t,r)}configureScope(t){let{scope:r,client:n}=this.getStackTop();n&&t(r)}run(t){let r=e_(this);try{t(this)}finally{e_(r)}}getIntegration(t){let r=this.getClient();if(!r)return null;try{return r.getIntegration(t)}catch(n){return ei&&Ne.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,r){let n=this._callExtensionMethod("startTransaction",t,r);return ei&&!n&&(this.getClient()?Ne.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):Ne.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){let r=this.getStackTop().scope,n=r.getSession();n&&Ew(n),this._sendSessionUpdate(),r.setSession()}startSession(t){let{scope:r,client:n}=this.getStackTop(),{release:o,environment:s=ti}=n&&n.getOptions()||{},{userAgent:i}=Re.navigator||{},a=Sw(d(d({release:o,environment:s,user:r.getUser()},i&&{userAgent:i}),t)),c=r.getSession&&r.getSession();return c&&c.status==="ok"&&ni(c,{status:"exited"}),this.endSession(),r.setSession(a),a}shouldSendDefaultPii(){let t=this.getClient(),r=t&&t.getOptions();return!!(r&&r.sendDefaultPii)}_sendSessionUpdate(){let{scope:t,client:r}=this.getStackTop(),n=t.getSession();n&&r&&r.captureSession&&r.captureSession(n)}_callExtensionMethod(t,...r){let o=$c().__SENTRY__;if(o&&o.extensions&&typeof o.extensions[t]=="function")return o.extensions[t].apply(this,r);ei&&Ne.warn(`Extension method ${t} couldn't be found, doing nothing.`)}};function $c(){return Re.__SENTRY__=Re.__SENTRY__||{extensions:{},hub:void 0},Re}function e_(e){let t=$c(),r=Zf(t);return t_(t,e),r}function si(){let e=$c();if(e.__SENTRY__&&e.__SENTRY__.acs){let t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return i2(e)}function Jf(){return si().getIsolationScope()}function i2(e=$c()){return(!a2(e)||Zf(e).isOlderThan(Ow))&&t_(e,new Pc),Zf(e)}function a2(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function Zf(e){return Cc("hub",()=>new Pc,e)}function t_(e,t){if(!e)return!1;let r=e.__SENTRY__=e.__SENTRY__||{};return r.hub=t,!0}function c2(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function r_(e,t,r,n){let o=Ky(r),s=e.type&&e.type!=="replay_event"?e.type:"event";c2(e,r&&r.sdk);let i=Yy(e,o,n,t);return delete e.sdkProcessingMetadata,Wy(i,[[{type:s},e]])}var No=Re,n_="#ffffff",Rw="inherit",o_="rgba(108, 95, 199, 1)",kw={fontFamily:"system-ui, 'Helvetica Neue', Arial, sans-serif",fontSize:"14px",background:n_,backgroundHover:"#f6f6f7",foreground:"#2b2233",border:"1.5px solid rgba(41, 35, 47, 0.13)",borderRadius:"25px",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",success:"#268d75",error:"#df3338",submitBackground:"rgba(88, 74, 192, 1)",submitBackgroundHover:o_,submitBorder:o_,submitOutlineFocus:"#29232f",submitForeground:n_,submitForegroundHover:n_,cancelBackground:"transparent",cancelBackgroundHover:"var(--background-hover)",cancelBorder:"var(--border)",cancelOutlineFocus:"var(--input-outline-focus)",cancelForeground:"var(--foreground)",cancelForegroundHover:"var(--foreground)",inputBackground:Rw,inputForeground:Rw,inputBorder:"var(--border)",inputOutlineFocus:o_,formBorderRadius:"20px",formContentBorderRadius:"6px"},Aw={light:kw,dark:b(d({},kw),{background:"#29232f",backgroundHover:"#352f3b",foreground:"#ebe6ef",border:"1.5px solid rgba(235, 230, 239, 0.15)",success:"#2da98c",error:"#f55459"})},u2="Report a Bug",l2="Cancel",f2="Send Bug Report",d2="Report a Bug",p2="your.email@example.org",m2="Email",h2="What's the bug? What did you expect?",g2="Description",y2="Your Name",_2="Name",S2="(required)",E2="Thank you for your report!",Mw="widget",Lw="api";function b2(n){return P(this,arguments,function*({client:e,scope:t,event:r}){let o={};e.emit&&e.emit("preprocessEvent",r,o);let s=yield Xy(e.getOptions(),r,o,t,e,Jf());return s===null?(e.recordDroppedEvent("event_processor","feedback",r),null):(s.platform=s.platform||"javascript",s)})}function v2(i){return P(this,arguments,function*({feedback:{message:e,email:t,name:r,source:n,url:o}},{includeReplay:s=!0}={}){let a=oi(),c=a&&a.getTransport(),u=a&&a.getDsn();if(!a||!c||!u)return;let l={contexts:{feedback:{contact_email:t,name:r,message:e,url:o,source:n}},type:"feedback"};return Zy(f=>P(this,null,function*(){f.clearBreadcrumbs(),[Lw,Mw].includes(String(n))&&f.setLevel("info");let p=yield b2({scope:f,client:a,event:l});if(!p)return;a.emit&&a.emit("beforeSendFeedback",p,{includeReplay:!!s});let m=r_(p,u,a.getOptions()._metadata,a.getOptions().tunnel),h;try{h=yield c.send(m)}catch(_){let y=new Error("Unable to send Feedback");try{y.cause=_}catch(g){}throw y}if(h){if(typeof h.statusCode=="number"&&(h.statusCode<200||h.statusCode>=300))throw new Error("Unable to send Feedback");return h}}))})}function i_({name:e,email:t,message:r,source:n=Lw,url:o=Ly()},s={}){if(!r)throw new Error("Unable to submit feedback with empty message");return v2({feedback:{name:e,email:t,message:r,url:o,source:n}},s)}var Ao=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;function Nw(e,t){return b(d(d({},e),t),{themeDark:d(d({},e.themeDark),t.themeDark),themeLight:d(d({},e.themeLight),t.themeLight)})}function T2(e){let t=e.createElement("style");return t.textContent=`
.widget__actor {
  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);
  z-index: var(--z-index);

  line-height: 16px;

  display: flex;
  align-items: center;
  gap: 8px;

  border-radius: var(--border-radius);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  padding: 16px;
  text-decoration: none;
  z-index: 9000;

  color: var(--foreground);
  background-color: var(--background);
  border: var(--border);
  box-shadow: var(--box-shadow);
  opacity: 1;
  transition: opacity 0.1s ease-in-out;
}

.widget__actor:hover {
  background-color: var(--background-hover);
}

.widget__actor svg {
  width: 16px;
  height: 16px;
}

.widget__actor--hidden {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}

.widget__actor__text {
}

@media (max-width: 600px) {
  .widget__actor__text {
    display: none;
  }
}

.feedback-icon path {
  fill: var(--foreground);
}
`,t}function I2(e){let t=e.createElement("style");return t.textContent=`
.dialog {
  line-height: 25px;
  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  position: fixed;
  inset: 0;
  z-index: 10000;
  width: 100vw;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);

  border: var(--border);
  border-radius: var(--form-border-radius);
  background-color: var(--background);
  color: var(--foreground);

  width: 320px;
  max-width: 100%;
  max-height: calc(100% - 2rem);
  display: flex;
  flex-direction: column;
  box-shadow: var(--box-shadow);
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}

.dialog__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: 20px;
  font-weight: 600;
  padding: 24px 24px 0 24px;
  margin: 0;
  margin-bottom: 16px;
}

.brand-link {
  display: inline-flex;
}

.error {
  color: var(--error);
  margin-bottom: 16px;
}

.form {
  display: grid;
  overflow: auto;
  flex-direction: column;
  gap: 16px;
  padding: 0 24px 24px;
}

.form__error-container {
  color: var(--error);
}

.form__error-container--hidden {
  display: none;
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: grid;
  gap: 4px;
  align-items: center;
  grid-auto-flow: column;
  grid-auto-columns: max-content;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  line-height: inherit;
  background-color: var(--input-background);
  box-sizing: border-box;
  border: var(--input-border);
  border-radius: var(--form-content-border-radius);
  color: var(--input-foreground);
  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 500;
  padding: 6px 12px;
}

.form__input::placeholder {
  color: var(--input-foreground);
  opacity: 0.65;
}

.form__input:focus-visible {
  outline: 1px auto var(--input-outline-focus);
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.btn-group {
  display: grid;
  gap: 8px;
  margin-top: 8px;
}

.btn {
  line-height: inherit;
  border: var(--cancel-border);
  border-radius: var(--form-content-border-radius);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  padding: 6px 16px;
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  background-color: var(--submit-background);
  border-color: var(--submit-border);
  color: var(--submit-foreground);
}
.btn--primary:hover {
  background-color: var(--submit-background-hover);
  color: var(--submit-foreground-hover);
}
.btn--primary:focus-visible {
  outline: 1px auto var(--submit-outline-focus);
}

.btn--default {
  background-color: var(--cancel-background);
  color: var(--cancel-foreground);
  font-weight: 500;
}
.btn--default:hover {
  background-color: var(--cancel-background-hover);
  color: var(--cancel-foreground-hover);
}
.btn--default:focus-visible {
  outline: 1px auto var(--cancel-outline-focus);
}

.success-message {
  background-color: var(--background);
  border: var(--border);
  border-radius: var(--border-radius);
  box-shadow: var(--box-shadow);
  font-weight: 600;
  color: var(--success);
  padding: 12px 24px;
  line-height: 25px;
  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success-icon path {
  fill: var(--success);
}
`,t}function Pw(e){return`
  --background: ${e.background};
  --background-hover: ${e.backgroundHover};
  --foreground: ${e.foreground};
  --error: ${e.error};
  --success: ${e.success};
  --border: ${e.border};
  --border-radius: ${e.borderRadius};
  --box-shadow: ${e.boxShadow};

  --submit-background: ${e.submitBackground};
  --submit-background-hover: ${e.submitBackgroundHover};
  --submit-border: ${e.submitBorder};
  --submit-outline-focus: ${e.submitOutlineFocus};
  --submit-foreground: ${e.submitForeground};
  --submit-foreground-hover: ${e.submitForegroundHover};

  --cancel-background: ${e.cancelBackground};
  --cancel-background-hover: ${e.cancelBackgroundHover};
  --cancel-border: ${e.cancelBorder};
  --cancel-outline-focus: ${e.cancelOutlineFocus};
  --cancel-foreground: ${e.cancelForeground};
  --cancel-foreground-hover: ${e.cancelForegroundHover};

  --input-background: ${e.inputBackground};
  --input-foreground: ${e.inputForeground};
  --input-border: ${e.inputBorder};
  --input-outline-focus: ${e.inputOutlineFocus};

  --form-border-radius: ${e.formBorderRadius};
  --form-content-border-radius: ${e.formContentBorderRadius};
  `}function x2(e,t,r){let n=e.createElement("style");return n.textContent=`
:host {
  --bottom: 1rem;
  --right: 1rem;
  --top: auto;
  --left: auto;
  --z-index: 100000;
  --font-family: ${r.light.fontFamily};
  --font-size: ${r.light.fontSize};

  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);
  z-index: var(--z-index);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${Pw(t==="dark"?r.dark:r.light)}
}

${t==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${Pw(r.dark)}
  }
}`:""}
}`,n}function w2({id:e,colorScheme:t,themeDark:r,themeLight:n}){try{let o=No.document,s=o.createElement("div");s.id=e;let i=s.attachShadow({mode:"open"});return i.appendChild(x2(o,t,{dark:r,light:n})),i.appendChild(I2(o)),{shadow:i,host:s}}catch(o){throw Ne.warn("[Feedback] Browser does not support shadow DOM API"),new Error("Browser does not support shadow DOM API.")}}function C2(e,t,r){return P(this,null,function*(){if(!e)return;let n=()=>{e&&e.showError("There was a problem submitting feedback, please wait and try again.")};e.hideError();try{return yield i_(b(d({},t),{source:Mw}),r)}catch(o){Ao&&Ne.error(o),n()}})}function Ot(e,t){return Object.entries(t).forEach(([r,n])=>{e.setAttributeNS(null,r,n)}),e}var ii=20,O2="http://www.w3.org/2000/svg";function R2(){let e=a=>No.document.createElementNS(O2,a),t=Ot(e("svg"),{class:"feedback-icon",width:`${ii}`,height:`${ii}`,viewBox:`0 0 ${ii} ${ii}`,fill:"none"}),r=Ot(e("g"),{clipPath:"url(#clip0_57_80)"}),n=Ot(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(r).appendChild(n);let o=e("defs"),s=Ot(e("clipPath"),{id:"clip0_57_80"}),i=Ot(e("rect"),{width:`${ii}`,height:`${ii}`,fill:"white"});return s.appendChild(i),o.appendChild(s),t.appendChild(o).appendChild(s).appendChild(i),{get el(){return t}}}function ke(e,t,...r){let o=No.document.createElement(e);t&&Object.entries(t).forEach(([s,i])=>{s==="className"&&typeof i=="string"?o.setAttribute("class",i):typeof i=="boolean"&&i?o.setAttribute(s,""):typeof i=="string"?o.setAttribute(s,i):s.startsWith("on")&&typeof i=="function"&&o.addEventListener(s.substring(2).toLowerCase(),i)});for(let s of r)Fw(o,s);return o}function Fw(e,t){let r=No.document;if(!(typeof t=="undefined"||t===null))if(Array.isArray(t))for(let n of t)Fw(e,n);else t===!1||(typeof t=="string"?e.appendChild(r.createTextNode(t)):t instanceof Node?e.appendChild(t):e.appendChild(r.createTextNode(String(t))))}function k2({buttonLabel:e,onClick:t}){function r(o){t&&t(o)}let n=ke("button",{type:"button",className:"widget__actor","aria-label":e,"aria-hidden":"false"},R2().el,e?ke("span",{className:"widget__actor__text"},e):null);return n.addEventListener("click",r),{get el(){return n},show:()=>{n.classList.remove("widget__actor--hidden"),n.setAttribute("aria-hidden","false")},hide:()=>{n.classList.add("widget__actor--hidden"),n.setAttribute("aria-hidden","true")}}}function A2({label:e}){return{el:ke("button",{type:"submit",className:"btn btn--primary","aria-label":e},e)}}function s_(e,t){let r=e.get(t);return typeof r=="string"?r.trim():""}function N2({nameLabel:e,namePlaceholder:t,emailLabel:r,emailPlaceholder:n,messageLabel:o,messagePlaceholder:s,isRequiredLabel:i,cancelButtonLabel:a,submitButtonLabel:c,showName:u,showEmail:l,isNameRequired:f,isEmailRequired:p,defaultName:m,defaultEmail:h,onCancel:_,onSubmit:y}){let{el:g}=A2({label:c});function S($){if($.preventDefault(),$.target instanceof HTMLFormElement)try{if(y){let ie=new FormData($.target),ve={name:s_(ie,"name"),email:s_(ie,"email"),message:s_(ie,"message")};y(ve)}}catch(ie){}}let T=ke("div",{className:"form__error-container form__error-container--hidden","aria-hidden":"true"});function x($){T.textContent=$,T.classList.remove("form__error-container--hidden"),T.setAttribute("aria-hidden","false")}function I(){T.textContent="",T.classList.add("form__error-container--hidden"),T.setAttribute("aria-hidden","true")}let C=ke("input",{id:"name",type:u?"text":"hidden","aria-hidden":u?"false":"true",name:"name",required:f,className:"form__input",placeholder:t,value:m}),w=ke("input",{id:"email",type:l?"text":"hidden","aria-hidden":l?"false":"true",name:"email",required:p,className:"form__input",placeholder:n,value:h}),B=ke("textarea",{id:"message",autoFocus:"true",rows:"5",name:"message",required:!0,className:"form__input form__input--textarea",placeholder:s}),fe=ke("button",{type:"button",className:"btn btn--default","aria-label":a,onClick:$=>{_&&_($)}},a),R=ke("form",{className:"form",onSubmit:S},[T,u&&ke("label",{htmlFor:"name",className:"form__label"},[ke("span",{className:"form__label__text"},e,f&&ke("span",{className:"form__label__text--required"},` ${i}`)),C]),!u&&C,l&&ke("label",{htmlFor:"email",className:"form__label"},[ke("span",{className:"form__label__text"},r,p&&ke("span",{className:"form__label__text--required"},` ${i}`)),w]),!l&&w,ke("label",{htmlFor:"message",className:"form__label"},[ke("span",{className:"form__label__text"},o,ke("span",{className:"form__label__text--required"},` ${i}`)),B]),ke("div",{className:"btn-group"},[g,fe])]);return{get el(){return R},showError:x,hideError:I}}var P2="http://www.w3.org/2000/svg";function $2({colorScheme:e}){let t=i=>No.document.createElementNS(P2,i),r=Ot(t("svg"),{class:"sentry-logo",width:"32",height:"30",viewBox:"0 0 72 66",fill:"none"}),n=Ot(t("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});r.append(n);let o=t("defs"),s=t("style");return s.textContent=`
    path {
      fill: ${e==="dark"?"#fff":"#362d59"};
    }`,e==="system"&&(s.textContent+=`
    @media (prefers-color-scheme: dark) {
      path: {
        fill: '#fff';
      }
    }
    `),o.append(s),r.append(o),{get el(){return r}}}function D2(m){var h=m,{formTitle:e,showBranding:t,showName:r,showEmail:n,isNameRequired:o,isEmailRequired:s,colorScheme:i,defaultName:a,defaultEmail:c,onClosed:u,onCancel:l,onSubmit:f}=h,p=oo(h,["formTitle","showBranding","showName","showEmail","isNameRequired","isEmailRequired","colorScheme","defaultName","defaultEmail","onClosed","onCancel","onSubmit"]);let _=null;function y(){g(),u&&u()}function g(){_&&(_.open=!1)}function S(){_&&(_.open=!0)}function T(){return _&&_.open===!0||!1}let{el:x,showError:I,hideError:C}=N2(d({showEmail:n,showName:r,isEmailRequired:s,isNameRequired:o,defaultName:a,defaultEmail:c,onSubmit:f,onCancel:l},p));return _=ke("dialog",{className:"dialog",open:!0,onClick:y},ke("div",{className:"dialog__content",onClick:w=>{w.stopPropagation()}},ke("h2",{className:"dialog__header"},e,t&&ke("a",{className:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer"},$2({colorScheme:i}).el)),x)),{get el(){return _},showError:I,hideError:C,open:S,close:g,checkIsOpen:T}}var Qf=16,$w=17,M2="http://www.w3.org/2000/svg";function L2(){let e=c=>No.document.createElementNS(M2,c),t=Ot(e("svg"),{class:"success-icon",width:`${Qf}`,height:`${$w}`,viewBox:`0 0 ${Qf} ${$w}`,fill:"none"}),r=Ot(e("g"),{clipPath:"url(#clip0_57_156)"}),n=Ot(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),o=Ot(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(r).append(o,n);let s=e("defs"),i=Ot(e("clipPath"),{id:"clip0_57_156"}),a=Ot(e("rect"),{width:`${Qf}`,height:`${Qf}`,fill:"white",transform:"translate(0 0.5)"});return i.appendChild(a),s.appendChild(i),t.appendChild(s).appendChild(i).appendChild(a),{get el(){return t}}}function F2({message:e,onRemove:t}){function r(){n&&(n.remove(),t&&t())}let n=ke("div",{className:"success-message",onClick:r},L2().el,e);return{el:n,remove:r}}function Dw(o){var s=o,{shadow:e,options:i}=s,a=i,{shouldCreateActor:t=!0}=a,r=oo(a,["shouldCreateActor"]),{attachTo:n}=s;let c,u,l=!1;function f(){if(e)try{let I=F2({message:r.successMessageText,onRemove:()=>{C&&clearTimeout(C),h()}});if(!I.el)throw new Error("Unable to show success message");e.appendChild(I.el);let C=setTimeout(()=>{I&&I.remove()},5e3)}catch(I){Ne.error(I)}}function p(I){return P(this,null,function*(){if(!u)return;let C=[];if(r.isNameRequired&&!I.name&&C.push(r.nameLabel),r.isEmailRequired&&!I.email&&C.push(r.emailLabel),I.message||C.push(r.messageLabel),C.length>0){u.showError(`Please enter in the following required fields: ${C.join(", ")}`);return}if(!(yield C2(u,I))){r.onSubmitError&&r.onSubmitError();return}T(),f(),r.onSubmitSuccess&&r.onSubmitSuccess()})}function m(){let I=oi(),C=I&&I.getIntegrationByName&&I.getIntegrationByName("Replay");C&&C.flush().catch(w=>{Ao&&Ne.error(w)})}function h(){c&&c.show()}function _(){c&&c.hide()}function y(){c&&c.el&&c.el.remove()}function g(){try{if(u){u.open(),l=!0,r.onFormOpen&&r.onFormOpen(),m();return}let I=r.useSentryUser,C=Ac(),w=C&&C.getUser();if(u=D2({colorScheme:r.colorScheme,showBranding:r.showBranding,showName:r.showName||r.isNameRequired,showEmail:r.showEmail||r.isEmailRequired,isNameRequired:r.isNameRequired,isEmailRequired:r.isEmailRequired,formTitle:r.formTitle,cancelButtonLabel:r.cancelButtonLabel,submitButtonLabel:r.submitButtonLabel,emailLabel:r.emailLabel,emailPlaceholder:r.emailPlaceholder,messageLabel:r.messageLabel,messagePlaceholder:r.messagePlaceholder,nameLabel:r.nameLabel,namePlaceholder:r.namePlaceholder,isRequiredLabel:r.isRequiredLabel,defaultName:I&&w&&w[I.name]||"",defaultEmail:I&&w&&w[I.email]||"",onClosed:()=>{h(),l=!1,r.onFormClose&&r.onFormClose()},onCancel:()=>{S(),h()},onSubmit:p}),!u.el)throw new Error("Unable to open Feedback dialog");e.appendChild(u.el),_(),r.onFormOpen&&r.onFormOpen(),m()}catch(I){Ne.error(I)}}function S(){u&&(u.close(),l=!1,r.onFormClose&&r.onFormClose())}function T(){if(u){S();let I=u.el;I&&I.remove(),u=void 0}}function x(){l||g(),_()}return n?n.addEventListener("click",x):t&&(c=k2({buttonLabel:r.buttonLabel,onClick:x}),c.el&&e.appendChild(c.el)),{get actor(){return c},get dialog(){return u},showActor:h,hideActor:_,removeActor:y,openDialog:g,closeDialog:S,removeDialog:T}}var ed=No.document,jw=e=>new ai(e),ai=class e{static __initStatic(){this.id="Feedback"}constructor({autoInject:t=!0,id:r="sentry-feedback",isEmailRequired:n=!1,isNameRequired:o=!1,showBranding:s=!0,showEmail:i=!0,showName:a=!0,useSentryUser:c={email:"email",name:"username"},themeDark:u,themeLight:l,colorScheme:f="system",buttonLabel:p=u2,cancelButtonLabel:m=l2,submitButtonLabel:h=f2,formTitle:_=d2,emailPlaceholder:y=p2,emailLabel:g=m2,messagePlaceholder:S=h2,messageLabel:T=g2,namePlaceholder:x=y2,nameLabel:I=_2,isRequiredLabel:C=S2,successMessageText:w=E2,onFormClose:B,onFormOpen:fe,onSubmitError:R,onSubmitSuccess:$}={}){this.name=e.id,this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1,this.options={autoInject:t,showBranding:s,id:r,isEmailRequired:n,isNameRequired:o,showEmail:i,showName:a,useSentryUser:c,colorScheme:f,themeDark:d(d({},Aw.dark),u),themeLight:d(d({},Aw.light),l),buttonLabel:p,cancelButtonLabel:m,submitButtonLabel:h,formTitle:_,emailLabel:g,emailPlaceholder:y,messageLabel:T,messagePlaceholder:S,nameLabel:I,namePlaceholder:x,isRequiredLabel:C,successMessageText:w,onFormClose:B,onFormOpen:fe,onSubmitError:R,onSubmitSuccess:$}}setupOnce(){if(Vy())try{this._cleanupWidgetIfExists();let{autoInject:t}=this.options;if(!t)return;this._createWidget(this.options)}catch(t){Ao&&Ne.error(t)}}openDialog(){this._widget||this._createWidget(b(d({},this.options),{shouldCreateActor:!1})),this._widget&&this._widget.openDialog()}closeDialog(){this._widget&&this._widget.closeDialog()}attachTo(t,r){try{let n=Nw(this.options,r||{});return this._ensureShadowHost(n,({shadow:o})=>{let s=typeof t=="string"?ed.querySelector(t):typeof t.addEventListener=="function"?t:null;if(!s)return Ao&&Ne.error("[Feedback] Unable to attach to target element"),null;let i=Dw({shadow:o,options:n,attachTo:s});return this._widgets.add(i),this._widget||(this._widget=i),i})}catch(n){return Ao&&Ne.error(n),null}}createWidget(t){try{return this._createWidget(Nw(this.options,t||{}))}catch(r){return Ao&&Ne.error(r),null}}removeWidget(t){if(!t)return!1;try{if(this._widgets.has(t))return t.removeActor(),t.removeDialog(),this._widgets.delete(t),this._widget===t&&(this._widget=null),!0}catch(r){Ao&&Ne.error(r)}return!1}getWidget(){return this._widget}remove(){this._host&&this._host.remove(),this._initialize()}_initialize(){this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1}_cleanupWidgetIfExists(){this._host&&this.remove();let t=ed.querySelector(`#${this.options.id}`);t&&t.remove()}_createWidget(t){return this._ensureShadowHost(t,({shadow:r})=>{let n=Dw({shadow:r,options:t});return!this._hasInsertedActorStyles&&n.actor&&(r.appendChild(T2(ed)),this._hasInsertedActorStyles=!0),this._widgets.add(n),this._widget||(this._widget=n),n})}_ensureShadowHost(t,r){let n=!1;if(!this._shadow||!this._host){let{id:s,colorScheme:i,themeLight:a,themeDark:c}=t,{shadow:u,host:l}=w2({id:s,colorScheme:i,themeLight:a,themeDark:c});this._shadow=u,this._host=l,n=!0}this._host.dataset.sentryFeedbackColorscheme=t.colorScheme;let o=r({shadow:this._shadow,host:this._host});return n&&ed.body.appendChild(this._host),o}};ai.__initStatic();var Bw=Object.prototype.toString;function Ln(e){switch(Bw.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return ci(e,Error)}}function Uw(e,t){return Bw.call(e)===`[object ${t}]`}function Zr(e){return Uw(e,"String")}function Fn(e){return Uw(e,"Object")}function a_(e){return typeof Event!="undefined"&&ci(e,Event)}function c_(e){return typeof Element!="undefined"&&ci(e,Element)}function Po(e){return!!(e&&e.then&&typeof e.then=="function")}function u_(e){return Fn(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function l_(e){return typeof e=="number"&&e!==e}function ci(e,t){try{return e instanceof t}catch(r){return!1}}function Dc(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function Mc(e,t){let r=e,n=r.length;if(n<=150)return r;t>n&&(t=n);let o=Math.max(t-60,0);o<5&&(o=0);let s=Math.min(o+140,n);return s>n-5&&(s=n),s===n&&(o=Math.max(s-140,0)),r=r.slice(o,s),o>0&&(r=`'{snip} ${r}`),s<n&&(r+=" {snip}"),r}function td(e,t){if(!Array.isArray(e))return"";let r=[];for(let n=0;n<e.length;n++){let o=e[n];try{Dc(o)?r.push("[VueViewModel]"):r.push(String(o))}catch(s){r.push("[value cannot be serialized]")}}return r.join(t)}function rd(e){return e&&e.Math==Math?e:void 0}var re=typeof globalThis=="object"&&rd(globalThis)||typeof window=="object"&&rd(window)||typeof self=="object"&&rd(self)||typeof global=="object"&&rd(global)||function(){return this}()||{};function Lc(){return re}function Fc(e,t,r){let n=r||re,o=n.__SENTRY__=n.__SENTRY__||{};return o[e]||(o[e]=t())}var B2=Lc(),U2=80;function Hw(e,t={}){if(!e)return"<unknown>";try{let r=e,n=5,o=[],s=0,i=0,a=" > ",c=a.length,u,l=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||U2;for(;r&&s++<n&&(u=H2(r,l),!(u==="html"||s>1&&i+o.length*c+u.length>=f));)o.push(u),i+=u.length,r=r.parentNode;return o.reverse().join(a)}catch(r){return"<unknown>"}}function H2(e,t){let r=e,n=[],o,s,i,a,c;if(!r||!r.tagName)return"";if(B2.HTMLElement&&r instanceof HTMLElement&&r.dataset&&r.dataset.sentryComponent)return r.dataset.sentryComponent;n.push(r.tagName.toLowerCase());let u=t&&t.length?t.filter(f=>r.getAttribute(f)).map(f=>[f,r.getAttribute(f)]):null;if(u&&u.length)u.forEach(f=>{n.push(`[${f[0]}="${f[1]}"]`)});else if(r.id&&n.push(`#${r.id}`),o=r.className,o&&Zr(o))for(s=o.split(/\s+/),c=0;c<s.length;c++)n.push(`.${s[c]}`);let l=["aria-label","type","name","title","alt"];for(c=0;c<l.length;c++)i=l[c],a=r.getAttribute(i),a&&n.push(`[${i}="${a}"]`);return n.join("")}var jn=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;var q2="Sentry Logger ",$o=["debug","info","warn","error","log","assert","trace"],ui={};function li(e){if(!("console"in re))return e();let t=re.console,r={},n=Object.keys(ui);n.forEach(o=>{let s=ui[o];r[o]=t[o],t[o]=s});try{return e()}finally{n.forEach(o=>{t[o]=r[o]})}}function G2(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return jn?$o.forEach(r=>{t[r]=(...n)=>{e&&li(()=>{re.console[r](`${q2}[${r}]:`,...n)})}}):$o.forEach(r=>{t[r]=()=>{}}),t}var _e=G2();function Rr(e,t,r){if(!(t in e))return;let n=e[t],o=r(n);typeof o=="function"&&zw(o,n),e[t]=o}function nd(e,t,r){try{Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}catch(n){jn&&_e.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function zw(e,t){try{let r=t.prototype||{};e.prototype=t.prototype=r,nd(e,"__sentry_original__",t)}catch(r){}}function d_(e){if(Ln(e))return d({message:e.message,name:e.name,stack:e.stack},Gw(e));if(a_(e)){let t=d({type:e.type,target:qw(e.target),currentTarget:qw(e.currentTarget)},Gw(e));return typeof CustomEvent!="undefined"&&ci(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function qw(e){try{return c_(e)?Hw(e):Object.prototype.toString.call(e)}catch(t){return"<unknown>"}}function Gw(e){if(typeof e=="object"&&e!==null){let t={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}else return{}}function Ht(e){return f_(e,new Map)}function f_(e,t){if(V2(e)){let r=t.get(e);if(r!==void 0)return r;let n={};t.set(e,n);for(let o of Object.keys(e))typeof e[o]!="undefined"&&(n[o]=f_(e[o],t));return n}if(Array.isArray(e)){let r=t.get(e);if(r!==void 0)return r;let n=[];return t.set(e,n),e.forEach(o=>{n.push(f_(o,t))}),n}return e}function V2(e){if(!Fn(e))return!1;try{let t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch(t){return!0}}var p_="<anonymous>";function od(e){try{return!e||typeof e!="function"?p_:e.name||p_}catch(t){return p_}}var sd={},Vw={};function fi(e,t){sd[e]=sd[e]||[],sd[e].push(t)}function di(e,t){Vw[e]||(t(),Vw[e]=!0)}function Qr(e,t){let r=e&&sd[e];if(r)for(let n of r)try{n(t)}catch(o){jn&&_e.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${od(n)}
Error:`,o)}}function m_(e){let t="console";fi(t,e),di(t,W2)}function W2(){"console"in re&&$o.forEach(function(e){e in re.console&&Rr(re.console,e,function(t){return ui[e]=t,function(...r){Qr("console",{args:r,level:e});let o=ui[e];o&&o.apply(re.console,r)}})})}function Et(){let e=re,t=e.crypto||e.msCrypto,r=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(r=()=>{let n=new Uint8Array(1);return t.getRandomValues(n),n[0]})}catch(n){}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(r()&15)>>n/4).toString(16))}function K2(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function jc(e,t){let r=K2(e);if(!r)return;let n={type:"generic",handled:!0},o=r.mechanism;if(r.mechanism=d(d(d({},n),o),t),t&&"data"in t){let s=d(d({},o&&o.data),t.data);r.mechanism.data=s}}function h_(e,t,r=5){if(t.lineno===void 0)return;let n=e.length,o=Math.max(Math.min(n-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,o-r),o).map(s=>Mc(s,0)),t.context_line=Mc(e[Math.min(n-1,o)],t.colno||0),t.post_context=e.slice(Math.min(o+1,n),o+1+r).map(s=>Mc(s,0))}function g_(e){return Array.isArray(e)?e:[e]}var id=Lc();function Ww(){if(!("fetch"in id))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function y_(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Bc(){if(typeof EdgeRuntime=="string")return!0;if(!Ww())return!1;if(y_(id.fetch))return!0;let e=!1,t=id.document;if(t&&typeof t.createElement=="function")try{let r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=y_(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){jn&&_e.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function __(){return"ReportingObserver"in id}function E_(e){let t="fetch";fi(t,e),di(t,Y2)}function Y2(){Bc()&&Rr(re,"fetch",function(e){return function(...t){let{method:r,url:n}=J2(t),o={args:t,fetchData:{method:r,url:n},startTimestamp:Date.now()};return Qr("fetch",d({},o)),e.apply(re,t).then(s=>{let i=b(d({},o),{endTimestamp:Date.now(),response:s});return Qr("fetch",i),s},s=>{let i=b(d({},o),{endTimestamp:Date.now(),error:s});throw Qr("fetch",i),s})}})}function S_(e,t){return!!e&&typeof e=="object"&&!!e[t]}function Kw(e){return typeof e=="string"?e:e?S_(e,"url")?e.url:e.toString?e.toString():"":""}function J2(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){let[r,n]=e;return{url:Kw(r),method:S_(n,"method")?String(n.method).toUpperCase():"GET"}}let t=e[0];return{url:Kw(t),method:S_(t,"method")?String(t.method).toUpperCase():"GET"}}var X2=re,Do="__sentry_xhr_v3__";function b_(e){let t="xhr";fi(t,e),di(t,Z2)}function Z2(){if(!X2.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;Rr(e,"open",function(t){return function(...r){let n=Date.now(),o=Zr(r[0])?r[0].toUpperCase():void 0,s=Q2(r[1]);if(!o||!s)return t.apply(this,r);this[Do]={method:o,url:s,request_headers:{}},o==="POST"&&s.match(/sentry_key/)&&(this.__sentry_own_request__=!0);let i=()=>{let a=this[Do];if(a&&this.readyState===4){try{a.status_code=this.status}catch(u){}let c={args:[o,s],endTimestamp:Date.now(),startTimestamp:n,xhr:this};Qr("xhr",c)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?Rr(this,"onreadystatechange",function(a){return function(...c){return i(),a.apply(this,c)}}):this.addEventListener("readystatechange",i),Rr(this,"setRequestHeader",function(a){return function(...c){let[u,l]=c,f=this[Do];return f&&Zr(u)&&Zr(l)&&(f.request_headers[u.toLowerCase()]=l),a.apply(this,c)}}),t.apply(this,r)}}),Rr(e,"send",function(t){return function(...r){let n=this[Do];if(!n)return t.apply(this,r);r[0]!==void 0&&(n.body=r[0]);let o={args:[n.method,n.url],startTimestamp:Date.now(),xhr:this};return Qr("xhr",o),t.apply(this,r)}})}function Q2(e){if(Zr(e))return e;try{return e.toString()}catch(t){}}function Yw(){let e=typeof WeakSet=="function",t=e?new WeakSet:[];function r(o){if(e)return t.has(o)?!0:(t.add(o),!1);for(let s=0;s<t.length;s++)if(t[s]===o)return!0;return t.push(o),!1}function n(o){if(e)t.delete(o);else for(let s=0;s<t.length;s++)if(t[s]===o){t.splice(s,1);break}}return[r,n]}function v_(e,t=100,r=1/0){try{return ad("",e,t,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function ad(e,t,r=1/0,n=1/0,o=Yw()){let[s,i]=o;if(t==null||["number","boolean","string"].includes(typeof t)&&!l_(t))return t;let a=eH(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;let c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:r;if(c===0)return a.replace("object ","");if(s(t))return"[Circular ~]";let u=t;if(u&&typeof u.toJSON=="function")try{let m=u.toJSON();return ad("",m,c-1,n,o)}catch(m){}let l=Array.isArray(t)?[]:{},f=0,p=d_(t);for(let m in p){if(!Object.prototype.hasOwnProperty.call(p,m))continue;if(f>=n){l[m]="[MaxProperties ~]";break}let h=p[m];l[m]=ad(m,h,c-1,n,o),f++}return i(t),l}function eH(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global!="undefined"&&t===global)return"[Global]";if(typeof window!="undefined"&&t===window)return"[Window]";if(typeof document!="undefined"&&t===document)return"[Document]";if(Dc(t))return"[VueViewModel]";if(u_(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${od(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;let r=tH(t);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function tH(e){let t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function rH(e,t){let r=0;for(let n=e.length-1;n>=0;n--){let o=e[n];o==="."?e.splice(n,1):o===".."?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}var nH=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function oH(e){let t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,r=nH.exec(t);return r?r.slice(1):[]}function T_(...e){let t="",r=!1;for(let n=e.length-1;n>=-1&&!r;n--){let o=n>=0?e[n]:"/";o&&(t=`${o}/${t}`,r=o.charAt(0)==="/")}return t=rH(t.split("/").filter(n=>!!n),!r).join("/"),(r?"/":"")+t||"."}function Jw(e){let t=0;for(;t<e.length&&e[t]==="";t++);let r=e.length-1;for(;r>=0&&e[r]==="";r--);return t>r?[]:e.slice(t,r-t+1)}function I_(e,t){e=T_(e).slice(1),t=T_(t).slice(1);let r=Jw(e.split("/")),n=Jw(t.split("/")),o=Math.min(r.length,n.length),s=o;for(let a=0;a<o;a++)if(r[a]!==n[a]){s=a;break}let i=[];for(let a=s;a<r.length;a++)i.push("..");return i=i.concat(n.slice(s)),i.join("/")}function x_(e,t){let r=oH(e)[2];return t&&r.slice(t.length*-1)===t&&(r=r.slice(0,r.length-t.length)),r}var en;(function(e){e[e.PENDING=0]="PENDING";let r=1;e[e.RESOLVED=r]="RESOLVED";let n=2;e[e.REJECTED=n]="REJECTED"})(en||(en={}));var Uc=class e{constructor(t){e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),this._state=en.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(r){this._reject(r)}}then(t,r){return new e((n,o)=>{this._handlers.push([!1,s=>{if(!t)n(s);else try{n(t(s))}catch(i){o(i)}},s=>{if(!r)o(s);else try{n(r(s))}catch(i){o(i)}}]),this._executeHandlers()})}catch(t){return this.then(r=>r,t)}finally(t){return new e((r,n)=>{let o,s;return this.then(i=>{s=!1,o=i,t&&t()},i=>{s=!0,o=i,t&&t()}).then(()=>{if(s){n(o);return}r(o)})})}__init(){this._resolve=t=>{this._setResult(en.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(en.REJECTED,t)}}__init3(){this._setResult=(t,r)=>{if(this._state===en.PENDING){if(Po(r)){r.then(this._resolve,this._reject);return}this._state=t,this._value=r,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===en.PENDING)return;let t=this._handlers.slice();this._handlers=[],t.forEach(r=>{r[0]||(this._state===en.RESOLVED&&r[1](this._value),this._state===en.REJECTED&&r[2](this._value),r[0]=!0)})}}};function w_(e){return e.split(/[\?#]/,1)[0]}var Xw=["fatal","error","warning","log","info","debug"];function C_(e){return e==="warn"?"warning":Xw.includes(e)?e:"log"}var Zw=1e3;function pi(){return Date.now()/Zw}function sH(){let{performance:e}=re;if(!e||!e.now)return pi;let t=Date.now()-e.now(),r=e.timeOrigin==null?t:e.timeOrigin;return()=>(r+e.now())/Zw}var qc=sH();var Hc,iH=(()=>{let{performance:e}=re;if(!e||!e.now){Hc="none";return}let t=3600*1e3,r=e.now(),n=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+r-n):t,s=o<t,i=e.timing&&e.timing.navigationStart,c=typeof i=="number"?Math.abs(i+r-n):t,u=c<t;return s||u?o<=c?(Hc="timeOrigin",e.timeOrigin):(Hc="navigationStart",i):(Hc="dateNow",n)})();var mi=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;var cd="production";function Qw(){return Fc("globalEventProcessors",()=>[])}function ud(e,t,r,n=0){return new Uc((o,s)=>{let i=e[n];if(t===null||typeof i!="function")o(t);else{let a=i(d({},t),r);mi&&i.id&&a===null&&_e.log(`Event processor "${i.id}" dropped event`),Po(a)?a.then(c=>ud(e,c,r,n+1).then(o)).then(null,s):ud(e,a,r,n+1).then(o).then(null,s)}})}function eC(e){let t=qc(),r={sid:Et(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>aH(r)};return e&&hi(r,e),r}function hi(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||qc(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Et()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{let r=e.timestamp-e.started;e.duration=r>=0?r:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function tC(e,t){let r={};t?r={status:t}:e.status==="ok"&&(r={status:"exited"}),hi(e,r)}function aH(e){return Ht({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}var cH=1;function rC(e){let{spanId:t,traceId:r}=e.spanContext(),{data:n,op:o,parent_span_id:s,status:i,tags:a,origin:c}=gi(e);return Ht({data:n,op:o,parent_span_id:s,span_id:t,status:i,tags:a,trace_id:r,origin:c})}function gi(e){return uH(e)?e.getSpanJSON():typeof e.toJSON=="function"?e.toJSON():{}}function uH(e){return typeof e.getSpanJSON=="function"}function nC(e){let{traceFlags:t}=e.spanContext();return!!(t&cH)}function oC(e){if(e)return lH(e)?{captureContext:e}:dH(e)?{captureContext:e}:e}function lH(e){return e instanceof Mo||typeof e=="function"}var fH=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function dH(e){return Object.keys(e).some(t=>fH.includes(t))}function O_(e,t){return Lo().captureException(e,oC(t))}function yi(e,t){let r=typeof t=="string"?t:void 0,n=typeof t!="string"?{captureContext:t}:void 0;return Lo().captureMessage(e,r,n)}function ld(e,t){return Lo().captureEvent(e,t)}function Gc(...e){let t=Lo();if(e.length===2){let[r,n]=e;return r?t.withScope(()=>(t.getStackTop().scope=r,n(r))):t.withScope(n)}return t.withScope(e[0])}function qt(){return Lo().getClient()}function R_(){return Lo().getScope()}function fd(e){return e.transaction}function pH(e,t,r){let n=t.getOptions(),{publicKey:o}=t.getDsn()||{},{segment:s}=r&&r.getUser()||{},i=Ht({environment:n.environment||cd,release:n.release,user_segment:s,public_key:o,trace_id:e});return t.emit&&t.emit("createDsc",i),i}function sC(e){let t=qt();if(!t)return{};let r=pH(gi(e).trace_id||"",t,R_()),n=fd(e);if(!n)return r;let o=n&&n._frozenDynamicSamplingContext;if(o)return o;let{sampleRate:s,source:i}=n.metadata;s!=null&&(r.sample_rate=`${s}`);let a=gi(n);return i&&i!=="url"&&(r.transaction=a.description),r.sampled=String(nC(n)),t.emit&&t.emit("createDsc",r),r}function iC(e,t){let{fingerprint:r,span:n,breadcrumbs:o,sdkProcessingMetadata:s}=t;mH(e,t),n&&yH(e,n),_H(e,r),hH(e,o),gH(e,s)}function mH(e,t){let{extra:r,tags:n,user:o,contexts:s,level:i,transactionName:a}=t,c=Ht(r);c&&Object.keys(c).length&&(e.extra=d(d({},c),e.extra));let u=Ht(n);u&&Object.keys(u).length&&(e.tags=d(d({},u),e.tags));let l=Ht(o);l&&Object.keys(l).length&&(e.user=d(d({},l),e.user));let f=Ht(s);f&&Object.keys(f).length&&(e.contexts=d(d({},f),e.contexts)),i&&(e.level=i),a&&(e.transaction=a)}function hH(e,t){let r=[...e.breadcrumbs||[],...t];e.breadcrumbs=r.length?r:void 0}function gH(e,t){e.sdkProcessingMetadata=d(d({},e.sdkProcessingMetadata),t)}function yH(e,t){e.contexts=d({trace:rC(t)},e.contexts);let r=fd(t);if(r){e.sdkProcessingMetadata=d({dynamicSamplingContext:sC(t)},e.sdkProcessingMetadata);let n=gi(r).description;n&&(e.tags=d({transaction:n},e.tags))}}function _H(e,t){e.fingerprint=e.fingerprint?g_(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}var SH=100;var Mo=class e{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=aC()}static clone(t){return t?t.clone():new e}clone(){let t=new e;return t._breadcrumbs=[...this._breadcrumbs],t._tags=d({},this._tags),t._extra=d({},this._extra),t._contexts=d({},this._contexts),t._user=this._user,t._level=this._level,t._span=this._span,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata=d({},this._sdkProcessingMetadata),t._propagationContext=d({},this._propagationContext),t._client=this._client,t}setClient(t){this._client=t}getClient(){return this._client}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&hi(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags=d(d({},this._tags),t),this._notifyScopeListeners(),this}setTag(t,r){return this._tags=b(d({},this._tags),{[t]:r}),this._notifyScopeListeners(),this}setExtras(t){return this._extra=d(d({},this._extra),t),this._notifyScopeListeners(),this}setExtra(t,r){return this._extra=b(d({},this._extra),{[t]:r}),this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,r){return r===null?delete this._contexts[t]:this._contexts[t]=r,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){let t=this._span;return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;let r=typeof t=="function"?t(this):t;if(r instanceof e){let n=r.getScopeData();this._tags=d(d({},this._tags),n.tags),this._extra=d(d({},this._extra),n.extra),this._contexts=d(d({},this._contexts),n.contexts),n.user&&Object.keys(n.user).length&&(this._user=n.user),n.level&&(this._level=n.level),n.fingerprint.length&&(this._fingerprint=n.fingerprint),r.getRequestSession()&&(this._requestSession=r.getRequestSession()),n.propagationContext&&(this._propagationContext=n.propagationContext)}else if(Fn(r)){let n=t;this._tags=d(d({},this._tags),n.tags),this._extra=d(d({},this._extra),n.extra),this._contexts=d(d({},this._contexts),n.contexts),n.user&&(this._user=n.user),n.level&&(this._level=n.level),n.fingerprint&&(this._fingerprint=n.fingerprint),n.requestSession&&(this._requestSession=n.requestSession),n.propagationContext&&(this._propagationContext=n.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=aC(),this}addBreadcrumb(t,r){let n=typeof r=="number"?r:SH;if(n<=0)return this;let o=d({timestamp:pi()},t),s=this._breadcrumbs;return s.push(o),this._breadcrumbs=s.length>n?s.slice(-n):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){let{_breadcrumbs:t,_attachments:r,_contexts:n,_tags:o,_extra:s,_user:i,_level:a,_fingerprint:c,_eventProcessors:u,_propagationContext:l,_sdkProcessingMetadata:f,_transactionName:p,_span:m}=this;return{breadcrumbs:t,attachments:r,contexts:n,tags:o,extra:s,user:i,level:a,fingerprint:c||[],eventProcessors:u,propagationContext:l,sdkProcessingMetadata:f,transactionName:p,span:m}}applyToEvent(t,r={},n=[]){iC(t,this.getScopeData());let o=[...n,...Qw(),...this._eventProcessors];return ud(o,t,r)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=d(d({},this._sdkProcessingMetadata),t),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,r){let n=r&&r.event_id?r.event_id:Et();if(!this._client)return _e.warn("No client configured on scope - will not capture exception!"),n;let o=new Error("Sentry syntheticException");return this._client.captureException(t,b(d({originalException:t,syntheticException:o},r),{event_id:n}),this),n}captureMessage(t,r,n){let o=n&&n.event_id?n.event_id:Et();if(!this._client)return _e.warn("No client configured on scope - will not capture message!"),o;let s=new Error(t);return this._client.captureMessage(t,r,b(d({originalException:t,syntheticException:s},n),{event_id:o}),this),o}captureEvent(t,r){let n=r&&r.event_id?r.event_id:Et();return this._client?(this._client.captureEvent(t,b(d({},r),{event_id:n}),this),n):(_e.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}};function aC(){return{traceId:Et(),spanId:Et().substring(16)}}var cC="7.120.2";var lC=parseFloat(cC),EH=100,dd=class{constructor(t,r,n,o=lC){this._version=o;let s;r?s=r:(s=new Mo,s.setClient(t));let i;n?i=n:(i=new Mo,i.setClient(t)),this._stack=[{scope:s}],t&&this.bindClient(t),this._isolationScope=i}isOlderThan(t){return this._version<t}bindClient(t){let r=this.getStackTop();r.client=t,r.scope.setClient(t),t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){let t=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){let r=this.pushScope(),n;try{n=t(r)}catch(o){throw this.popScope(),o}return Po(n)?n.then(o=>(this.popScope(),o),o=>{throw this.popScope(),o}):(this.popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,r){let n=this._lastEventId=r&&r.event_id?r.event_id:Et(),o=new Error("Sentry syntheticException");return this.getScope().captureException(t,b(d({originalException:t,syntheticException:o},r),{event_id:n})),n}captureMessage(t,r,n){let o=this._lastEventId=n&&n.event_id?n.event_id:Et(),s=new Error(t);return this.getScope().captureMessage(t,r,b(d({originalException:t,syntheticException:s},n),{event_id:o})),o}captureEvent(t,r){let n=r&&r.event_id?r.event_id:Et();return t.type||(this._lastEventId=n),this.getScope().captureEvent(t,b(d({},r),{event_id:n})),n}lastEventId(){return this._lastEventId}addBreadcrumb(t,r){let{scope:n,client:o}=this.getStackTop();if(!o)return;let{beforeBreadcrumb:s=null,maxBreadcrumbs:i=EH}=o.getOptions&&o.getOptions()||{};if(i<=0)return;let a=pi(),c=d({timestamp:a},t),u=s?li(()=>s(c,r)):c;u!==null&&(o.emit&&o.emit("beforeAddBreadcrumb",u,r),n.addBreadcrumb(u,i))}setUser(t){this.getScope().setUser(t),this.getIsolationScope().setUser(t)}setTags(t){this.getScope().setTags(t),this.getIsolationScope().setTags(t)}setExtras(t){this.getScope().setExtras(t),this.getIsolationScope().setExtras(t)}setTag(t,r){this.getScope().setTag(t,r),this.getIsolationScope().setTag(t,r)}setExtra(t,r){this.getScope().setExtra(t,r),this.getIsolationScope().setExtra(t,r)}setContext(t,r){this.getScope().setContext(t,r),this.getIsolationScope().setContext(t,r)}configureScope(t){let{scope:r,client:n}=this.getStackTop();n&&t(r)}run(t){let r=uC(this);try{t(this)}finally{uC(r)}}getIntegration(t){let r=this.getClient();if(!r)return null;try{return r.getIntegration(t)}catch(n){return mi&&_e.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,r){let n=this._callExtensionMethod("startTransaction",t,r);return mi&&!n&&(this.getClient()?_e.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):_e.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){let r=this.getStackTop().scope,n=r.getSession();n&&tC(n),this._sendSessionUpdate(),r.setSession()}startSession(t){let{scope:r,client:n}=this.getStackTop(),{release:o,environment:s=cd}=n&&n.getOptions()||{},{userAgent:i}=re.navigator||{},a=eC(d(d({release:o,environment:s,user:r.getUser()},i&&{userAgent:i}),t)),c=r.getSession&&r.getSession();return c&&c.status==="ok"&&hi(c,{status:"exited"}),this.endSession(),r.setSession(a),a}shouldSendDefaultPii(){let t=this.getClient(),r=t&&t.getOptions();return!!(r&&r.sendDefaultPii)}_sendSessionUpdate(){let{scope:t,client:r}=this.getStackTop(),n=t.getSession();n&&r&&r.captureSession&&r.captureSession(n)}_callExtensionMethod(t,...r){let o=pd().__SENTRY__;if(o&&o.extensions&&typeof o.extensions[t]=="function")return o.extensions[t].apply(this,r);mi&&_e.warn(`Extension method ${t} couldn't be found, doing nothing.`)}};function pd(){return re.__SENTRY__=re.__SENTRY__||{extensions:{},hub:void 0},re}function uC(e){let t=pd(),r=k_(t);return fC(t,e),r}function Lo(){let e=pd();if(e.__SENTRY__&&e.__SENTRY__.acs){let t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return bH(e)}function bH(e=pd()){return(!vH(e)||k_(e).isOlderThan(lC))&&fC(e,new dd),k_(e)}function vH(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function k_(e){return Fc("hub",()=>new dd,e)}function fC(e,t){if(!e)return!1;let r=e.__SENTRY__=e.__SENTRY__||{};return r.hub=t,!0}function qe(e,t){return Object.assign(function(...n){return t(...n)},{id:e})}function A_(e,t){let r=t&&xH(t)?t.getClient():t,n=r&&r.getDsn(),o=r&&r.getOptions().tunnel;return IH(e,n)||TH(e,o)}function TH(e,t){return t?dC(e)===dC(t):!1}function IH(e,t){return t?e.includes(t.host):!1}function dC(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function xH(e){return e.getClient!==void 0}var pC="CaptureConsole",wH=(e={})=>{let t=e.levels||$o;return{name:pC,setupOnce(){},setup(r){"console"in re&&m_(({args:n,level:o})=>{qt()!==r||!t.includes(o)||OH(n,o)})}}},md=wH,CH=qe(pC,md);function OH(e,t){let r={level:C_(t),extra:{arguments:e}};Gc(n=>{if(n.addEventProcessor(i=>(i.logger="console",jc(i,{handled:!1,type:"console"}),i)),t==="assert"&&e[0]===!1){let i=`Assertion failed: ${td(e.slice(1)," ")||"console.assert"}`;n.setExtra("arguments",e.slice(1)),yi(i,r);return}let o=e.find(i=>i instanceof Error);if(t==="error"&&o){O_(o,r);return}let s=td(e," ");yi(s,r)})}var mC="Debug",RH=(e={})=>{let t=d({debugger:!1,stringify:!1},e);return{name:mC,setupOnce(){},setup(r){r.on&&r.on("beforeSendEvent",(n,o)=>{if(t.debugger)debugger;li(()=>{t.stringify?(console.log(JSON.stringify(n,null,2)),o&&Object.keys(o).length&&console.log(JSON.stringify(o,null,2))):(console.log(n),o&&Object.keys(o).length&&console.log(o))})})}}},hd=RH,kH=qe(mC,hd);var rn=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;var yC="Dedupe",AH=()=>{let e;return{name:yC,setupOnce(){},processEvent(t){if(t.type)return t;try{if(PH(t,e))return rn&&_e.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(r){}return e=t}}},gd=AH,NH=qe(yC,gd);function PH(e,t){return t?!!($H(e,t)||DH(e,t)):!1}function $H(e,t){let r=e.message,n=t.message;return!(!r&&!n||r&&!n||!r&&n||r!==n||!SC(e,t)||!_C(e,t))}function DH(e,t){let r=hC(t),n=hC(e);return!(!r||!n||r.type!==n.type||r.value!==n.value||!SC(e,t)||!_C(e,t))}function _C(e,t){let r=gC(e),n=gC(t);if(!r&&!n)return!0;if(r&&!n||!r&&n||(r=r,n=n,n.length!==r.length))return!1;for(let o=0;o<n.length;o++){let s=n[o],i=r[o];if(s.filename!==i.filename||s.lineno!==i.lineno||s.colno!==i.colno||s.function!==i.function)return!1}return!0}function SC(e,t){let r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;r=r,n=n;try{return r.join("")===n.join("")}catch(o){return!1}}function hC(e){return e.exception&&e.exception.values&&e.exception.values[0]}function gC(e){let t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(r){return}}var EC="ExtraErrorData",MH=(e={})=>{let t=e.depth||3,r=e.captureErrorCause||!1;return{name:EC,setupOnce(){},processEvent(n,o){return FH(n,o,t,r)}}},yd=MH,LH=qe(EC,yd);function FH(e,t={},r,n){if(!t.originalException||!Ln(t.originalException))return e;let o=t.originalException.name||t.originalException.constructor.name,s=jH(t.originalException,n);if(s){let i=d({},e.contexts),a=v_(s,r);return Fn(a)&&(nd(a,"__sentry_skip_normalization__",!0),i[o]=a),b(d({},e),{contexts:i})}return e}function jH(e,t){try{let r=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],n={};for(let o of Object.keys(e)){if(r.indexOf(o)!==-1)continue;let s=e[o];n[o]=Ln(s)?s.toString():s}if(t&&e.cause!==void 0&&(n.cause=Ln(e.cause)?e.cause.toString():e.cause),typeof e.toJSON=="function"){let o=e.toJSON();for(let s of Object.keys(o)){let i=o[s];n[s]=Ln(i)?i.toString():i}}return n}catch(r){rn&&_e.error("Unable to extract extra data from the Error object:",r)}return null}var BH=re,vC="ReportingObserver",bC=new WeakMap,UH=(e={})=>{let t=e.types||["crash","deprecation","intervention"];function r(n){if(bC.has(qt()))for(let o of n)Gc(s=>{s.setExtra("url",o.url);let i=`ReportingObserver [${o.type}]`,a="No details available";if(o.body){let c={};for(let u in o.body)c[u]=o.body[u];if(s.setExtra("body",c),o.type==="crash"){let u=o.body;a=[u.crashId||"",u.reason||""].join(" ").trim()||a}else a=o.body.message||a}yi(`${i}: ${a}`)})}return{name:vC,setupOnce(){if(!__())return;new BH.ReportingObserver(r,{buffered:!0,types:t}).observe()},setup(n){bC.set(n,!0)}}},_d=UH,HH=qe(vC,_d);var TC="RewriteFrames",qH=(e={})=>{let t=e.root,r=e.prefix||"app:///",n=e.iteratee||(i=>{if(!i.filename)return i;let a=/^[a-zA-Z]:\\/.test(i.filename)||i.filename.includes("\\")&&!i.filename.includes("/"),c=/^\//.test(i.filename);if(a||c){let u=a?i.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):i.filename,l=t?I_(t,u):x_(u);i.filename=`${r}${l}`}return i});function o(i){try{return b(d({},i),{exception:b(d({},i.exception),{values:i.exception.values.map(a=>d(d({},a),a.stacktrace&&{stacktrace:s(a.stacktrace)}))})})}catch(a){return i}}function s(i){return b(d({},i),{frames:i&&i.frames&&i.frames.map(a=>n(a))})}return{name:TC,setupOnce(){},processEvent(i){let a=i;return i.exception&&Array.isArray(i.exception.values)&&(a=o(a)),a}}},Sd=qH,GH=qe(TC,Sd);var IC="SessionTiming",zH=()=>{let e=Date.now();return{name:IC,setupOnce(){},processEvent(t){let r=Date.now();return b(d({},t),{extra:b(d({},t.extra),{"session:start":e,"session:duration":r-e,"session:end":r})})}}},Ed=zH,VH=qe(IC,Ed);var xC="HttpClient",WH=(e={})=>{let t=d({failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/]},e);return{name:xC,setupOnce(){},setup(r){rq(r,t),nq(r,t)}}},bd=WH,KH=qe(xC,bd);function YH(e,t,r,n){if(CC(e,r.status,r.url)){let o=oq(t,n),s,i,a,c;RC()&&([{headers:s,cookies:a},{headers:i,cookies:c}]=[{cookieHeader:"Cookie",obj:o},{cookieHeader:"Set-Cookie",obj:r}].map(({cookieHeader:l,obj:f})=>{let p=ZH(f.headers),m;try{let h=p[l]||p[l.toLowerCase()]||void 0;h&&(m=wC(h))}catch(h){rn&&_e.log(`Could not extract cookies from header ${l}`)}return{headers:p,cookies:m}}));let u=OC({url:o.url,method:o.method,status:r.status,requestHeaders:s,responseHeaders:i,requestCookies:a,responseCookies:c});ld(u)}}function JH(e,t,r,n){if(CC(e,t.status,t.responseURL)){let o,s,i;if(RC()){try{let c=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;c&&(s=wC(c))}catch(c){rn&&_e.log("Could not extract cookies from response headers")}try{i=QH(t)}catch(c){rn&&_e.log("Could not extract headers from response")}o=n}let a=OC({url:t.responseURL,method:r,status:t.status,requestHeaders:o,responseHeaders:i,responseCookies:s});ld(a)}}function XH(e){if(e){let t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function wC(e){return e.split("; ").reduce((t,r)=>{let[n,o]=r.split("=");return t[n]=o,t},{})}function ZH(e){let t={};return e.forEach((r,n)=>{t[n]=r}),t}function QH(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((r,n)=>{let[o,s]=n.split(": ");return r[o]=s,r},{}):{}}function eq(e,t){return e.some(r=>typeof r=="string"?t.includes(r):r.test(t))}function tq(e,t){return e.some(r=>typeof r=="number"?r===t:t>=r[0]&&t<=r[1])}function rq(e,t){Bc()&&E_(r=>{if(qt()!==e)return;let{response:n,args:o}=r,[s,i]=o;n&&YH(t,s,n,i)})}function nq(e,t){"XMLHttpRequest"in re&&b_(r=>{if(qt()!==e)return;let n=r.xhr,o=n[Do];if(!o)return;let{method:s,request_headers:i}=o;try{JH(t,n,s,i)}catch(a){rn&&_e.warn("Error while extracting response event form XHR response",a)}})}function CC(e,t,r){return tq(e.failedRequestStatusCodes,t)&&eq(e.failedRequestTargets,r)&&!A_(r,qt())}function OC(e){let t=`HTTP Client Error with status code: ${e.status}`,r={message:t,exception:{values:[{type:"Error",value:t}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:XH(e.responseHeaders)}}};return jc(r,{type:"http.client",handled:!1}),r}function oq(e,t){return!t&&e instanceof Request||e instanceof Request&&e.bodyUsed?e:new Request(e,t)}function RC(){let e=qt();return e?!!e.getOptions().sendDefaultPii:!1}var N_=re,sq=7,kC="ContextLines",iq=(e={})=>{let t=e.frameContextLines!=null?e.frameContextLines:sq;return{name:kC,setupOnce(){},processEvent(r){return cq(r,t)}}},vd=iq,aq=qe(kC,vd);function cq(e,t){let r=N_.document,n=N_.location&&w_(N_.location.href);if(!r||!n)return e;let o=e.exception&&e.exception.values;if(!o||!o.length)return e;let s=r.documentElement.innerHTML;if(!s)return e;let i=["<!DOCTYPE html>","<html>",...s.split(`
`),"</html>"];return o.forEach(a=>{let c=a.stacktrace;c&&c.frames&&(c.frames=c.frames.map(u=>uq(u,i,n,t)))}),e}function uq(e,t,r,n){return e.filename!==r||!e.lineno||!t.length||h_(t,e,n),e}function zc(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function lq(e,t){let r=indexedDB.open(e);r.onupgradeneeded=()=>r.result.createObjectStore(t);let n=zc(r);return o=>n.then(s=>o(s.transaction(t,"readwrite").objectStore(t)))}function AC(e){return zc(e.getAllKeys())}function fq(e,t,r){return e(n=>AC(n).then(o=>{if(!(o.length>=r))return n.put(t,Math.max(...o,0)+1),zc(n.transaction)}))}function dq(e){return e(t=>AC(t).then(r=>{if(r.length!==0)return zc(t.get(r[0])).then(n=>(t.delete(r[0]),zc(t.transaction).then(()=>n)))}))}function pq(e){let t;function r(){return t==null&&(t=lq(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{insert:n=>P(this,null,function*(){try{let o=yield Oa(n,e.textEncoder);yield fq(r(),o,e.maxQueueSize||30)}catch(o){}}),pop:()=>P(this,null,function*(){try{let n=yield dq(r());if(n)return vm(n,e.textEncoder||new TextEncoder,e.textDecoder||new TextDecoder)}catch(n){}})}}function mq(e){return t=>e(b(d({},t),{createStore:pq}))}function NC(e){return mq(_h(e))}var PC=1e6,Td=String(0),hq="main",MC="",LC="",FC="",P_=A.navigator&&A.navigator.userAgent||"",jC="",gq=A.navigator&&A.navigator.language||A.navigator&&A.navigator.languages&&A.navigator.languages[0]||"";function yq(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}var $C=A.navigator&&A.navigator.userAgentData;yq($C)&&$C.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(MC=e.platform||"",FC=e.architecture||"",jC=e.model||"",LC=e.platformVersion||"",e.fullVersionList&&e.fullVersionList.length>0){let t=e.fullVersionList[e.fullVersionList.length-1];P_=`${t.brand} ${t.version}`}}).catch(e=>{});function _q(e){return!("thread_metadata"in e)}function Sq(e){return _q(e)?vq(e):e}function Eq(e){let t=e&&e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id;return typeof t=="string"&&t.length!==32&&U&&E.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function bq(e,t,r,n){if(n.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(r==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${r} instead.`);let o=Eq(n),s=Sq(r),i=t||(typeof n.start_timestamp=="number"?n.start_timestamp*1e3:Date.now()),a=typeof n.timestamp=="number"?n.timestamp*1e3:Date.now();return{event_id:e,timestamp:new Date(i).toISOString(),platform:"javascript",version:"1",release:n.release||"",environment:n.environment||or,runtime:{name:"javascript",version:A.navigator.userAgent},os:{name:MC,version:LC,build_number:P_},device:{locale:gq,model:jC,manufacturer:P_,architecture:FC,is_emulator:!1},debug_meta:{images:Tq(r.resources)},profile:s,transactions:[{name:n.transaction||"",id:n.event_id||z(),trace_id:o,active_thread_id:Td,relative_start_ns:"0",relative_end_ns:((a-i)*1e6).toFixed(0)}]}}function Id(e){return e.op==="pageload"}function vq(e){let t,r=0,n={samples:[],stacks:[],frames:[],thread_metadata:{[Td]:{name:hq}}};if(!e.samples.length)return n;let o=e.samples[0].timestamp,s=typeof performance.timeOrigin=="number"?performance.timeOrigin:Pe||0,i=s-(Pe||s);for(let a=0;a<e.samples.length;a++){let c=e.samples[a];if(c.stackId===void 0){t===void 0&&(t=r,n.stacks[t]=[],r++),n.samples[a]={elapsed_since_start_ns:((c.timestamp+i-o)*PC).toFixed(0),stack_id:t,thread_id:Td};continue}let u=e.stacks[c.stackId],l=[];for(;u;){l.push(u.frameId);let p=e.frames[u.frameId];n.frames[u.frameId]===void 0&&(n.frames[u.frameId]={function:p.name,abs_path:typeof p.resourceId=="number"?e.resources[p.resourceId]:void 0,lineno:p.line,colno:p.column}),u=u.parentId===void 0?void 0:e.stacks[u.parentId]}let f={elapsed_since_start_ns:((c.timestamp+i-o)*PC).toFixed(0),stack_id:r,thread_id:Td};n.stacks[r]=l,n.samples[a]=f,r++}return n}function BC(e,t){if(!t.length)return e;for(let r of t)e[1].push([{type:"profile"},r]);return e}function UC(e){let t=[];return nr(e,(r,n)=>{if(n==="transaction")for(let o=1;o<r.length;o++){let s=r[o];s&&s.contexts&&s.contexts.profile&&s.contexts.profile.profile_id&&t.push(r[o])}}),t}var DC=new WeakMap;function Tq(e){let t=D._sentryDebugIds;if(!t)return[];let r=M(),n=r&&r.getOptions(),o=n&&n.stackParser;if(!o)return[];let s,i=DC.get(o);i?s=i:(s=new Map,DC.set(o,s));let a=Object.keys(t).reduce((u,l)=>{let f,p=s.get(l);p?f=p:(f=o(l),s.set(l,f));for(let m=f.length-1;m>=0;m--){let h=f[m],_=h&&h.filename;if(h&&_){u[_]=t[l];break}}return u},{}),c=[];for(let u of e)u&&a[u]&&c.push({type:"sourcemap",code_file:u,debug_id:a[u]});return c}function Iq(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?(U&&E.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?(U&&E.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function xq(e){return e.samples.length<2?(U&&E.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:(U&&E.log("[Profiling] Discarding profile because it contains no frames"),!1)}var HC=!1,$_=3e4;function wq(e){return typeof e=="function"}function qC(){let e=A.Profiler;if(!wq(e)){U&&E.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}let t=10,r=Math.floor($_/t);try{return new e({sampleInterval:t,maxBufferSize:r})}catch(n){U&&(E.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),E.log("[Profiling] Disabling profiling for current user session.")),HC=!0}}function Vc(e){if(HC)return U&&E.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return U&&E.log("[Profiling] Discarding profile because transaction was not sampled."),!1;let t=M(),r=t&&t.getOptions();if(!r)return U&&E.log("[Profiling] Profiling disabled, no options found."),!1;let n=r.profilesSampleRate;return Iq(n)?n?(n===!0?!0:Math.random()<n)?!0:(U&&E.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(n)})`),!1):(U&&E.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(U&&E.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function GC(e,t,r,n){return xq(r)?bq(e,t,r,n):null}var Fo=new Map;function zC(){return Fo.size}function VC(e){let t=Fo.get(e);return t&&Fo.delete(e),t}function WC(e,t){if(Fo.set(e,t),Fo.size>30){let r=Fo.keys().next().value;Fo.delete(r)}}function KC(e){return e?Vc(e)?xd(e):e:(U&&E.log("[Profiling] Transaction is undefined, skipping profiling"),e)}function xd(e){let t;Id(e)&&(t=ct()*1e3);let r=qC();if(!r)return e;U&&E.log(`[Profiling] started profiling transaction: ${H(e).description}`);let n=z();function o(){return P(this,null,function*(){return!e||!r?null:r.stop().then(c=>(s&&(A.clearTimeout(s),s=void 0),U&&E.log(`[Profiling] stopped profiling of transaction: ${H(e).description}`),c?(WC(n,c),null):(U&&E.log(`[Profiling] profiler returned null profile for: ${H(e).description}`,"this may indicate an overlapping transaction or a call to stopProfiling with a profile title that was never started"),null))).catch(c=>(U&&E.log("[Profiling] error while stopping profiler:",c),null))})}let s=A.setTimeout(()=>{U&&E.log("[Profiling] max profile duration elapsed, stopping profiling for:",H(e).description),o()},$_),i=e.end.bind(e);function a(){return e?(o().then(()=>{e.setContext("profile",{profile_id:n,start_timestamp:t}),i()},()=>{i()}),e):i()}return e.end=a,e}var YC="BrowserProfiling",Cq=()=>({name:YC,setupOnce(){},setup(e){let r=ge().getTransaction();if(r&&Id(r)&&Vc(r)&&xd(r),typeof e.on!="function"){E.warn("[Profiling] Client does not support hooks, profiling will be disabled");return}e.on("startTransaction",n=>{Vc(n)&&xd(n)}),e.on("beforeEnvelope",n=>{if(!zC())return;let o=UC(n);if(!o.length)return;let s=[];for(let i of o){let a=i&&i.contexts,c=a&&a.profile&&a.profile.profile_id,u=a&&a.profile&&a.profile.start_timestamp;if(typeof c!="string"){U&&E.log("[Profiling] cannot find profile for a transaction without a profile context");continue}if(!c){U&&E.log("[Profiling] cannot find profile for a transaction without a profile context");continue}a&&a.profile&&delete a.profile;let l=VC(c);if(!l){U&&E.log(`[Profiling] Could not retrieve profile for transaction: ${c}`);continue}let f=GC(c,u,l,i);f&&s.push(f)}BC(n,s)})}}),D_=Cq,JC=Te(YC,D_);var XC={};A.Sentry&&A.Sentry.Integrations&&(XC=A.Sentry.Integrations);var Oq=d(d(d({},XC),GT),Wh);var Jd=Mr(fk());var dk={Trace:"verbose",Debug:"debug",Info:"info",Warn:"warn",Error:"error",Silent:"silent"};var kr={verbose:0,debug:1,info:2,warn:3,error:4,silent:5};function yS(e={},t=void 0){var r,n,o,s,i;return i=class{constructor(c){this.name=c;this.name=c}trace(...c){i._silent||kr[i._level]>kr.verbose||console.info(`[${this.name}]`,...c)}debug(...c){i._silent||kr[i._level]>kr.debug||console.info(`[${this.name}]`,...c)}info(...c){i._silent||kr[i._level]>kr.info||console.info(`[${this.name}]`,...c)}warn(...c){i._silent||kr[i._level]>kr.warn||console.warn(`[${this.name}]`,...c)}error(...c){if(!i._silent&&!(kr[i._level]>kr.error)&&(console.error(`[${this.name}]`,...c),t)){let u=c.map(l=>typeof l=="object"?(0,Jd.inspect)(l,{depth:null,showProxy:!0}):l);t.captureException(new Error(`[${this.name}] `+(0,Jd.format)(u[0],...u.slice(1))))}}replicants(...c){i._silent||i._shouldLogReplicants&&console.info(`[${this.name}]`,...c)}},i._shouldLogReplicants=!!((r=e.console)!=null&&r.replicants),i._silent=!((n=e.console)!=null&&n.enabled),i._level=(s=(o=e.console)==null?void 0:o.level)!=null?s:dk.Info,i}var ki;ss.sentry.enabled?ki=yS(ss.logging,M_):ki=yS(ss.logging);function pk(e){return new ki(e)}var V9=Object.getOwnPropertyNames,W9=Object.getOwnPropertySymbols,K9=Object.prototype.hasOwnProperty;function mk(e,t){return function(n,o,s){return e(n,o,s)&&t(n,o,s)}}function Xd(e){return function(r,n,o){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,o);var s=o.cache,i=s.get(r),a=s.get(n);if(i&&a)return i===n&&a===r;s.set(r,n),s.set(n,r);var c=e(r,n,o);return s.delete(r),s.delete(n),c}}function hk(e){return V9(e).concat(W9(e))}var vk=Object.hasOwn||function(e,t){return K9.call(e,t)};function Ai(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var Tk="_owner",gk=Object.getOwnPropertyDescriptor,yk=Object.keys;function Y9(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function J9(e,t){return Ai(e.getTime(),t.getTime())}function _k(e,t,r){if(e.size!==t.size)return!1;for(var n={},o=e.entries(),s=0,i,a;(i=o.next())&&!i.done;){for(var c=t.entries(),u=!1,l=0;(a=c.next())&&!a.done;){var f=i.value,p=f[0],m=f[1],h=a.value,_=h[0],y=h[1];!u&&!n[l]&&(u=r.equals(p,_,s,l,e,t,r)&&r.equals(m,y,p,_,e,t,r))&&(n[l]=!0),l++}if(!u)return!1;s++}return!0}function X9(e,t,r){var n=yk(e),o=n.length;if(yk(t).length!==o)return!1;for(var s;o-- >0;)if(s=n[o],s===Tk&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!vk(t,s)||!r.equals(e[s],t[s],s,s,e,t,r))return!1;return!0}function ru(e,t,r){var n=hk(e),o=n.length;if(hk(t).length!==o)return!1;for(var s,i,a;o-- >0;)if(s=n[o],s===Tk&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!vk(t,s)||!r.equals(e[s],t[s],s,s,e,t,r)||(i=gk(e,s),a=gk(t,s),(i||a)&&(!i||!a||i.configurable!==a.configurable||i.enumerable!==a.enumerable||i.writable!==a.writable)))return!1;return!0}function Z9(e,t){return Ai(e.valueOf(),t.valueOf())}function Q9(e,t){return e.source===t.source&&e.flags===t.flags}function Sk(e,t,r){if(e.size!==t.size)return!1;for(var n={},o=e.values(),s,i;(s=o.next())&&!s.done;){for(var a=t.values(),c=!1,u=0;(i=a.next())&&!i.done;)!c&&!n[u]&&(c=r.equals(s.value,i.value,s.value,i.value,e,t,r))&&(n[u]=!0),u++;if(!c)return!1}return!0}function e4(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}var t4="[object Arguments]",r4="[object Boolean]",n4="[object Date]",o4="[object Map]",s4="[object Number]",i4="[object Object]",a4="[object RegExp]",c4="[object Set]",u4="[object String]",l4=Array.isArray,Ek=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,bk=Object.assign,f4=Object.prototype.toString.call.bind(Object.prototype.toString);function d4(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areMapsEqual,o=e.areObjectsEqual,s=e.arePrimitiveWrappersEqual,i=e.areRegExpsEqual,a=e.areSetsEqual,c=e.areTypedArraysEqual;return function(l,f,p){if(l===f)return!0;if(l==null||f==null||typeof l!="object"||typeof f!="object")return l!==l&&f!==f;var m=l.constructor;if(m!==f.constructor)return!1;if(m===Object)return o(l,f,p);if(l4(l))return t(l,f,p);if(Ek!=null&&Ek(l))return c(l,f,p);if(m===Date)return r(l,f,p);if(m===RegExp)return i(l,f,p);if(m===Map)return n(l,f,p);if(m===Set)return a(l,f,p);var h=f4(l);return h===n4?r(l,f,p):h===a4?i(l,f,p):h===o4?n(l,f,p):h===c4?a(l,f,p):h===i4?typeof l.then!="function"&&typeof f.then!="function"&&o(l,f,p):h===t4?o(l,f,p):h===r4||h===s4||h===u4?s(l,f,p):!1}}function p4(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,o={areArraysEqual:n?ru:Y9,areDatesEqual:J9,areMapsEqual:n?mk(_k,ru):_k,areObjectsEqual:n?ru:X9,arePrimitiveWrappersEqual:Z9,areRegExpsEqual:Q9,areSetsEqual:n?mk(Sk,ru):Sk,areTypedArraysEqual:n?ru:e4};if(r&&(o=bk({},o,r(o))),t){var s=Xd(o.areArraysEqual),i=Xd(o.areMapsEqual),a=Xd(o.areObjectsEqual),c=Xd(o.areSetsEqual);o=bk({},o,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:a,areSetsEqual:c})}return o}function m4(e){return function(t,r,n,o,s,i,a){return e(t,r,a)}}function h4(e){var t=e.circular,r=e.comparator,n=e.createState,o=e.equals,s=e.strict;if(n)return function(c,u){var l=n(),f=l.cache,p=f===void 0?t?new WeakMap:void 0:f,m=l.meta;return r(c,u,{cache:p,equals:o,meta:m,strict:s})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:o,meta:void 0,strict:s})};var i={cache:void 0,equals:o,meta:void 0,strict:s};return function(c,u){return r(c,u,i)}}var Ik=Un(),GSe=Un({strict:!0}),zSe=Un({circular:!0}),VSe=Un({circular:!0,strict:!0}),WSe=Un({createInternalComparator:function(){return Ai}}),KSe=Un({strict:!0,createInternalComparator:function(){return Ai}}),YSe=Un({circular:!0,createInternalComparator:function(){return Ai}}),JSe=Un({circular:!0,createInternalComparator:function(){return Ai},strict:!0});function Un(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,o=e.createState,s=e.strict,i=s===void 0?!1:s,a=p4(e),c=d4(a),u=n?n(c):m4(c);return h4({circular:r,comparator:c,createState:o,equals:u,strict:i})}function zt(e){var t,r,n;if(Array.isArray(e)){for(r=Array(t=e.length);t--;)r[t]=(n=e[t])&&typeof n=="object"?zt(n):n;return r}if(Object.prototype.toString.call(e)==="[object Object]"){r={};for(t in e)t==="__proto__"?Object.defineProperty(r,t,{value:zt(e[t]),configurable:!0,enumerable:!0,writable:!0}):r[t]=(n=e[t])&&typeof n=="object"?zt(n):n;return r}return e}var cn=Mr(wk());var T7=Mr(Rk()),VN=Mr(gb()),WN=Mr(dN()),KN=Mr(IN()),YN=Mr($N()),Du=Mr(zN());function ev(e,t=!1){let r=v7(e);return t||!r.stack?r.message:`${r.message}, ${r.stack}`}function v7(e){let t,r;if(typeof e=="string")t=e;else if(e===null)t="null";else if(e===void 0)t="undefined";else if(e&&typeof e=="object")if(typeof e.error=="object"&&e.error.message)t=e.error.message,r=e.error.stack;else if(e.reason)e.reason.message?(t=e.reason.message,r=e.reason.stack||e.reason.reason):(t=e.reason,r=e.stack);else if(e.message)t=e.message,r=e.stack;else if(e.details)t=e.details;else try{t=JSON.stringify(e)}catch(n){t=`${e} (stringifyError: ${n})`}else t=`${e}`;return t=`${t}`,{message:t,stack:r}}var jp={allErrors:!0,verbose:!0,strict:"log"},Qn={draft04:(0,Du.default)(new YN.default(jp)),draft07:(0,Du.default)(new VN.default(jp)),"draft2019-09":(0,Du.default)(new WN.default(jp)),"draft2020-12":(0,Du.default)(new KN.default(jp))};function JN(e){let t=ZN(e);if(t.includes("draft-04"))return Qn.draft04.compile(e);if(t.includes("draft-07"))return Qn.draft07.compile(e);if(t.includes("draft/2019-09"))return Qn["draft2019-09"].compile(e);if(t.includes("draft/2020-12"))return Qn["draft2020-12"].compile(e);throw new Error(`Unsupported JSON Schema version "${t}"`)}function XN(e,t){let r=ZN(e);if(r.includes("draft-04"))return Qn.draft04.errorsText(t).replace(/^data\//gm,"");if(r.includes("draft-07"))return Qn.draft07.errorsText(t).replace(/^data\//gm,"");if(r.includes("draft/2019-09"))return Qn["draft2019-09"].errorsText(t).replace(/^data\//gm,"");if(r.includes("draft/2020-12"))return Qn["draft2020-12"].errorsText(t).replace(/^data\//gm,"");throw new Error(`Unsupported JSON Schema version "${r}"`)}function ZN(e){let t="https://json-schema.org/draft-04/schema",r=e.$schema;return typeof r=="string"?r:t}function na(){return typeof globalThis.window!="undefined"}function oa(){return typeof globalThis.WorkerGlobalScope!="undefined"&&self instanceof globalThis.WorkerGlobalScope}var Bp=class extends os{constructor(r,n,o={}){super();this.revision=0;this.status="undeclared";this.validationErrors=[];this._operationQueue=[];this._pendingOperationFlush=!1;this.validate=()=>!0;if(!r||typeof r!="string")throw new Error("Must supply a name when instantiating a Replicant");if(!n||typeof n!="string")throw new Error("Must supply a namespace when instantiating a Replicant");typeof o.persistent=="undefined"&&(o.persistent=!0),typeof o.persistenceInterval=="undefined"&&(o.persistenceInterval=I7),this.name=r,this.namespace=n,this.opts=o;let s=this.once.bind(this);this.once=(i,a)=>{if(i==="change"&&this.status==="declared"){a(this.value);return}return s(i,a)},this.on("newListener",(i,a)=>{i==="change"&&this.status==="declared"&&a(this.value)})}_applyOperation(r){eP(this);let n,o=Mu(r.path);if(QN.includes(r.method)){if(typeof this.value!="object"||this.value===null)throw new Error(`expected replicant "${this.namespace}:${this.name}" to have a value with type "object", got "${typeof this.value}" instead`);let s=cn.default.get(this.value,o);if(!Array.isArray(s))throw new Error(`expected to find an array in replicant "${this.namespace}:${this.name}" at path "${r.path}"`);n=s[r.method].apply(s,"args"in r&&"mutatorArgs"in r.args?r.args.mutatorArgs:[]),eo(this,s,r.path)}else switch(r.method){case"overwrite":{let{newValue:s}=r.args;this[na()||oa()?"value":"_value"]=eo(this,s,r.path),n=!0;break}case"add":case"update":{o.push(r.args.prop);let{newValue:s}=r.args;typeof s=="object"&&(s=eo(this,s,C7(o))),n=cn.default.set(this.value,o,s);break}case"delete":if(o.length===0||cn.default.has(this.value,o)){let s=cn.default.get(this.value,o);n=delete s[r.args.prop]}break;default:throw new Error(`Unexpected operation method "${r.method}"`)}return tP(this),n}_generateValidator(){let{schema:r}=this;if(!r)throw new Error("can't generate a validator for a replicant which lacks a schema");let n;try{n=JN(r)}catch(o){throw new Error(`Error compiling JSON Schema for Replicant "${this.namespace}:${this.name}":
	${ev(o)}`)}return function(o=this.value,{throwOnInvalid:s=!0}={}){let i=n(o);if(!i&&(this.validationErrors=n.errors,s))throw new Error(`Invalid value rejected for replicant "${this.name}" in namespace "${this.namespace}":
${XN(r,n.errors)}`);return i}}},tv=new WeakMap,un=new WeakMap,rv=new WeakSet,nv=new WeakSet,QN=["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"],I7=100;function eP(e){nv.add(e)}function tP(e){nv.delete(e)}function sa(e){return nv.has(e)}var rP=function(e,t){let r=un.get(e);if(!r)throw new Error("arrived at delete trap without any metadata");let{replicant:n}=r;if(sa(n))return delete e[t];if(!{}.hasOwnProperty.call(e,t))return!0;if(n.schema){let o=zt(n.value),s=cn.default.get(o,Mu(r.path));delete s[t],n.validate(o)}if(n._addOperation({path:r.path,method:"delete",args:{prop:t}}),!na()&&!oa())return delete e[t]},x7={get(e,t){let r=un.get(e);if(!r)throw new Error("arrived at get trap without any metadata");let{replicant:n}=r;return sa(n)?e[t]:{}.hasOwnProperty.call(Array.prototype,t)&&typeof Array.prototype[t]=="function"&&e[t]===Array.prototype[t]&&QN.includes(t)?(...o)=>{if(n.schema){let s=zt(n.value),i=cn.default.get(s,Mu(r.path));i[t].apply(i,o),n.validate(s)}if(na()||oa())r.replicant._addOperation({path:r.path,method:t,args:{mutatorArgs:Array.prototype.slice.call(o)}});else{eP(n),r.replicant._addOperation({path:r.path,method:t,args:{mutatorArgs:Array.prototype.slice.call(o)}});let s=e[t].apply(e,o);return tP(n),eo(n,e,r.path),s}}:e[t]},set(e,t,r){if(e[t]===r)return!0;let n=un.get(e);if(!n)throw new Error("arrived at set trap without any metadata");let{replicant:o}=n;if(sa(o))return e[t]=r,!0;if(o.schema){let s=zt(o.value),i=cn.default.get(s,Mu(n.path));i[t]=r,o.validate(s)}return{}.hasOwnProperty.call(e,t)?o._addOperation({path:n.path,method:"update",args:{prop:t,newValue:r}}):o._addOperation({path:n.path,method:"add",args:{prop:t,newValue:r}}),!na()&&!oa()&&(e[t]=eo(n.replicant,r,ov(n.path,t))),!0},deleteProperty:rP},w7={get(e,t){let r=e[t],n=Object.prototype.toString.call(r);return t!=="constructor"&&(n==="[object Function]"||n==="[object AsyncFunction]"||n==="[object GeneratorFunction]")?r.bind(e):r},set(e,t,r){if(e[t]===r)return!0;let n=un.get(e);if(!n)throw new Error("arrived at set trap without any metadata");let{replicant:o}=n;if(sa(o))return e[t]=r,!0;if(o.schema){let s=zt(o.value),i=cn.default.get(s,Mu(n.path));i[t]=r,o.validate(s)}return{}.hasOwnProperty.call(e,t)?o._addOperation({path:n.path,method:"update",args:{prop:t,newValue:r}}):o._addOperation({path:n.path,method:"add",args:{prop:t,newValue:r}}),!na()&&!oa()&&(e[t]=eo(n.replicant,r,ov(n.path,t))),!0},deleteProperty:rP};function eo(e,t,r){if(typeof t=="object"&&t!==null){let n;if(O7(e,t),rv.has(t)){n=t;let o=tv.get(t);o.path=r}else if(un.has(t)){let o=un.get(t);if(!o)throw new Error("metadata unexpectedly not found");n=o.proxy,o.path=r}else{let o=Array.isArray(t)?x7:w7;n=new Proxy(t,o),rv.add(n);let s={replicant:e,path:r,proxy:n};un.set(t,s),tv.set(n,s)}for(let o in t){if(!{}.hasOwnProperty.call(t,o))continue;let s=o.replace(/\//g,"~1");if(r){let i=ov(r,s);t[o]=eo(e,t[o],i)}else t[o]=eo(e,t[o],s)}return n}return t}function ov(e,t){return e.endsWith("/")?`${e}${t}`:`${e}/${t}`}function Mu(e){let t=e.substr(1).split("/").map(r=>r.replace(/~1/g,"/"));return t.length===1&&t[0]===""?[]:t}function C7(e){let t=e.join("/");return t.startsWith("/")?t:`/${t}`}function O7(e,t){let r;if(rv.has(t))r=tv.get(t);else if(un.has(t))r=un.get(t);else return;if(r.replicant!==e)throw new Error(`This object belongs to another Replicant, ${r.replicant.namespace}::${r.replicant.name}.
A given object cannot belong to multiple Replicants. Object value:
${JSON.stringify(t,null,2)}`)}var Up=new Map,R7={get(e,t){return t==="value"&&e.status!=="declared"&&e.log.warn("Attempted to get value before Replicant had finished declaring. This will always return undefined."),e[t]},set(e,t,r){return t!=="value"||sa(e)?(e[t]=r,!0):(r===e[t]||(e.validate(r),e.log.replicants("running setter with",r),e._addOperation({path:"/",method:"overwrite",args:{newValue:zt(r)}})),!0)}},ln=class extends Bp{constructor(r,n,o,s=window.socket){super(r,n,o);this.value=void 0;this._actionQueue=[];this.log=pk(`Replicant/${n}.${r}`);let i=Up.get(n);if(i){let c=i.get(r);if(c)return c.log.replicants("Existing replicant found, returning that instead of creating a new one."),c}else Up.set(n,new Map);this._socket=s,this._declare(),s.on("replicant:operations",c=>{this._handleOperations(b(d({},c),{operations:c.operations}))}),s.on("disconnect",()=>{this._handleDisconnect()}),s.io.on("reconnect",()=>{this._declare()});let a=new Proxy(this,R7);return Up.get(n).set(r,a),a}static get declaredReplicants(){let r={};for(let[n,o]of Up)r[n]=Object.fromEntries(Object.entries(o));return r}_addOperation(r){this._operationQueue.push(r),this._pendingOperationFlush||(this._pendingOperationFlush=!0,this.status==="declared"?setTimeout(()=>{this._flushOperations()},0):this._queueAction(this._flushOperations))}_flushOperations(){this._pendingOperationFlush=!1,!(this._operationQueue.length<=0)&&(this._socket.emit("replicant:proposeOperations",{name:this.name,namespace:this.namespace,operations:this._operationQueue,revision:this.revision,schemaSum:this.schemaSum,opts:this.opts},(r,n)=>{n!=null&&n.schema&&(this.schema=n.schema,this.schemaSum=n.schemaSum),n&&n.revision!==this.revision&&(this.log.warn("Not at head revision (ours %s, theirs %s). Change aborted & head revision applied.",this.revision,n.revision),this._assignValue(n.value,n.revision)),r&&(this.listenerCount("operationsRejected")>0?this.emit("operationsRejected",r):this.log.error(r))}),this._operationQueue=[])}_queueAction(r,n){this._actionQueue.push({fn:r,args:n})}_declare(){this.status==="declared"||this.status==="declaring"||(this.status="declaring",this._socket.emit("joinRoom",`replicant:${this.namespace}:${this.name}`,()=>{this._socket.emit("replicant:declare",{name:this.name,namespace:this.namespace,opts:this.opts},(r,n)=>{if(r){if(this.listenerCount("declarationRejected")>0){this.emit("declarationRejected",r);return}throw new Error(r)}if(!n){if(this.listenerCount("declarationRejected")>0){this.emit("declarationRejected","data unexpectedly falsey");return}throw new Error("data unexpectedly falsey")}this.log.replicants("declareReplicant callback (value: %s, revision: %s)",n.value,n.revision),this.status="declared",(this.revision!==n.revision||!Ik(this.value,n.value))&&this._assignValue(n.value,n.revision),"schema"in n&&(this.schema=n.schema,this.schemaSum=n.schemaSum,this.validate=this._generateValidator()),this.emit("declared",n),this.value===void 0&&this.revision===0&&this.emit("change",void 0,void 0,[]),this._actionQueue.length>0&&(this._actionQueue.forEach(o=>{var s;o.fn.apply(this,(s=o.args)!=null?s:[])}),this._actionQueue=[])})}))}_assignValue(r,n){let o=zt(this.value),s={path:"/",method:"overwrite",args:{newValue:r}};this._applyOperation(s),typeof n!="undefined"&&(this.revision=n),this.emit("change",this.value,o,[s])}_handleOperations(r){if(this.status!=="declared")return;let n=this.revision+1;if(r.name!==this.name||r.namespace!==this.namespace)return;if(r.revision!==n){this.log.warn('Not at head revision (ours: "%s", expected theirs to be "%s" but got "%s"), fetching latest...',this.revision,n,r.revision),this._fullUpdate(r.revision);return}this.log.replicants("received replicantOperations",r);let o=zt(this.value);r.operations.forEach(s=>{this._applyOperation(s)}),this.revision=r.revision,this.emit("change",this.value,o,r.operations)}_handleDisconnect(){this.status="undeclared",this._operationQueue.length=0,this._actionQueue.length=0}_fullUpdate(r){window.NodeCG.readReplicant(this.name,this.namespace,n=>{this.emit("fullUpdate",n),this._assignValue(n,r)})}};var sv=new WeakMap,nP=new Set;function k7(e,t,r){setTimeout(()=>{nP.forEach(n=>{n._messageHandlers.forEach(o=>{e===o.messageName&&t===o.bundleName&&o.func(r)})})},0)}var iv=class e extends aa{constructor(r,n){var o;super(r);this.soundsReady=!1;this._soundCues=[];this._replicantFactory=(r,n,o)=>new ln(r,n,o,this.socket);if(nP.add(this),globalThis.document&&document.addEventListener("DOMContentLoaded",()=>{document.title===""&&(document.title=this.bundleName)},!1),this.socket=n,this.socket.emit("joinRoom",r.name,()=>{}),globalThis.window&&r._hasSounds&&((o=window.createjs)!=null&&o.Sound)){let s=new ln("soundCues",this.bundleName,{},n);this._soundFiles=new ln("assets:sounds",this.bundleName,{},n),this._bundleVolume=new ln(`volume:${this.bundleName}`,"_sounds",{},n),this._masterVolume=new ln("volume:master","_sounds",{},n),this._soundCues=[];let i=new Set;window.createjs.Sound.on("fileload",c=>{if(this.soundsReady||!c.data.sum)return;i.add(c.data.sum),!this._soundCues.some(l=>l.file?!i.has(l.file.sum):!1)&&!this.soundsReady&&(this.soundsReady=!0,window.dispatchEvent(new CustomEvent("ncgSoundsReady")))});let a=()=>{var c;this._soundCues=(c=s.value)!=null?c:[],this._updateInstanceVolumes(),this._registerSounds()};s.on("change",a),this._soundFiles.on("change",()=>this._registerSounds.bind(this)),this._bundleVolume.on("change",()=>this._updateInstanceVolumes.bind(this)),this._masterVolume.on("change",()=>this._updateInstanceVolumes.bind(this))}n.on("message",s=>{this.log.trace("Received message %s (sent to bundle %s) with data:",s.messageName,s.bundleName,s.content),this._messageHandlers.forEach(i=>{s.messageName===i.messageName&&s.bundleName===i.bundleName&&i.func(s.content)})}),n.io.on("error",s=>{this.log.warn("Unhandled socket connection error:",s)}),n.on("protocol_error",s=>{if(s.type==="UnauthorizedError")if(globalThis.window){let i=[location.protocol,"//",location.host,location.pathname].join("");window.location.href=`/authError?code=${s.code}&message=${s.message}&viewUrl=${i}`}else globalThis.close();else this.log.error("Unhandled socket protocol error:",s)})}static Replicant(r,n,o={}){return new ln(r,n,o,globalThis.socket)}static sendMessageToBundle(r,n,o,s){let i=null;if(typeof o=="function"?s=o:i=o,k7(r,n,i),typeof s=="function")globalThis.socket.emit("message",{bundleName:n,messageName:r,content:i},(a,c)=>{c?s(a,c):s(a)});else return new Promise((a,c)=>{globalThis.socket.emit("message",{bundleName:n,messageName:r,content:i},(u,l)=>{u?c(u):a(l)})})}static readReplicant(r,n,o){globalThis.socket.emit("replicant:read",{name:r,namespace:n},(s,i)=>{s?console.error(s):o(i)})}get Logger(){return ki}get log(){return this._memoizedLogger?this._memoizedLogger:(this._memoizedLogger=new ki(this.bundleName),this._memoizedLogger)}get config(){return Object.freeze(JSON.parse(JSON.stringify(ss)))}getDialog(r,n){var i,a,c;if(!globalThis.window)return;n=n!=null?n:this.bundleName;let o=(i=window.top)==null?void 0:i.document;if(!o)return;let s=(c=(a=o.querySelector("ncg-dashboard"))==null?void 0:a.shadowRoot)==null?void 0:c.querySelector(`#dialogs #${n}_${r}`);return s!=null?s:void 0}getDialogDocument(r,n){var o,s,i;if(globalThis.window)return n=n!=null?n:this.bundleName,(i=(s=(o=this.getDialog(r,n))==null?void 0:o.querySelector("iframe"))==null?void 0:s.contentWindow)==null?void 0:i.document}findCue(r){return this._soundCues.find(n=>n.name===r)}playSound(r,{updateVolume:n=!0}={updateVolume:!0}){var i;if(!globalThis.window)throw new Error("NodeCG Sound API methods are not available in workers");if(!this._soundCues)throw new Error(`Bundle "${this.bundleName}" has no soundCues`);let o=this.findCue(r);if(!o)throw new Error(`Cue "${r}" does not exist in bundle "${this.bundleName}"`);if(!((i=window.createjs)!=null&&i.Sound))throw new Error("NodeCG Sound API methods are not available when SoundJS isn't present");if(!o.file)throw new Error('Cue $"{cueName}" does not have a file specified.');let s=window.createjs.Sound.play(r);return this._setInstanceVolume(s,o),sv.set(s,{cueName:r,updateVolume:n}),s}stopSound(r){var o;if(!globalThis.window)throw new Error("NodeCG Sound API methods are not available in workers");if(!this._soundCues)throw new Error(`Bundle "${this.bundleName}" has no soundCues`);if(!this._soundCues.find(s=>s.name===r))throw new Error(`Cue "${r}" does not exist in bundle "${this.bundleName}"`);if(!((o=window.createjs)!=null&&o.Sound))throw new Error("NodeCG Sound API methods are not available when SoundJS isn't present");let n=window.createjs.Sound._instances;for(let s=n.length-1;s>=0;s--){let i=n[s],a=sv.get(i);a&&a.cueName===r&&i.stop()}}stopAllSounds(){var r;if(!globalThis.window)throw new Error("NodeCG Sound API methods are not available in workers");if(!((r=window.createjs)!=null&&r.Sound))throw new Error("NodeCG Sound API methods are not available when SoundJS isn't present");window.createjs.Sound.stop()}sendMessageToBundle(r,n,o,s){return e.sendMessageToBundle(r,n,o,s)}sendMessage(r,n,o){return this.sendMessageToBundle(r,this.bundleName,n,o)}readReplicant(r,n,o){let s=this.bundleName,i;typeof n=="string"?(s=n,i=o):i=n,e.readReplicant(r,s,i)}_registerSounds(){if(!globalThis.window)throw new Error("NodeCG Sound API methods are not available in workers");this._soundCues.forEach(r=>{r.file&&window.createjs.Sound.registerSound(`${r.file.url}?sum=${r.file.sum}`,r.name,{channels:typeof r.channels=="undefined"?100:r.channels,sum:r.file.sum})})}_setInstanceVolume(r,n){var s,i;if(((s=this._masterVolume)==null?void 0:s.status)!=="declared"||typeof this._masterVolume.value!="number"||((i=this._bundleVolume)==null?void 0:i.status)!=="declared"||typeof this._bundleVolume.value!="number")return;let o=this._masterVolume.value/100*(this._bundleVolume.value/100)*(n.volume/100);r.volume=isFinite(o)?o:0}_updateInstanceVolumes(){let r=window.createjs.Sound._instances;this._soundCues.forEach(n=>{r.forEach(o=>{let s=sv.get(o);s&&s.cueName===n.name&&s.updateVolume&&this._setInstanceVolume(o,n)})})}};globalThis.NodeCG=iv;})();
//# sourceMappingURL=api.js.map
